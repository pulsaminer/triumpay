var solanaWeb3=(()=>{var Xl=Object.create;var Wn=Object.defineProperty;var Zl=Object.getOwnPropertyDescriptor;var Jl=Object.getOwnPropertyNames;var Ql=Object.getPrototypeOf,eh=Object.prototype.hasOwnProperty;var th=(n,e,t)=>e in n?Wn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var It=(n,e)=>()=>(n&&(e=n(n=0)),e);var Nt=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ms=(n,e)=>{for(var t in e)Wn(n,t,{get:e[t],enumerable:!0})},Ac=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Jl(e))!eh.call(n,o)&&o!==t&&Wn(n,o,{get:()=>e[o],enumerable:!(r=Zl(e,o))||r.enumerable});return n};var Zt=(n,e,t)=>(t=n!=null?Xl(Ql(n)):{},Ac(e||!n||!n.__esModule?Wn(t,"default",{value:n,enumerable:!0}):t,n)),_s=n=>Ac(Wn({},"__esModule",{value:!0}),n);var ve=(n,e,t)=>th(n,typeof e!="symbol"?e+"":e,t);var xc=Nt(ko=>{"use strict";ko.byteLength=nh;ko.toByteArray=ih;ko.fromByteArray=ch;var Jt=[],zt=[],rh=typeof Uint8Array<"u"?Uint8Array:Array,bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for($r=0,Ic=bs.length;$r<Ic;++$r)Jt[$r]=bs[$r],zt[bs.charCodeAt($r)]=$r;var $r,Ic;zt[45]=62;zt[95]=63;function vc(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function nh(n){var e=vc(n),t=e[0],r=e[1];return(t+r)*3/4-r}function oh(n,e,t){return(e+t)*3/4-t}function ih(n){var e,t=vc(n),r=t[0],o=t[1],i=new rh(oh(n,r,o)),s=0,c=o>0?r-4:r,u;for(u=0;u<c;u+=4)e=zt[n.charCodeAt(u)]<<18|zt[n.charCodeAt(u+1)]<<12|zt[n.charCodeAt(u+2)]<<6|zt[n.charCodeAt(u+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=zt[n.charCodeAt(u)]<<2|zt[n.charCodeAt(u+1)]>>4,i[s++]=e&255),o===1&&(e=zt[n.charCodeAt(u)]<<10|zt[n.charCodeAt(u+1)]<<4|zt[n.charCodeAt(u+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function sh(n){return Jt[n>>18&63]+Jt[n>>12&63]+Jt[n>>6&63]+Jt[n&63]}function ah(n,e,t){for(var r,o=[],i=e;i<t;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(sh(r));return o.join("")}function ch(n){for(var e,t=n.length,r=t%3,o=[],i=16383,s=0,c=t-r;s<c;s+=i)o.push(ah(n,s,s+i>c?c:s+i));return r===1?(e=n[t-1],o.push(Jt[e>>2]+Jt[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],o.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"=")),o.join("")}});var Oc=Nt(ws=>{ws.read=function(n,e,t,r,o){var i,s,c=o*8-r-1,u=(1<<c)-1,g=u>>1,_=-7,w=t?o-1:0,A=t?-1:1,R=n[e+w];for(w+=A,i=R&(1<<-_)-1,R>>=-_,_+=c;_>0;i=i*256+n[e+w],w+=A,_-=8);for(s=i&(1<<-_)-1,i>>=-_,_+=r;_>0;s=s*256+n[e+w],w+=A,_-=8);if(i===0)i=1-g;else{if(i===u)return s?NaN:(R?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-g}return(R?-1:1)*s*Math.pow(2,i-r)};ws.write=function(n,e,t,r,o,i){var s,c,u,g=i*8-o-1,_=(1<<g)-1,w=_>>1,A=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=r?0:i-1,v=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=_):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+w>=1?e+=A/u:e+=A*Math.pow(2,1-w),e*u>=2&&(s++,u/=2),s+w>=_?(c=0,s=_):s+w>=1?(c=(e*u-1)*Math.pow(2,o),s=s+w):(c=e*Math.pow(2,w-1)*Math.pow(2,o),s=0));o>=8;n[t+R]=c&255,R+=v,c/=256,o-=8);for(s=s<<o|c,g+=o;g>0;n[t+R]=s&255,R+=v,s/=256,g-=8);n[t+R-v]|=x*128}});var _n=Nt(mn=>{"use strict";var Es=xc(),gn=Oc(),kc=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mn.Buffer=B;mn.SlowBuffer=ph;mn.INSPECT_MAX_BYTES=50;var No=2147483647;mn.kMaxLength=No;B.TYPED_ARRAY_SUPPORT=uh();!B.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function uh(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(B.prototype,"parent",{enumerable:!0,get:function(){if(B.isBuffer(this))return this.buffer}});Object.defineProperty(B.prototype,"offset",{enumerable:!0,get:function(){if(B.isBuffer(this))return this.byteOffset}});function cr(n){if(n>No)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,B.prototype),e}function B(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Is(n)}return Lc(n,e,t)}B.poolSize=8192;function Lc(n,e,t){if(typeof n=="string")return lh(n,e);if(ArrayBuffer.isView(n))return hh(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Qt(n,ArrayBuffer)||n&&Qt(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qt(n,SharedArrayBuffer)||n&&Qt(n.buffer,SharedArrayBuffer)))return Ss(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return B.from(r,e,t);let o=dh(n);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return B.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}B.from=function(n,e,t){return Lc(n,e,t)};Object.setPrototypeOf(B.prototype,Uint8Array.prototype);Object.setPrototypeOf(B,Uint8Array);function Cc(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function fh(n,e,t){return Cc(n),n<=0?cr(n):e!==void 0?typeof t=="string"?cr(n).fill(e,t):cr(n).fill(e):cr(n)}B.alloc=function(n,e,t){return fh(n,e,t)};function Is(n){return Cc(n),cr(n<0?0:vs(n)|0)}B.allocUnsafe=function(n){return Is(n)};B.allocUnsafeSlow=function(n){return Is(n)};function lh(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!B.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Mc(n,e)|0,r=cr(t),o=r.write(n,e);return o!==t&&(r=r.slice(0,o)),r}function Rs(n){let e=n.length<0?0:vs(n.length)|0,t=cr(e);for(let r=0;r<e;r+=1)t[r]=n[r]&255;return t}function hh(n){if(Qt(n,Uint8Array)){let e=new Uint8Array(n);return Ss(e.buffer,e.byteOffset,e.byteLength)}return Rs(n)}function Ss(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&t===void 0?r=new Uint8Array(n):t===void 0?r=new Uint8Array(n,e):r=new Uint8Array(n,e,t),Object.setPrototypeOf(r,B.prototype),r}function dh(n){if(B.isBuffer(n)){let e=vs(n.length)|0,t=cr(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||Os(n.length)?cr(0):Rs(n);if(n.type==="Buffer"&&Array.isArray(n.data))return Rs(n.data)}function vs(n){if(n>=No)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+No.toString(16)+" bytes");return n|0}function ph(n){return+n!=n&&(n=0),B.alloc(+n)}B.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==B.prototype};B.compare=function(e,t){if(Qt(e,Uint8Array)&&(e=B.from(e,e.offset,e.byteLength)),Qt(t,Uint8Array)&&(t=B.from(t,t.offset,t.byteLength)),!B.isBuffer(e)||!B.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,o=t.length;for(let i=0,s=Math.min(r,o);i<s;++i)if(e[i]!==t[i]){r=e[i],o=t[i];break}return r<o?-1:o<r?1:0};B.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};B.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return B.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let o=B.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let s=e[r];if(Qt(s,Uint8Array))i+s.length>o.length?(B.isBuffer(s)||(s=B.from(s)),s.copy(o,i)):Uint8Array.prototype.set.call(o,s,i);else if(B.isBuffer(s))s.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=s.length}return o};function Mc(n,e){if(B.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Qt(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return As(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return $c(n).length;default:if(o)return r?-1:As(n).length;e=(""+e).toLowerCase(),o=!0}}B.byteLength=Mc;function gh(n,e,t){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return Ih(this,e,t);case"utf8":case"utf-8":return Uc(this,e,t);case"ascii":return Sh(this,e,t);case"latin1":case"binary":return Ah(this,e,t);case"base64":return Eh(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vh(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}B.prototype._isBuffer=!0;function Hr(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}B.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Hr(this,t,t+1);return this};B.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Hr(this,t,t+3),Hr(this,t+1,t+2);return this};B.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Hr(this,t,t+7),Hr(this,t+1,t+6),Hr(this,t+2,t+5),Hr(this,t+3,t+4);return this};B.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Uc(this,0,e):gh.apply(this,arguments)};B.prototype.toLocaleString=B.prototype.toString;B.prototype.equals=function(e){if(!B.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:B.compare(this,e)===0};B.prototype.inspect=function(){let e="",t=mn.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};kc&&(B.prototype[kc]=B.prototype.inspect);B.prototype.compare=function(e,t,r,o,i){if(Qt(e,Uint8Array)&&(e=B.from(e,e.offset,e.byteLength)),!B.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),t<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=r)return 0;if(o>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,o>>>=0,i>>>=0,this===e)return 0;let s=i-o,c=r-t,u=Math.min(s,c),g=this.slice(o,i),_=e.slice(t,r);for(let w=0;w<u;++w)if(g[w]!==_[w]){s=g[w],c=_[w];break}return s<c?-1:c<s?1:0};function Pc(n,e,t,r,o){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Os(t)&&(t=o?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(o)return-1;t=n.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=B.from(e,r)),B.isBuffer(e))return e.length===0?-1:Nc(n,e,t,r,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):Nc(n,[e],t,r,o);throw new TypeError("val must be string, number or Buffer")}function Nc(n,e,t,r,o){let i=1,s=n.length,c=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;i=2,s/=2,c/=2,t/=2}function u(_,w){return i===1?_[w]:_.readUInt16BE(w*i)}let g;if(o){let _=-1;for(g=t;g<s;g++)if(u(n,g)===u(e,_===-1?0:g-_)){if(_===-1&&(_=g),g-_+1===c)return _*i}else _!==-1&&(g-=g-_),_=-1}else for(t+c>s&&(t=s-c),g=t;g>=0;g--){let _=!0;for(let w=0;w<c;w++)if(u(n,g+w)!==u(e,w)){_=!1;break}if(_)return g}return-1}B.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};B.prototype.indexOf=function(e,t,r){return Pc(this,e,t,r,!0)};B.prototype.lastIndexOf=function(e,t,r){return Pc(this,e,t,r,!1)};function yh(n,e,t,r){t=Number(t)||0;let o=n.length-t;r?(r=Number(r),r>o&&(r=o)):r=o;let i=e.length;r>i/2&&(r=i/2);let s;for(s=0;s<r;++s){let c=parseInt(e.substr(s*2,2),16);if(Os(c))return s;n[t+s]=c}return s}function mh(n,e,t,r){return To(As(e,n.length-t),n,t,r)}function _h(n,e,t,r){return To(Nh(e),n,t,r)}function bh(n,e,t,r){return To($c(e),n,t,r)}function wh(n,e,t,r){return To(Th(e,n.length-t),n,t,r)}B.prototype.write=function(e,t,r,o){if(t===void 0)o="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")o=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,o===void 0&&(o="utf8")):(o=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return yh(this,e,t,r);case"utf8":case"utf-8":return mh(this,e,t,r);case"ascii":case"latin1":case"binary":return _h(this,e,t,r);case"base64":return bh(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wh(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};B.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Eh(n,e,t){return e===0&&t===n.length?Es.fromByteArray(n):Es.fromByteArray(n.slice(e,t))}function Uc(n,e,t){t=Math.min(n.length,t);let r=[],o=e;for(;o<t;){let i=n[o],s=null,c=i>239?4:i>223?3:i>191?2:1;if(o+c<=t){let u,g,_,w;switch(c){case 1:i<128&&(s=i);break;case 2:u=n[o+1],(u&192)===128&&(w=(i&31)<<6|u&63,w>127&&(s=w));break;case 3:u=n[o+1],g=n[o+2],(u&192)===128&&(g&192)===128&&(w=(i&15)<<12|(u&63)<<6|g&63,w>2047&&(w<55296||w>57343)&&(s=w));break;case 4:u=n[o+1],g=n[o+2],_=n[o+3],(u&192)===128&&(g&192)===128&&(_&192)===128&&(w=(i&15)<<18|(u&63)<<12|(g&63)<<6|_&63,w>65535&&w<1114112&&(s=w))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),o+=c}return Rh(r)}var Tc=4096;function Rh(n){let e=n.length;if(e<=Tc)return String.fromCharCode.apply(String,n);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=Tc));return t}function Sh(n,e,t){let r="";t=Math.min(n.length,t);for(let o=e;o<t;++o)r+=String.fromCharCode(n[o]&127);return r}function Ah(n,e,t){let r="";t=Math.min(n.length,t);for(let o=e;o<t;++o)r+=String.fromCharCode(n[o]);return r}function Ih(n,e,t){let r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let o="";for(let i=e;i<t;++i)o+=Bh[n[i]];return o}function vh(n,e,t){let r=n.slice(e,t),o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+r[i+1]*256);return o}B.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,B.prototype),o};function ut(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}B.prototype.readUintLE=B.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||ut(e,t,this.length);let o=this[e],i=1,s=0;for(;++s<t&&(i*=256);)o+=this[e+s]*i;return o};B.prototype.readUintBE=B.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||ut(e,t,this.length);let o=this[e+--t],i=1;for(;t>0&&(i*=256);)o+=this[e+--t]*i;return o};B.prototype.readUint8=B.prototype.readUInt8=function(e,t){return e=e>>>0,t||ut(e,1,this.length),this[e]};B.prototype.readUint16LE=B.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||ut(e,2,this.length),this[e]|this[e+1]<<8};B.prototype.readUint16BE=B.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||ut(e,2,this.length),this[e]<<8|this[e+1]};B.prototype.readUint32LE=B.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};B.prototype.readUint32BE=B.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};B.prototype.readBigUInt64LE=Ir(function(e){e=e>>>0,yn(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Gn(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});B.prototype.readBigUInt64BE=Ir(function(e){e=e>>>0,yn(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Gn(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(o)<<BigInt(32))+BigInt(i)});B.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||ut(e,t,this.length);let o=this[e],i=1,s=0;for(;++s<t&&(i*=256);)o+=this[e+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o};B.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||ut(e,t,this.length);let o=t,i=1,s=this[e+--o];for(;o>0&&(i*=256);)s+=this[e+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s};B.prototype.readInt8=function(e,t){return e=e>>>0,t||ut(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};B.prototype.readInt16LE=function(e,t){e=e>>>0,t||ut(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};B.prototype.readInt16BE=function(e,t){e=e>>>0,t||ut(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};B.prototype.readInt32LE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};B.prototype.readInt32BE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};B.prototype.readBigInt64LE=Ir(function(e){e=e>>>0,yn(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Gn(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});B.prototype.readBigInt64BE=Ir(function(e){e=e>>>0,yn(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Gn(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});B.prototype.readFloatLE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),gn.read(this,e,!0,23,4)};B.prototype.readFloatBE=function(e,t){return e=e>>>0,t||ut(e,4,this.length),gn.read(this,e,!1,23,4)};B.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||ut(e,8,this.length),gn.read(this,e,!0,52,8)};B.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||ut(e,8,this.length),gn.read(this,e,!1,52,8)};function Tt(n,e,t,r,o,i){if(!B.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}B.prototype.writeUintLE=B.prototype.writeUIntLE=function(e,t,r,o){if(e=+e,t=t>>>0,r=r>>>0,!o){let c=Math.pow(2,8*r)-1;Tt(this,e,t,r,c,0)}let i=1,s=0;for(this[t]=e&255;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r};B.prototype.writeUintBE=B.prototype.writeUIntBE=function(e,t,r,o){if(e=+e,t=t>>>0,r=r>>>0,!o){let c=Math.pow(2,8*r)-1;Tt(this,e,t,r,c,0)}let i=r-1,s=1;for(this[t+i]=e&255;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r};B.prototype.writeUint8=B.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,1,255,0),this[t]=e&255,t+1};B.prototype.writeUint16LE=B.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};B.prototype.writeUint16BE=B.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};B.prototype.writeUint32LE=B.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};B.prototype.writeUint32BE=B.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Dc(n,e,t,r,o){qc(e,r,o,n,t,7);let i=Number(e&BigInt(4294967295));n[t++]=i,i=i>>8,n[t++]=i,i=i>>8,n[t++]=i,i=i>>8,n[t++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function Fc(n,e,t,r,o){qc(e,r,o,n,t,7);let i=Number(e&BigInt(4294967295));n[t+7]=i,i=i>>8,n[t+6]=i,i=i>>8,n[t+5]=i,i=i>>8,n[t+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}B.prototype.writeBigUInt64LE=Ir(function(e,t=0){return Dc(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});B.prototype.writeBigUInt64BE=Ir(function(e,t=0){return Fc(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});B.prototype.writeIntLE=function(e,t,r,o){if(e=+e,t=t>>>0,!o){let u=Math.pow(2,8*r-1);Tt(this,e,t,r,u-1,-u)}let i=0,s=1,c=0;for(this[t]=e&255;++i<r&&(s*=256);)e<0&&c===0&&this[t+i-1]!==0&&(c=1),this[t+i]=(e/s>>0)-c&255;return t+r};B.prototype.writeIntBE=function(e,t,r,o){if(e=+e,t=t>>>0,!o){let u=Math.pow(2,8*r-1);Tt(this,e,t,r,u-1,-u)}let i=r-1,s=1,c=0;for(this[t+i]=e&255;--i>=0&&(s*=256);)e<0&&c===0&&this[t+i+1]!==0&&(c=1),this[t+i]=(e/s>>0)-c&255;return t+r};B.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};B.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};B.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};B.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};B.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||Tt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};B.prototype.writeBigInt64LE=Ir(function(e,t=0){return Dc(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});B.prototype.writeBigInt64BE=Ir(function(e,t=0){return Fc(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function zc(n,e,t,r,o,i){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Kc(n,e,t,r,o){return e=+e,t=t>>>0,o||zc(n,e,t,4,34028234663852886e22,-34028234663852886e22),gn.write(n,e,t,r,23,4),t+4}B.prototype.writeFloatLE=function(e,t,r){return Kc(this,e,t,!0,r)};B.prototype.writeFloatBE=function(e,t,r){return Kc(this,e,t,!1,r)};function Vc(n,e,t,r,o){return e=+e,t=t>>>0,o||zc(n,e,t,8,17976931348623157e292,-17976931348623157e292),gn.write(n,e,t,r,52,8),t+8}B.prototype.writeDoubleLE=function(e,t,r){return Vc(this,e,t,!0,r)};B.prototype.writeDoubleBE=function(e,t,r){return Vc(this,e,t,!1,r)};B.prototype.copy=function(e,t,r,o){if(!B.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<r&&(o=r),o===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);let i=o-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,o):Uint8Array.prototype.set.call(e,this.subarray(r,o),t),i};B.prototype.fill=function(e,t,r,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,r=this.length):typeof r=="string"&&(o=r,r=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!B.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let i;if(typeof e=="number")for(i=t;i<r;++i)this[i]=e;else{let s=B.isBuffer(e)?e:B.from(e,o),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%c]}return this};var pn={};function xs(n,e,t){pn[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}xs("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);xs("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);xs("ERR_OUT_OF_RANGE",function(n,e,t){let r=`The value of "${n}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=Bc(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=Bc(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r},RangeError);function Bc(n){let e="",t=n.length,r=n[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function xh(n,e,t){yn(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&Gn(e,n.length-(t+1))}function qc(n,e,t,r,o,i){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",c;throw i>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(i+1)*8}${s}`:c=`>= -(2${s} ** ${(i+1)*8-1}${s}) and < 2 ** ${(i+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${t}${s}`,new pn.ERR_OUT_OF_RANGE("value",c,n)}xh(r,o,i)}function yn(n,e){if(typeof n!="number")throw new pn.ERR_INVALID_ARG_TYPE(e,"number",n)}function Gn(n,e,t){throw Math.floor(n)!==n?(yn(n,t),new pn.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new pn.ERR_BUFFER_OUT_OF_BOUNDS:new pn.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var Oh=/[^+/0-9A-Za-z-_]/g;function kh(n){if(n=n.split("=")[0],n=n.trim().replace(Oh,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function As(n,e){e=e||1/0;let t,r=n.length,o=null,i=[];for(let s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function Nh(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function Th(n,e){let t,r,o,i=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,o=t%256,i.push(o),i.push(r);return i}function $c(n){return Es.toByteArray(kh(n))}function To(n,e,t,r){let o;for(o=0;o<r&&!(o+t>=e.length||o>=n.length);++o)e[o+t]=n[o];return o}function Qt(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function Os(n){return n!==n}var Bh=(function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let r=t*16;for(let o=0;o<16;++o)e[r+o]=n[t]+n[o]}return e})();function Ir(n){return typeof BigInt>"u"?Lh:n}function Lh(){throw new Error("BigInt not supported")}});var Lu=Nt(()=>{});var Qs=Nt((Cu,Js)=>{(function(n,e){"use strict";function t(p,a){if(!p)throw new Error(a||"Assertion failed")}function r(p,a){p.super_=a;var f=function(){};f.prototype=a.prototype,p.prototype=new f,p.prototype.constructor=p}function o(p,a,f){if(o.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(p||0,a||10,f||"be"))}typeof n=="object"?n.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=Lu().Buffer}catch{}o.isBN=function(a){return a instanceof o?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===o.wordSize&&Array.isArray(a.words)},o.max=function(a,f){return a.cmp(f)>0?a:f},o.min=function(a,f){return a.cmp(f)<0?a:f},o.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),t(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var d=0;a[0]==="-"&&(d++,this.negative=1),d<a.length&&(f===16?this._parseHex(a,d,h):(this._parseBase(a,f,d),h==="le"&&this._initArray(this.toArray(),f,h)))},o.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},o.prototype._initArray=function(a,f,h){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var y,E,I=0;if(h==="be")for(d=a.length-1,y=0;d>=0;d-=3)E=a[d]|a[d-1]<<8|a[d-2]<<16,this.words[y]|=E<<I&67108863,this.words[y+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,y++);else if(h==="le")for(d=0,y=0;d<a.length;d+=3)E=a[d]|a[d+1]<<8|a[d+2]<<16,this.words[y]|=E<<I&67108863,this.words[y+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,y++);return this._strip()};function s(p,a){var f=p.charCodeAt(a);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;t(!1,"Invalid character in "+p)}function c(p,a,f){var h=s(p,f);return f-1>=a&&(h|=s(p,f-1)<<4),h}o.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var y=0,E=0,I;if(h==="be")for(d=a.length-1;d>=f;d-=2)I=c(a,f,d)<<y,this.words[E]|=I&67108863,y>=18?(y-=18,E+=1,this.words[E]|=I>>>26):y+=8;else{var m=a.length-f;for(d=m%2===0?f+1:f;d<a.length;d+=2)I=c(a,f,d)<<y,this.words[E]|=I&67108863,y>=18?(y-=18,E+=1,this.words[E]|=I>>>26):y+=8}this._strip()};function u(p,a,f,h){for(var d=0,y=0,E=Math.min(p.length,f),I=a;I<E;I++){var m=p.charCodeAt(I)-48;d*=h,m>=49?y=m-49+10:m>=17?y=m-17+10:y=m,t(m>=0&&y<h,"Invalid character"),d+=y}return d}o.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var d=0,y=1;y<=67108863;y*=f)d++;d--,y=y/f|0;for(var E=a.length-h,I=E%d,m=Math.min(E,E-I)+h,l=0,b=h;b<m;b+=d)l=u(a,b,b+d,f),this.imuln(y),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var D=1;for(l=u(a,b,a.length,f),b=0;b<I;b++)D*=f;this.imuln(D),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red};function g(p,a){p.words=a.words,p.length=a.length,p.negative=a.negative,p.red=a.red}if(o.prototype._move=function(a){g(a,this)},o.prototype.clone=function(){var a=new o(null);return this.copy(a),a},o.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{o.prototype.inspect=_}else o.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var d=0,y=0,E=0;E<this.length;E++){var I=this.words[E],m=((I<<d|y)&16777215).toString(16);y=I>>>24-d&16777215,d+=2,d>=26&&(d-=26,E--),y!==0||E!==this.length-1?h=w[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var l=A[a],b=R[a];h="";var D=this.clone();for(D.negative=0;!D.isZero();){var U=D.modrn(b).toString(a);D=D.idivn(b),D.isZero()?h=U+h:h=w[l-U.length]+U+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}t(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},o.prototype.toJSON=function(){return this.toString(16,2)},i&&(o.prototype.toBuffer=function(a,f){return this.toArrayLike(i,a,f)}),o.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)};var v=function(a,f){return a.allocUnsafe?a.allocUnsafe(f):new a(f)};o.prototype.toArrayLike=function(a,f,h){this._strip();var d=this.byteLength(),y=h||Math.max(1,d);t(d<=y,"byte array longer than desired length"),t(y>0,"Requested array length <= 0");var E=v(a,y),I=f==="le"?"LE":"BE";return this["_toArrayLike"+I](E,d),E},o.prototype._toArrayLikeLE=function(a,f){for(var h=0,d=0,y=0,E=0;y<this.length;y++){var I=this.words[y]<<E|d;a[h++]=I&255,h<a.length&&(a[h++]=I>>8&255),h<a.length&&(a[h++]=I>>16&255),E===6?(h<a.length&&(a[h++]=I>>24&255),d=0,E=0):(d=I>>>24,E+=2)}if(h<a.length)for(a[h++]=d;h<a.length;)a[h++]=0},o.prototype._toArrayLikeBE=function(a,f){for(var h=a.length-1,d=0,y=0,E=0;y<this.length;y++){var I=this.words[y]<<E|d;a[h--]=I&255,h>=0&&(a[h--]=I>>8&255),h>=0&&(a[h--]=I>>16&255),E===6?(h>=0&&(a[h--]=I>>24&255),d=0,E=0):(d=I>>>24,E+=2)}if(h>=0)for(a[h--]=d;h>=0;)a[h--]=0},Math.clz32?o.prototype._countBits=function(a){return 32-Math.clz32(a)}:o.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},o.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return(f&8191)===0&&(h+=13,f>>>=13),(f&127)===0&&(h+=7,f>>>=7),(f&15)===0&&(h+=4,f>>>=4),(f&3)===0&&(h+=2,f>>>=2),(f&1)===0&&h++,h},o.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function x(p){for(var a=new Array(p.bitLength()),f=0;f<a.length;f++){var h=f/26|0,d=f%26;a[f]=p.words[h]>>>d&1}return a}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},o.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this._strip()},o.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},o.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},o.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},o.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this._strip()},o.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},o.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},o.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},o.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var d=0;d<h.length;d++)this.words[d]=f.words[d]^h.words[d];if(this!==f)for(;d<f.length;d++)this.words[d]=f.words[d];return this.length=f.length,this._strip()},o.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},o.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},o.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},o.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var d=0;d<f;d++)this.words[d]=~this.words[d]&67108863;return h>0&&(this.words[d]=~this.words[d]&67108863>>26-h),this._strip()},o.prototype.notn=function(a){return this.clone().inotn(a)},o.prototype.setn=function(a,f){t(typeof a=="number"&&a>=0);var h=a/26|0,d=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<d:this.words[h]=this.words[h]&~(1<<d),this._strip()},o.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,d;this.length>a.length?(h=this,d=a):(h=a,d=this);for(var y=0,E=0;E<d.length;E++)f=(h.words[E]|0)+(d.words[E]|0)+y,this.words[E]=f&67108863,y=f>>>26;for(;y!==0&&E<h.length;E++)f=(h.words[E]|0)+y,this.words[E]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;E<h.length;E++)this.words[E]=h.words[E];return this},o.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},o.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,y;h>0?(d=this,y=a):(d=a,y=this);for(var E=0,I=0;I<y.length;I++)f=(d.words[I]|0)-(y.words[I]|0)+E,E=f>>26,this.words[I]=f&67108863;for(;E!==0&&I<d.length;I++)f=(d.words[I]|0)+E,E=f>>26,this.words[I]=f&67108863;if(E===0&&I<d.length&&d!==this)for(;I<d.length;I++)this.words[I]=d.words[I];return this.length=Math.max(this.length,I),d!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(a){return this.clone().isub(a)};function T(p,a,f){f.negative=a.negative^p.negative;var h=p.length+a.length|0;f.length=h,h=h-1|0;var d=p.words[0]|0,y=a.words[0]|0,E=d*y,I=E&67108863,m=E/67108864|0;f.words[0]=I;for(var l=1;l<h;l++){for(var b=m>>>26,D=m&67108863,U=Math.min(l,a.length-1),V=Math.max(0,l-p.length+1);V<=U;V++){var X=l-V|0;d=p.words[X]|0,y=a.words[V]|0,E=d*y+D,b+=E/67108864|0,D=E&67108863}f.words[l]=D|0,m=b|0}return m!==0?f.words[l]=m|0:f.length--,f._strip()}var k=function(a,f,h){var d=a.words,y=f.words,E=h.words,I=0,m,l,b,D=d[0]|0,U=D&8191,V=D>>>13,X=d[1]|0,ne=X&8191,te=X>>>13,Ee=d[2]|0,le=Ee&8191,_e=Ee>>>13,Hn=d[3]|0,Oe=Hn&8191,ke=Hn>>>13,cc=d[4]|0,Ne=cc&8191,Te=cc>>>13,uc=d[5]|0,Be=uc&8191,Le=uc>>>13,fc=d[6]|0,Ce=fc&8191,Me=fc>>>13,lc=d[7]|0,Pe=lc&8191,Ue=lc>>>13,hc=d[8]|0,De=hc&8191,Fe=hc>>>13,dc=d[9]|0,ze=dc&8191,Ke=dc>>>13,pc=y[0]|0,Ve=pc&8191,qe=pc>>>13,gc=y[1]|0,$e=gc&8191,He=gc>>>13,yc=y[2]|0,We=yc&8191,Ge=yc>>>13,mc=y[3]|0,Ye=mc&8191,je=mc>>>13,_c=y[4]|0,Xe=_c&8191,Ze=_c>>>13,bc=y[5]|0,Je=bc&8191,Qe=bc>>>13,wc=y[6]|0,et=wc&8191,tt=wc>>>13,Ec=y[7]|0,rt=Ec&8191,nt=Ec>>>13,Rc=y[8]|0,ot=Rc&8191,it=Rc>>>13,Sc=y[9]|0,st=Sc&8191,at=Sc>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(U,Ve),l=Math.imul(U,qe),l=l+Math.imul(V,Ve)|0,b=Math.imul(V,qe);var Ji=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,m=Math.imul(ne,Ve),l=Math.imul(ne,qe),l=l+Math.imul(te,Ve)|0,b=Math.imul(te,qe),m=m+Math.imul(U,$e)|0,l=l+Math.imul(U,He)|0,l=l+Math.imul(V,$e)|0,b=b+Math.imul(V,He)|0;var Qi=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,m=Math.imul(le,Ve),l=Math.imul(le,qe),l=l+Math.imul(_e,Ve)|0,b=Math.imul(_e,qe),m=m+Math.imul(ne,$e)|0,l=l+Math.imul(ne,He)|0,l=l+Math.imul(te,$e)|0,b=b+Math.imul(te,He)|0,m=m+Math.imul(U,We)|0,l=l+Math.imul(U,Ge)|0,l=l+Math.imul(V,We)|0,b=b+Math.imul(V,Ge)|0;var es=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(es>>>26)|0,es&=67108863,m=Math.imul(Oe,Ve),l=Math.imul(Oe,qe),l=l+Math.imul(ke,Ve)|0,b=Math.imul(ke,qe),m=m+Math.imul(le,$e)|0,l=l+Math.imul(le,He)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,He)|0,m=m+Math.imul(ne,We)|0,l=l+Math.imul(ne,Ge)|0,l=l+Math.imul(te,We)|0,b=b+Math.imul(te,Ge)|0,m=m+Math.imul(U,Ye)|0,l=l+Math.imul(U,je)|0,l=l+Math.imul(V,Ye)|0,b=b+Math.imul(V,je)|0;var ts=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ts>>>26)|0,ts&=67108863,m=Math.imul(Ne,Ve),l=Math.imul(Ne,qe),l=l+Math.imul(Te,Ve)|0,b=Math.imul(Te,qe),m=m+Math.imul(Oe,$e)|0,l=l+Math.imul(Oe,He)|0,l=l+Math.imul(ke,$e)|0,b=b+Math.imul(ke,He)|0,m=m+Math.imul(le,We)|0,l=l+Math.imul(le,Ge)|0,l=l+Math.imul(_e,We)|0,b=b+Math.imul(_e,Ge)|0,m=m+Math.imul(ne,Ye)|0,l=l+Math.imul(ne,je)|0,l=l+Math.imul(te,Ye)|0,b=b+Math.imul(te,je)|0,m=m+Math.imul(U,Xe)|0,l=l+Math.imul(U,Ze)|0,l=l+Math.imul(V,Xe)|0,b=b+Math.imul(V,Ze)|0;var rs=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(rs>>>26)|0,rs&=67108863,m=Math.imul(Be,Ve),l=Math.imul(Be,qe),l=l+Math.imul(Le,Ve)|0,b=Math.imul(Le,qe),m=m+Math.imul(Ne,$e)|0,l=l+Math.imul(Ne,He)|0,l=l+Math.imul(Te,$e)|0,b=b+Math.imul(Te,He)|0,m=m+Math.imul(Oe,We)|0,l=l+Math.imul(Oe,Ge)|0,l=l+Math.imul(ke,We)|0,b=b+Math.imul(ke,Ge)|0,m=m+Math.imul(le,Ye)|0,l=l+Math.imul(le,je)|0,l=l+Math.imul(_e,Ye)|0,b=b+Math.imul(_e,je)|0,m=m+Math.imul(ne,Xe)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(te,Xe)|0,b=b+Math.imul(te,Ze)|0,m=m+Math.imul(U,Je)|0,l=l+Math.imul(U,Qe)|0,l=l+Math.imul(V,Je)|0,b=b+Math.imul(V,Qe)|0;var ns=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ns>>>26)|0,ns&=67108863,m=Math.imul(Ce,Ve),l=Math.imul(Ce,qe),l=l+Math.imul(Me,Ve)|0,b=Math.imul(Me,qe),m=m+Math.imul(Be,$e)|0,l=l+Math.imul(Be,He)|0,l=l+Math.imul(Le,$e)|0,b=b+Math.imul(Le,He)|0,m=m+Math.imul(Ne,We)|0,l=l+Math.imul(Ne,Ge)|0,l=l+Math.imul(Te,We)|0,b=b+Math.imul(Te,Ge)|0,m=m+Math.imul(Oe,Ye)|0,l=l+Math.imul(Oe,je)|0,l=l+Math.imul(ke,Ye)|0,b=b+Math.imul(ke,je)|0,m=m+Math.imul(le,Xe)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(_e,Xe)|0,b=b+Math.imul(_e,Ze)|0,m=m+Math.imul(ne,Je)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(te,Je)|0,b=b+Math.imul(te,Qe)|0,m=m+Math.imul(U,et)|0,l=l+Math.imul(U,tt)|0,l=l+Math.imul(V,et)|0,b=b+Math.imul(V,tt)|0;var os=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(os>>>26)|0,os&=67108863,m=Math.imul(Pe,Ve),l=Math.imul(Pe,qe),l=l+Math.imul(Ue,Ve)|0,b=Math.imul(Ue,qe),m=m+Math.imul(Ce,$e)|0,l=l+Math.imul(Ce,He)|0,l=l+Math.imul(Me,$e)|0,b=b+Math.imul(Me,He)|0,m=m+Math.imul(Be,We)|0,l=l+Math.imul(Be,Ge)|0,l=l+Math.imul(Le,We)|0,b=b+Math.imul(Le,Ge)|0,m=m+Math.imul(Ne,Ye)|0,l=l+Math.imul(Ne,je)|0,l=l+Math.imul(Te,Ye)|0,b=b+Math.imul(Te,je)|0,m=m+Math.imul(Oe,Xe)|0,l=l+Math.imul(Oe,Ze)|0,l=l+Math.imul(ke,Xe)|0,b=b+Math.imul(ke,Ze)|0,m=m+Math.imul(le,Je)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(_e,Je)|0,b=b+Math.imul(_e,Qe)|0,m=m+Math.imul(ne,et)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(te,et)|0,b=b+Math.imul(te,tt)|0,m=m+Math.imul(U,rt)|0,l=l+Math.imul(U,nt)|0,l=l+Math.imul(V,rt)|0,b=b+Math.imul(V,nt)|0;var is=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(is>>>26)|0,is&=67108863,m=Math.imul(De,Ve),l=Math.imul(De,qe),l=l+Math.imul(Fe,Ve)|0,b=Math.imul(Fe,qe),m=m+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(Ue,$e)|0,b=b+Math.imul(Ue,He)|0,m=m+Math.imul(Ce,We)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(Me,We)|0,b=b+Math.imul(Me,Ge)|0,m=m+Math.imul(Be,Ye)|0,l=l+Math.imul(Be,je)|0,l=l+Math.imul(Le,Ye)|0,b=b+Math.imul(Le,je)|0,m=m+Math.imul(Ne,Xe)|0,l=l+Math.imul(Ne,Ze)|0,l=l+Math.imul(Te,Xe)|0,b=b+Math.imul(Te,Ze)|0,m=m+Math.imul(Oe,Je)|0,l=l+Math.imul(Oe,Qe)|0,l=l+Math.imul(ke,Je)|0,b=b+Math.imul(ke,Qe)|0,m=m+Math.imul(le,et)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(_e,et)|0,b=b+Math.imul(_e,tt)|0,m=m+Math.imul(ne,rt)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(te,rt)|0,b=b+Math.imul(te,nt)|0,m=m+Math.imul(U,ot)|0,l=l+Math.imul(U,it)|0,l=l+Math.imul(V,ot)|0,b=b+Math.imul(V,it)|0;var ss=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ss>>>26)|0,ss&=67108863,m=Math.imul(ze,Ve),l=Math.imul(ze,qe),l=l+Math.imul(Ke,Ve)|0,b=Math.imul(Ke,qe),m=m+Math.imul(De,$e)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(Fe,$e)|0,b=b+Math.imul(Fe,He)|0,m=m+Math.imul(Pe,We)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Ue,We)|0,b=b+Math.imul(Ue,Ge)|0,m=m+Math.imul(Ce,Ye)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(Me,Ye)|0,b=b+Math.imul(Me,je)|0,m=m+Math.imul(Be,Xe)|0,l=l+Math.imul(Be,Ze)|0,l=l+Math.imul(Le,Xe)|0,b=b+Math.imul(Le,Ze)|0,m=m+Math.imul(Ne,Je)|0,l=l+Math.imul(Ne,Qe)|0,l=l+Math.imul(Te,Je)|0,b=b+Math.imul(Te,Qe)|0,m=m+Math.imul(Oe,et)|0,l=l+Math.imul(Oe,tt)|0,l=l+Math.imul(ke,et)|0,b=b+Math.imul(ke,tt)|0,m=m+Math.imul(le,rt)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(_e,rt)|0,b=b+Math.imul(_e,nt)|0,m=m+Math.imul(ne,ot)|0,l=l+Math.imul(ne,it)|0,l=l+Math.imul(te,ot)|0,b=b+Math.imul(te,it)|0,m=m+Math.imul(U,st)|0,l=l+Math.imul(U,at)|0,l=l+Math.imul(V,st)|0,b=b+Math.imul(V,at)|0;var as=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(as>>>26)|0,as&=67108863,m=Math.imul(ze,$e),l=Math.imul(ze,He),l=l+Math.imul(Ke,$e)|0,b=Math.imul(Ke,He),m=m+Math.imul(De,We)|0,l=l+Math.imul(De,Ge)|0,l=l+Math.imul(Fe,We)|0,b=b+Math.imul(Fe,Ge)|0,m=m+Math.imul(Pe,Ye)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Ue,Ye)|0,b=b+Math.imul(Ue,je)|0,m=m+Math.imul(Ce,Xe)|0,l=l+Math.imul(Ce,Ze)|0,l=l+Math.imul(Me,Xe)|0,b=b+Math.imul(Me,Ze)|0,m=m+Math.imul(Be,Je)|0,l=l+Math.imul(Be,Qe)|0,l=l+Math.imul(Le,Je)|0,b=b+Math.imul(Le,Qe)|0,m=m+Math.imul(Ne,et)|0,l=l+Math.imul(Ne,tt)|0,l=l+Math.imul(Te,et)|0,b=b+Math.imul(Te,tt)|0,m=m+Math.imul(Oe,rt)|0,l=l+Math.imul(Oe,nt)|0,l=l+Math.imul(ke,rt)|0,b=b+Math.imul(ke,nt)|0,m=m+Math.imul(le,ot)|0,l=l+Math.imul(le,it)|0,l=l+Math.imul(_e,ot)|0,b=b+Math.imul(_e,it)|0,m=m+Math.imul(ne,st)|0,l=l+Math.imul(ne,at)|0,l=l+Math.imul(te,st)|0,b=b+Math.imul(te,at)|0;var cs=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(cs>>>26)|0,cs&=67108863,m=Math.imul(ze,We),l=Math.imul(ze,Ge),l=l+Math.imul(Ke,We)|0,b=Math.imul(Ke,Ge),m=m+Math.imul(De,Ye)|0,l=l+Math.imul(De,je)|0,l=l+Math.imul(Fe,Ye)|0,b=b+Math.imul(Fe,je)|0,m=m+Math.imul(Pe,Xe)|0,l=l+Math.imul(Pe,Ze)|0,l=l+Math.imul(Ue,Xe)|0,b=b+Math.imul(Ue,Ze)|0,m=m+Math.imul(Ce,Je)|0,l=l+Math.imul(Ce,Qe)|0,l=l+Math.imul(Me,Je)|0,b=b+Math.imul(Me,Qe)|0,m=m+Math.imul(Be,et)|0,l=l+Math.imul(Be,tt)|0,l=l+Math.imul(Le,et)|0,b=b+Math.imul(Le,tt)|0,m=m+Math.imul(Ne,rt)|0,l=l+Math.imul(Ne,nt)|0,l=l+Math.imul(Te,rt)|0,b=b+Math.imul(Te,nt)|0,m=m+Math.imul(Oe,ot)|0,l=l+Math.imul(Oe,it)|0,l=l+Math.imul(ke,ot)|0,b=b+Math.imul(ke,it)|0,m=m+Math.imul(le,st)|0,l=l+Math.imul(le,at)|0,l=l+Math.imul(_e,st)|0,b=b+Math.imul(_e,at)|0;var us=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(us>>>26)|0,us&=67108863,m=Math.imul(ze,Ye),l=Math.imul(ze,je),l=l+Math.imul(Ke,Ye)|0,b=Math.imul(Ke,je),m=m+Math.imul(De,Xe)|0,l=l+Math.imul(De,Ze)|0,l=l+Math.imul(Fe,Xe)|0,b=b+Math.imul(Fe,Ze)|0,m=m+Math.imul(Pe,Je)|0,l=l+Math.imul(Pe,Qe)|0,l=l+Math.imul(Ue,Je)|0,b=b+Math.imul(Ue,Qe)|0,m=m+Math.imul(Ce,et)|0,l=l+Math.imul(Ce,tt)|0,l=l+Math.imul(Me,et)|0,b=b+Math.imul(Me,tt)|0,m=m+Math.imul(Be,rt)|0,l=l+Math.imul(Be,nt)|0,l=l+Math.imul(Le,rt)|0,b=b+Math.imul(Le,nt)|0,m=m+Math.imul(Ne,ot)|0,l=l+Math.imul(Ne,it)|0,l=l+Math.imul(Te,ot)|0,b=b+Math.imul(Te,it)|0,m=m+Math.imul(Oe,st)|0,l=l+Math.imul(Oe,at)|0,l=l+Math.imul(ke,st)|0,b=b+Math.imul(ke,at)|0;var fs=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(fs>>>26)|0,fs&=67108863,m=Math.imul(ze,Xe),l=Math.imul(ze,Ze),l=l+Math.imul(Ke,Xe)|0,b=Math.imul(Ke,Ze),m=m+Math.imul(De,Je)|0,l=l+Math.imul(De,Qe)|0,l=l+Math.imul(Fe,Je)|0,b=b+Math.imul(Fe,Qe)|0,m=m+Math.imul(Pe,et)|0,l=l+Math.imul(Pe,tt)|0,l=l+Math.imul(Ue,et)|0,b=b+Math.imul(Ue,tt)|0,m=m+Math.imul(Ce,rt)|0,l=l+Math.imul(Ce,nt)|0,l=l+Math.imul(Me,rt)|0,b=b+Math.imul(Me,nt)|0,m=m+Math.imul(Be,ot)|0,l=l+Math.imul(Be,it)|0,l=l+Math.imul(Le,ot)|0,b=b+Math.imul(Le,it)|0,m=m+Math.imul(Ne,st)|0,l=l+Math.imul(Ne,at)|0,l=l+Math.imul(Te,st)|0,b=b+Math.imul(Te,at)|0;var ls=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ls>>>26)|0,ls&=67108863,m=Math.imul(ze,Je),l=Math.imul(ze,Qe),l=l+Math.imul(Ke,Je)|0,b=Math.imul(Ke,Qe),m=m+Math.imul(De,et)|0,l=l+Math.imul(De,tt)|0,l=l+Math.imul(Fe,et)|0,b=b+Math.imul(Fe,tt)|0,m=m+Math.imul(Pe,rt)|0,l=l+Math.imul(Pe,nt)|0,l=l+Math.imul(Ue,rt)|0,b=b+Math.imul(Ue,nt)|0,m=m+Math.imul(Ce,ot)|0,l=l+Math.imul(Ce,it)|0,l=l+Math.imul(Me,ot)|0,b=b+Math.imul(Me,it)|0,m=m+Math.imul(Be,st)|0,l=l+Math.imul(Be,at)|0,l=l+Math.imul(Le,st)|0,b=b+Math.imul(Le,at)|0;var hs=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(hs>>>26)|0,hs&=67108863,m=Math.imul(ze,et),l=Math.imul(ze,tt),l=l+Math.imul(Ke,et)|0,b=Math.imul(Ke,tt),m=m+Math.imul(De,rt)|0,l=l+Math.imul(De,nt)|0,l=l+Math.imul(Fe,rt)|0,b=b+Math.imul(Fe,nt)|0,m=m+Math.imul(Pe,ot)|0,l=l+Math.imul(Pe,it)|0,l=l+Math.imul(Ue,ot)|0,b=b+Math.imul(Ue,it)|0,m=m+Math.imul(Ce,st)|0,l=l+Math.imul(Ce,at)|0,l=l+Math.imul(Me,st)|0,b=b+Math.imul(Me,at)|0;var ds=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ds>>>26)|0,ds&=67108863,m=Math.imul(ze,rt),l=Math.imul(ze,nt),l=l+Math.imul(Ke,rt)|0,b=Math.imul(Ke,nt),m=m+Math.imul(De,ot)|0,l=l+Math.imul(De,it)|0,l=l+Math.imul(Fe,ot)|0,b=b+Math.imul(Fe,it)|0,m=m+Math.imul(Pe,st)|0,l=l+Math.imul(Pe,at)|0,l=l+Math.imul(Ue,st)|0,b=b+Math.imul(Ue,at)|0;var ps=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(ps>>>26)|0,ps&=67108863,m=Math.imul(ze,ot),l=Math.imul(ze,it),l=l+Math.imul(Ke,ot)|0,b=Math.imul(Ke,it),m=m+Math.imul(De,st)|0,l=l+Math.imul(De,at)|0,l=l+Math.imul(Fe,st)|0,b=b+Math.imul(Fe,at)|0;var gs=(I+m|0)+((l&8191)<<13)|0;I=(b+(l>>>13)|0)+(gs>>>26)|0,gs&=67108863,m=Math.imul(ze,st),l=Math.imul(ze,at),l=l+Math.imul(Ke,st)|0,b=Math.imul(Ke,at);var ys=(I+m|0)+((l&8191)<<13)|0;return I=(b+(l>>>13)|0)+(ys>>>26)|0,ys&=67108863,E[0]=Ji,E[1]=Qi,E[2]=es,E[3]=ts,E[4]=rs,E[5]=ns,E[6]=os,E[7]=is,E[8]=ss,E[9]=as,E[10]=cs,E[11]=us,E[12]=fs,E[13]=ls,E[14]=hs,E[15]=ds,E[16]=ps,E[17]=gs,E[18]=ys,I!==0&&(E[19]=I,h.length++),h};Math.imul||(k=T);function P(p,a,f){f.negative=a.negative^p.negative,f.length=p.length+a.length;for(var h=0,d=0,y=0;y<f.length-1;y++){var E=d;d=0;for(var I=h&67108863,m=Math.min(y,a.length-1),l=Math.max(0,y-p.length+1);l<=m;l++){var b=y-l,D=p.words[b]|0,U=a.words[l]|0,V=D*U,X=V&67108863;E=E+(V/67108864|0)|0,X=X+I|0,I=X&67108863,E=E+(X>>>26)|0,d+=E>>>26,E&=67108863}f.words[y]=I,h=E,E=d}return h!==0?f.words[y]=h:f.length--,f._strip()}function L(p,a,f){return P(p,a,f)}o.prototype.mulTo=function(a,f){var h,d=this.length+a.length;return this.length===10&&a.length===10?h=k(this,a,f):d<63?h=T(this,a,f):d<1024?h=P(this,a,f):h=L(this,a,f),h};function z(p,a){this.x=p,this.y=a}z.prototype.makeRBT=function(a){for(var f=new Array(a),h=o.prototype._countBits(a)-1,d=0;d<a;d++)f[d]=this.revBin(d,h,a);return f},z.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var d=0,y=0;y<f;y++)d|=(a&1)<<f-y-1,a>>=1;return d},z.prototype.permute=function(a,f,h,d,y,E){for(var I=0;I<E;I++)d[I]=f[a[I]],y[I]=h[a[I]]},z.prototype.transform=function(a,f,h,d,y,E){this.permute(E,a,f,h,d,y);for(var I=1;I<y;I<<=1)for(var m=I<<1,l=Math.cos(2*Math.PI/m),b=Math.sin(2*Math.PI/m),D=0;D<y;D+=m)for(var U=l,V=b,X=0;X<I;X++){var ne=h[D+X],te=d[D+X],Ee=h[D+X+I],le=d[D+X+I],_e=U*Ee-V*le;le=U*le+V*Ee,Ee=_e,h[D+X]=ne+Ee,d[D+X]=te+le,h[D+X+I]=ne-Ee,d[D+X+I]=te-le,X!==m&&(_e=l*U-b*V,V=l*V+b*U,U=_e)}},z.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,d=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+d},z.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var d=0;d<h/2;d++){var y=a[d];a[d]=a[h-d-1],a[h-d-1]=y,y=f[d],f[d]=-f[h-d-1],f[h-d-1]=-y}},z.prototype.normalize13b=function(a,f){for(var h=0,d=0;d<f/2;d++){var y=Math.round(a[2*d+1]/f)*8192+Math.round(a[2*d]/f)+h;a[d]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},z.prototype.convert13b=function(a,f,h,d){for(var y=0,E=0;E<f;E++)y=y+(a[E]|0),h[2*E]=y&8191,y=y>>>13,h[2*E+1]=y&8191,y=y>>>13;for(E=2*f;E<d;++E)h[E]=0;t(y===0),t((y&-8192)===0)},z.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},z.prototype.mulp=function(a,f,h){var d=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(d),E=this.stub(d),I=new Array(d),m=new Array(d),l=new Array(d),b=new Array(d),D=new Array(d),U=new Array(d),V=h.words;V.length=d,this.convert13b(a.words,a.length,I,d),this.convert13b(f.words,f.length,b,d),this.transform(I,E,m,l,d,y),this.transform(b,E,D,U,d,y);for(var X=0;X<d;X++){var ne=m[X]*D[X]-l[X]*U[X];l[X]=m[X]*U[X]+l[X]*D[X],m[X]=ne}return this.conjugate(m,l,d),this.transform(m,l,V,E,d,y),this.conjugate(V,E,d),this.normalize13b(V,d),h.negative=a.negative^f.negative,h.length=a.length+f.length,h._strip()},o.prototype.mul=function(a){var f=new o(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},o.prototype.mulf=function(a){var f=new o(null);return f.words=new Array(this.length+a.length),L(this,a,f)},o.prototype.imul=function(a){return this.clone().mulTo(a,this)},o.prototype.imuln=function(a){var f=a<0;f&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var h=0,d=0;d<this.length;d++){var y=(this.words[d]|0)*a,E=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=E>>>26,this.words[d]=E&67108863}return h!==0&&(this.words[d]=h,this.length++),this.length=a===0?1:this.length,f?this.ineg():this},o.prototype.muln=function(a){return this.clone().imuln(a)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(a){var f=x(a);if(f.length===0)return new o(1);for(var h=this,d=0;d<f.length&&f[d]===0;d++,h=h.sqr());if(++d<f.length)for(var y=h.sqr();d<f.length;d++,y=y.sqr())f[d]!==0&&(h=h.mul(y));return h},o.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,d=67108863>>>26-f<<26-f,y;if(f!==0){var E=0;for(y=0;y<this.length;y++){var I=this.words[y]&d,m=(this.words[y]|0)-I<<f;this.words[y]=m|E,E=I>>>26-f}E&&(this.words[y]=E,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},o.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},o.prototype.iushrn=function(a,f,h){t(typeof a=="number"&&a>=0);var d;f?d=(f-f%26)/26:d=0;var y=a%26,E=Math.min((a-y)/26,this.length),I=67108863^67108863>>>y<<y,m=h;if(d-=E,d=Math.max(0,d),m){for(var l=0;l<E;l++)m.words[l]=this.words[l];m.length=E}if(E!==0)if(this.length>E)for(this.length-=E,l=0;l<this.length;l++)this.words[l]=this.words[l+E];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=d);l--){var D=this.words[l]|0;this.words[l]=b<<26-y|D>>>y,b=D&I}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(a,f,h){return t(this.negative===0),this.iushrn(a,f,h)},o.prototype.shln=function(a){return this.clone().ishln(a)},o.prototype.ushln=function(a){return this.clone().iushln(a)},o.prototype.shrn=function(a){return this.clone().ishrn(a)},o.prototype.ushrn=function(a){return this.clone().iushrn(a)},o.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,d=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&d)},o.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var d=67108863^67108863>>>f<<f;this.words[this.length-1]&=d}return this._strip()},o.prototype.maskn=function(a){return this.clone().imaskn(a)},o.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},o.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},o.prototype.addn=function(a){return this.clone().iaddn(a)},o.prototype.subn=function(a){return this.clone().isubn(a)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(a,f,h){var d=a.length+h,y;this._expand(d);var E,I=0;for(y=0;y<a.length;y++){E=(this.words[y+h]|0)+I;var m=(a.words[y]|0)*f;E-=m&67108863,I=(E>>26)-(m/67108864|0),this.words[y+h]=E&67108863}for(;y<this.length-h;y++)E=(this.words[y+h]|0)+I,I=E>>26,this.words[y+h]=E&67108863;if(I===0)return this._strip();for(t(I===-1),I=0,y=0;y<this.length;y++)E=-(this.words[y]|0)+I,I=E>>26,this.words[y]=E&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(a,f){var h=this.length-a.length,d=this.clone(),y=a,E=y.words[y.length-1]|0,I=this._countBits(E);h=26-I,h!==0&&(y=y.ushln(h),d.iushln(h),E=y.words[y.length-1]|0);var m=d.length-y.length,l;if(f!=="mod"){l=new o(null),l.length=m+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var D=d.clone()._ishlnsubmul(y,1,m);D.negative===0&&(d=D,l&&(l.words[m]=1));for(var U=m-1;U>=0;U--){var V=(d.words[y.length+U]|0)*67108864+(d.words[y.length+U-1]|0);for(V=Math.min(V/E|0,67108863),d._ishlnsubmul(y,V,U);d.negative!==0;)V--,d.negative=0,d._ishlnsubmul(y,1,U),d.isZero()||(d.negative^=1);l&&(l.words[U]=V)}return l&&l._strip(),d._strip(),f!=="div"&&h!==0&&d.iushrn(h),{div:l||null,mod:d}},o.prototype.divmod=function(a,f,h){if(t(!a.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var d,y,E;return this.negative!==0&&a.negative===0?(E=this.neg().divmod(a,f),f!=="mod"&&(d=E.div.neg()),f!=="div"&&(y=E.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:d,mod:y}):this.negative===0&&a.negative!==0?(E=this.divmod(a.neg(),f),f!=="mod"&&(d=E.div.neg()),{div:d,mod:E.mod}):(this.negative&a.negative)!==0?(E=this.neg().divmod(a.neg(),f),f!=="div"&&(y=E.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:E.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new o(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new o(this.modrn(a.words[0]))}:this._wordDiv(a,f)},o.prototype.div=function(a){return this.divmod(a,"div",!1).div},o.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},o.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},o.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,d=a.ushrn(1),y=a.andln(1),E=h.cmp(d);return E<0||y===1&&E===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modrn=function(a){var f=a<0;f&&(a=-a),t(a<=67108863);for(var h=(1<<26)%a,d=0,y=this.length-1;y>=0;y--)d=(h*d+(this.words[y]|0))%a;return f?-d:d},o.prototype.modn=function(a){return this.modrn(a)},o.prototype.idivn=function(a){var f=a<0;f&&(a=-a),t(a<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var y=(this.words[d]|0)+h*67108864;this.words[d]=y/a|0,h=y%a}return this._strip(),f?this.ineg():this},o.prototype.divn=function(a){return this.clone().idivn(a)},o.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var d=new o(1),y=new o(0),E=new o(0),I=new o(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var l=h.clone(),b=f.clone();!f.isZero();){for(var D=0,U=1;(f.words[0]&U)===0&&D<26;++D,U<<=1);if(D>0)for(f.iushrn(D);D-- >0;)(d.isOdd()||y.isOdd())&&(d.iadd(l),y.isub(b)),d.iushrn(1),y.iushrn(1);for(var V=0,X=1;(h.words[0]&X)===0&&V<26;++V,X<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(l),I.isub(b)),E.iushrn(1),I.iushrn(1);f.cmp(h)>=0?(f.isub(h),d.isub(E),y.isub(I)):(h.isub(f),E.isub(d),I.isub(y))}return{a:E,b:I,gcd:h.iushln(m)}},o.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var d=new o(1),y=new o(0),E=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var I=0,m=1;(f.words[0]&m)===0&&I<26;++I,m<<=1);if(I>0)for(f.iushrn(I);I-- >0;)d.isOdd()&&d.iadd(E),d.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),d.isub(y)):(h.isub(f),y.isub(d))}var D;return f.cmpn(1)===0?D=d:D=y,D.cmpn(0)<0&&D.iadd(a),D},o.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var d=0;f.isEven()&&h.isEven();d++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var E=f;f=h,h=E}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(d)},o.prototype.invm=function(a){return this.egcd(a).a.umod(a)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(a){return this.words[0]&a},o.prototype.bincn=function(a){t(typeof a=="number");var f=a%26,h=(a-f)/26,d=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=d,this;for(var y=d,E=h;y!==0&&E<this.length;E++){var I=this.words[E]|0;I+=y,y=I>>>26,I&=67108863,this.words[E]=I}return y!==0&&(this.words[E]=y,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var h;if(this.length>1)h=1;else{f&&(a=-a),t(a<=67108863,"Number is too big");var d=this.words[0]|0;h=d===a?0:d<a?-1:1}return this.negative!==0?-h|0:h},o.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var d=this.words[h]|0,y=a.words[h]|0;if(d!==y){d<y?f=-1:d>y&&(f=1);break}}return f},o.prototype.gtn=function(a){return this.cmpn(a)===1},o.prototype.gt=function(a){return this.cmp(a)===1},o.prototype.gten=function(a){return this.cmpn(a)>=0},o.prototype.gte=function(a){return this.cmp(a)>=0},o.prototype.ltn=function(a){return this.cmpn(a)===-1},o.prototype.lt=function(a){return this.cmp(a)===-1},o.prototype.lten=function(a){return this.cmpn(a)<=0},o.prototype.lte=function(a){return this.cmp(a)<=0},o.prototype.eqn=function(a){return this.cmpn(a)===0},o.prototype.eq=function(a){return this.cmp(a)===0},o.red=function(a){return new W(a)},o.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},o.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(a){return this.red=a,this},o.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},o.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},o.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},o.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},o.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},o.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},o.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},o.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},o.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var Q={k256:null,p224:null,p192:null,p25519:null};function J(p,a){this.name=p,this.p=new o(a,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var a=new o(null);return a.words=new Array(Math.ceil(this.n/13)),a},J.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var d=h<this.n?-1:f.ucmp(this.p);return d===0?(f.words[0]=0,f.length=1):d>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},J.prototype.split=function(a,f){a.iushrn(this.n,0,f)},J.prototype.imulK=function(a){return a.imul(this.k)};function oe(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(oe,J),oe.prototype.split=function(a,f){for(var h=4194303,d=Math.min(a.length,9),y=0;y<d;y++)f.words[y]=a.words[y];if(f.length=d,a.length<=9){a.words[0]=0,a.length=1;return}var E=a.words[9];for(f.words[f.length++]=E&h,y=10;y<a.length;y++){var I=a.words[y]|0;a.words[y-10]=(I&h)<<4|E>>>22,E=I}E>>>=22,a.words[y-10]=E,E===0&&a.length>10?a.length-=10:a.length-=9},oe.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var d=a.words[h]|0;f+=d*977,a.words[h]=f&67108863,f=d*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function re(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(re,J);function C(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(C,J);function j(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(j,J),j.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var d=(a.words[h]|0)*19+f,y=d&67108863;d>>>=26,a.words[h]=y,f=d}return f!==0&&(a.words[a.length++]=f),a},o._prime=function(a){if(Q[a])return Q[a];var f;if(a==="k256")f=new oe;else if(a==="p224")f=new re;else if(a==="p192")f=new C;else if(a==="p25519")f=new j;else throw new Error("Unknown prime "+a);return Q[a]=f,f};function W(p){if(typeof p=="string"){var a=o._prime(p);this.m=a.p,this.prime=a}else t(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}W.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},W.prototype._verify2=function(a,f){t((a.negative|f.negative)===0,"red works only with positives"),t(a.red&&a.red===f.red,"red works only with red numbers")},W.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(g(a,a.umod(this.m)._forceRed(this)),a)},W.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},W.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},W.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},W.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},W.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},W.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},W.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},W.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},W.prototype.isqr=function(a){return this.imul(a,a.clone())},W.prototype.sqr=function(a){return this.mul(a,a)},W.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(t(f%2===1),f===3){var h=this.m.add(new o(1)).iushrn(2);return this.pow(a,h)}for(var d=this.m.subn(1),y=0;!d.isZero()&&d.andln(1)===0;)y++,d.iushrn(1);t(!d.isZero());var E=new o(1).toRed(this),I=E.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,m).cmp(I)!==0;)l.redIAdd(I);for(var b=this.pow(l,d),D=this.pow(a,d.addn(1).iushrn(1)),U=this.pow(a,d),V=y;U.cmp(E)!==0;){for(var X=U,ne=0;X.cmp(E)!==0;ne++)X=X.redSqr();t(ne<V);var te=this.pow(b,new o(1).iushln(V-ne-1));D=D.redMul(te),b=te.redSqr(),U=U.redMul(b),V=ne}return D},W.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},W.prototype.pow=function(a,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,d=new Array(1<<h);d[0]=new o(1).toRed(this),d[1]=a;for(var y=2;y<d.length;y++)d[y]=this.mul(d[y-1],a);var E=d[0],I=0,m=0,l=f.bitLength()%26;for(l===0&&(l=26),y=f.length-1;y>=0;y--){for(var b=f.words[y],D=l-1;D>=0;D--){var U=b>>D&1;if(E!==d[0]&&(E=this.sqr(E)),U===0&&I===0){m=0;continue}I<<=1,I|=U,m++,!(m!==h&&(y!==0||D!==0))&&(E=this.mul(E,d[I]),m=0,I=0)}l=26}return E},W.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},W.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},o.mont=function(a){return new G(a)};function G(p){W.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(G,W),G.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},G.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},G.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(d).iushrn(this.shift),E=y;return y.cmp(this.m)>=0?E=y.isub(this.m):y.cmpn(0)<0&&(E=y.iadd(this.m)),E._forceRed(this)},G.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new o(0)._forceRed(this);var h=a.mul(f),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(d).iushrn(this.shift),E=y;return y.cmp(this.m)>=0?E=y.isub(this.m):y.cmpn(0)<0&&(E=y.iadd(this.m)),E._forceRed(this)},G.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(typeof Js>"u"||Js,Cu)});var Uu=Nt((ea,Pu)=>{var $o=_n(),tr=$o.Buffer;function Mu(n,e){for(var t in n)e[t]=n[t]}tr.from&&tr.alloc&&tr.allocUnsafe&&tr.allocUnsafeSlow?Pu.exports=$o:(Mu($o,ea),ea.Buffer=Qr);function Qr(n,e,t){return tr(n,e,t)}Qr.prototype=Object.create(tr.prototype);Mu(tr,Qr);Qr.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return tr(n,e,t)};Qr.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var r=tr(n);return e!==void 0?typeof t=="string"?r.fill(e,t):r.fill(e):r.fill(0),r};Qr.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return tr(n)};Qr.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return $o.SlowBuffer(n)}});var Fu=Nt((wb,Du)=>{"use strict";var Ho=Uu().Buffer;function _d(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var s=n.length,c=n.charAt(0),u=Math.log(s)/Math.log(256),g=Math.log(256)/Math.log(s);function _(R){if((Array.isArray(R)||R instanceof Uint8Array)&&(R=Ho.from(R)),!Ho.isBuffer(R))throw new TypeError("Expected Buffer");if(R.length===0)return"";for(var v=0,x=0,T=0,k=R.length;T!==k&&R[T]===0;)T++,v++;for(var P=(k-T)*g+1>>>0,L=new Uint8Array(P);T!==k;){for(var z=R[T],Q=0,J=P-1;(z!==0||Q<x)&&J!==-1;J--,Q++)z+=256*L[J]>>>0,L[J]=z%s>>>0,z=z/s>>>0;if(z!==0)throw new Error("Non-zero carry");x=Q,T++}for(var oe=P-x;oe!==P&&L[oe]===0;)oe++;for(var re=c.repeat(v);oe<P;++oe)re+=n.charAt(L[oe]);return re}function w(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return Ho.alloc(0);for(var v=0,x=0,T=0;R[v]===c;)x++,v++;for(var k=(R.length-v)*u+1>>>0,P=new Uint8Array(k);v<R.length;){var L=R.charCodeAt(v);if(L>255)return;var z=e[L];if(z===255)return;for(var Q=0,J=k-1;(z!==0||Q<T)&&J!==-1;J--,Q++)z+=s*P[J]>>>0,P[J]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");T=Q,v++}for(var oe=k-T;oe!==k&&P[oe]===0;)oe++;var re=Ho.allocUnsafe(x+(k-oe));re.fill(0,0,x);for(var C=x;oe!==k;)re[C++]=P[oe++];return re}function A(R){var v=w(R);if(v)return v;throw new Error("Non-base"+s+" character")}return{encode:_,decodeUnsafe:w,decode:A}}Du.exports=_d});var ta=Nt((Eb,zu)=>{var bd=Fu(),wd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";zu.exports=bd(wd)});var Ku=Nt(ia=>{"use strict";function br(n,e,t){return e<=n&&n<=t}function Xo(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Ed(n){for(var e=String(n),t=e.length,r=0,o=[];r<t;){var i=e.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===t-1)o.push(65533);else{var s=n.charCodeAt(r+1);if(56320<=s&&s<=57343){var c=i&1023,u=s&1023;o.push(65536+(c<<10)+u),r+=1}else o.push(65533)}r+=1}return o}function Rd(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Wo=-1;function oa(n){this.tokens=[].slice.call(n)}oa.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Wo},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var vn=-1;function na(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Go="utf-8";function Yo(n,e){if(!(this instanceof Yo))return new Yo(n,e);if(n=n!==void 0?String(n).toLowerCase():Go,n!==Go)throw new Error("Encoding not supported. Only utf-8 is supported");e=Xo(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Yo.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Xo(t),this._streaming||(this._decoder=new Sd({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var o=new oa(r),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==vn);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===vn)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Rd(i)}};function jo(n,e){if(!(this instanceof jo))return new jo(n,e);if(n=n!==void 0?String(n).toLowerCase():Go,n!==Go)throw new Error("Encoding not supported. Only utf-8 is supported");e=Xo(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}jo.prototype={encode:function(e,t){e=e?String(e):"",t=Xo(t),this._streaming||(this._encoder=new Ad(this._options)),this._streaming=!!t.stream;for(var r=[],o=new oa(Ed(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==vn);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==vn;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Sd(n){var e=n.fatal,t=0,r=0,o=0,i=128,s=191;this.handler=function(c,u){if(u===Wo&&o!==0)return o=0,na(e);if(u===Wo)return vn;if(o===0){if(br(u,0,127))return u;if(br(u,194,223))o=1,t=u-192;else if(br(u,224,239))u===224&&(i=160),u===237&&(s=159),o=2,t=u-224;else if(br(u,240,244))u===240&&(i=144),u===244&&(s=143),o=3,t=u-240;else return na(e);return t=t<<6*o,null}if(!br(u,i,s))return t=o=r=0,i=128,s=191,c.prepend(u),na(e);if(i=128,s=191,r+=1,t+=u-128<<6*(o-r),r!==o)return null;var g=t;return t=o=r=0,g}}function Ad(n){var e=n.fatal;this.handler=function(t,r){if(r===Wo)return vn;if(br(r,0,127))return r;var o,i;br(r,128,2047)?(o=1,i=192):br(r,2048,65535)?(o=2,i=224):br(r,65536,1114111)&&(o=3,i=240);for(var s=[(r>>6*o)+i];o>0;){var c=r>>6*(o-1);s.push(128|c&63),o-=1}return s}}ia.TextEncoder=jo;ia.TextDecoder=Yo});var Wu=Nt(me=>{"use strict";var Id=me&&me.__createBinding||(Object.create?(function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]})),vd=me&&me.__setModuleDefault||(Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e}),rr=me&&me.__decorate||function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(s=n[c])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},xd=me&&me.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&Id(e,n,t);return vd(e,n),e},Vu=me&&me.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(me,"__esModule",{value:!0});me.deserializeUnchecked=me.deserialize=me.serialize=me.BinaryReader=me.BinaryWriter=me.BorshError=me.baseDecode=me.baseEncode=void 0;var Mr=Vu(Qs()),qu=Vu(ta()),Od=xd(Ku()),kd=typeof TextDecoder!="function"?Od.TextDecoder:TextDecoder,Nd=new kd("utf-8",{fatal:!0});function Td(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),qu.default.encode(Buffer.from(n))}me.baseEncode=Td;function Bd(n){return Buffer.from(qu.default.decode(n))}me.baseDecode=Bd;var sa=1024,yt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};me.BorshError=yt;var Zo=class{constructor(){this.buf=Buffer.alloc(sa),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(sa)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mr.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mr.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mr.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Mr.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(sa)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}};me.BinaryWriter=Zo;function nr(n,e,t){let r=t.value;t.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){let s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new yt("Reached the end of buffer when deserializing")}throw i}}}var Ot=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Mr.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Mr.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Mr.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Mr.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new yt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return Nd.decode(t)}catch(r){throw new yt(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=Array();for(let o=0;o<t;++o)r.push(e());return r}};rr([nr],Ot.prototype,"readU8",null);rr([nr],Ot.prototype,"readU16",null);rr([nr],Ot.prototype,"readU32",null);rr([nr],Ot.prototype,"readU64",null);rr([nr],Ot.prototype,"readU128",null);rr([nr],Ot.prototype,"readU256",null);rr([nr],Ot.prototype,"readU512",null);rr([nr],Ot.prototype,"readString",null);rr([nr],Ot.prototype,"readFixedArray",null);rr([nr],Ot.prototype,"readArray",null);me.BinaryReader=Ot;function $u(n){return n.charAt(0).toUpperCase()+n.slice(1)}function en(n,e,t,r,o){try{if(typeof r=="string")o[`write${$u(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new yt(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new yt(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let i=0;i<r[1];i++)en(n,null,t[i],r[0],o)}else o.writeArray(t,i=>{en(n,e,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),en(n,e,t,r.type,o));break}case"map":{o.writeU32(t.size),t.forEach((i,s)=>{en(n,e,s,r.key,o),en(n,e,i,r.value,o)});break}default:throw new yt(`FieldType ${r} unrecognized`)}else Hu(n,t,o)}catch(i){throw i instanceof yt&&i.addToFieldPath(e),i}}function Hu(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let r=n.get(e.constructor);if(!r)throw new yt(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{en(n,o,e[o],i,t)});else if(r.kind==="enum"){let o=e[r.field];for(let i=0;i<r.values.length;++i){let[s,c]=r.values[i];if(s===o){t.writeU8(i),en(n,s,e[s],c,t);break}}}else throw new yt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Ld(n,e,t=Zo){let r=new t;return Hu(n,e,r),r.toArray()}me.serialize=Ld;function tn(n,e,t,r){try{if(typeof t=="string")return r[`read${$u(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){let o=[];for(let i=0;i<t[1];i++)o.push(tn(n,null,t[0],r));return o}else return r.readArray(()=>tn(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?tn(n,e,t.type,r):void 0;if(t.kind==="map"){let o=new Map,i=r.readU32();for(let s=0;s<i;s++){let c=tn(n,e,t.key,r),u=tn(n,e,t.value,r);o.set(c,u)}return o}return aa(n,t,r)}catch(o){throw o instanceof yt&&o.addToFieldPath(e),o}}function aa(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let r=n.get(e);if(!r)throw new yt(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){let o={};for(let[i,s]of n.get(e).fields)o[i]=tn(n,i,s,t);return new e(o)}if(r.kind==="enum"){let o=t.readU8();if(o>=r.values.length)throw new yt(`Enum index: ${o} is out of range`);let[i,s]=r.values[o],c=tn(n,i,s,t);return new e({[i]:c})}throw new yt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Cd(n,e,t,r=Ot){let o=new r(t),i=aa(n,e,o);if(o.offset<t.length)throw new yt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return i}me.deserialize=Cd;function Md(n,e,t,r=Ot){let o=new r(t);return aa(n,e,o)}me.deserializeUnchecked=Md});var la=Nt(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.s16=N.s8=N.nu64be=N.u48be=N.u40be=N.u32be=N.u24be=N.u16be=N.nu64=N.u48=N.u40=N.u32=N.u24=N.u16=N.u8=N.offset=N.greedy=N.Constant=N.UTF8=N.CString=N.Blob=N.Boolean=N.BitField=N.BitStructure=N.VariantLayout=N.Union=N.UnionLayoutDiscriminator=N.UnionDiscriminator=N.Structure=N.Sequence=N.DoubleBE=N.Double=N.FloatBE=N.Float=N.NearInt64BE=N.NearInt64=N.NearUInt64BE=N.NearUInt64=N.IntBE=N.Int=N.UIntBE=N.UInt=N.OffsetLayout=N.GreedyCount=N.ExternalLayout=N.bindConstructorLayout=N.nameWithProperty=N.Layout=N.uint8ArrayToBuffer=N.checkUint8Array=void 0;N.constant=N.utf8=N.cstr=N.blob=N.unionLayoutDiscriminator=N.union=N.seq=N.bits=N.struct=N.f64be=N.f64=N.f32be=N.f32=N.ns64be=N.s48be=N.s40be=N.s32be=N.s24be=N.s16be=N.ns64=N.s48=N.s40=N.s32=N.s24=void 0;var ua=_n();function kn(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}N.checkUint8Array=kn;function ue(n){return kn(n),ua.Buffer.from(n.buffer,n.byteOffset,n.length)}N.uint8ArrayToBuffer=ue;var he=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};N.Layout=he;function fa(n,e){return e.property?n+"["+e.property+"]":n}N.nameWithProperty=fa;function Pd(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof he))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=(()=>new n),Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}N.bindConstructorLayout=Pd;var _t=class extends he{isCount(){throw new Error("ExternalLayout is abstract")}};N.ExternalLayout=_t;var Jo=class extends _t{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){kn(e);let r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};N.GreedyCount=Jo;var no=class extends _t{constructor(e,t=0,r){if(!(e instanceof he))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Lt||this.layout instanceof Dt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};N.OffsetLayout=no;var Lt=class extends he{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ue(e).readUIntLE(t,this.span)}encode(e,t,r=0){return ue(t).writeUIntLE(e,r,this.span),this.span}};N.UInt=Lt;var Dt=class extends he{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ue(e).readUIntBE(t,this.span)}encode(e,t,r=0){return ue(t).writeUIntBE(e,r,this.span),this.span}};N.UIntBE=Dt;var wr=class extends he{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ue(e).readIntLE(t,this.span)}encode(e,t,r=0){return ue(t).writeIntLE(e,r,this.span),this.span}};N.Int=wr;var Pr=class extends he{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ue(e).readIntBE(t,this.span)}encode(e,t,r=0){return ue(t).writeIntBE(e,r,this.span),this.span}};N.IntBE=Pr;var ca=Math.pow(2,32);function gi(n){let e=Math.floor(n/ca),t=n-e*ca;return{hi32:e,lo32:t}}function yi(n,e){return n*ca+e}var Qo=class extends he{constructor(e){super(8,e)}decode(e,t=0){let r=ue(e),o=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return yi(i,o)}encode(e,t,r=0){let o=gi(e),i=ue(t);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}};N.NearUInt64=Qo;var ei=class extends he{constructor(e){super(8,e)}decode(e,t=0){let r=ue(e),o=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return yi(o,i)}encode(e,t,r=0){let o=gi(e),i=ue(t);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};N.NearUInt64BE=ei;var ti=class extends he{constructor(e){super(8,e)}decode(e,t=0){let r=ue(e),o=r.readUInt32LE(t),i=r.readInt32LE(t+4);return yi(i,o)}encode(e,t,r=0){let o=gi(e),i=ue(t);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}};N.NearInt64=ti;var ri=class extends he{constructor(e){super(8,e)}decode(e,t=0){let r=ue(e),o=r.readInt32BE(t),i=r.readUInt32BE(t+4);return yi(o,i)}encode(e,t,r=0){let o=gi(e),i=ue(t);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};N.NearInt64BE=ri;var ni=class extends he{constructor(e){super(4,e)}decode(e,t=0){return ue(e).readFloatLE(t)}encode(e,t,r=0){return ue(t).writeFloatLE(e,r),4}};N.Float=ni;var oi=class extends he{constructor(e){super(4,e)}decode(e,t=0){return ue(e).readFloatBE(t)}encode(e,t,r=0){return ue(t).writeFloatBE(e,r),4}};N.FloatBE=oi;var ii=class extends he{constructor(e){super(8,e)}decode(e,t=0){return ue(e).readDoubleLE(t)}encode(e,t,r=0){return ue(t).writeDoubleLE(e,r),8}};N.Double=ii;var si=class extends he{constructor(e){super(8,e)}decode(e,t=0){return ue(e).readDoubleBE(t)}encode(e,t,r=0){return ue(t).writeDoubleBE(e,r),8}};N.DoubleBE=si;var ai=class extends he{constructor(e,t,r){if(!(e instanceof he))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof _t&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof _t)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof _t&&(o=o.decode(e,t)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],o=0,i=this.count;for(i instanceof _t&&(i=i.decode(e,t));o<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return r}encode(e,t,r=0){let o=this.elementLayout,i=e.reduce((s,c)=>s+o.encode(c,t,r+s),0);return this.count instanceof _t&&this.count.encode(e.length,t,r),i}};N.Sequence=ai;var ci=class extends he{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((i,s)=>i&&s instanceof he,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{let s=i.getSpan(e,t);return t+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){kn(e);let r=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let o=r,i=0,s=0;for(let c of this.fields){let u=c.span;if(s=0<u?u:0,c.property!==void 0){let g=e[c.property];g!==void 0&&(s=c.encode(g,t,r),0>u&&(u=c.getSpan(t,r)))}i=r,r+=u}return i+s-o}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};N.Structure=ci;var oo=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};N.UnionDiscriminator=oo;var On=class extends oo{constructor(e,t){if(!(e instanceof _t&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};N.UnionLayoutDiscriminator=On;var io=class extends he{constructor(e,t,r){let o;if(e instanceof Lt||e instanceof Dt)o=new On(new no(e));else if(e instanceof _t&&e.isCount())o=new On(e);else if(e instanceof oo)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof he))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Lt||e instanceof Dt)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Lt||e instanceof Dt,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return s(c)},this.configGetSourceVariant=function(c){s=c.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r,o=this.discriminator,i=o.decode(e,t),s=this.registry[i];if(s===void 0){let c=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[c.property]=c.decode(e,t+u)}else r=s.decode(e,t);return r}encode(e,t,r=0){let o=this.getSourceVariant(e);if(o===void 0){let i=this.discriminator,s=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,r),c+s.encode(e[s.property],t,r+c)}return o.encode(e,t,r)}addVariant(e,t,r){let o=new ui(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};N.Union=io;var ui=class extends he{constructor(e,t,r,o){if(!(e instanceof io))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof he))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+r)),r+o}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),i+=this.layout.getSpan(t,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};N.VariantLayout=ui;function xn(n){return 0>n&&(n+=4294967296),n}var so=class extends he{constructor(e,t,r){if(!(e instanceof Lt||e instanceof Dt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(i){return o=xn(i),this},this._packedGetValue=function(){return o}}decode(e,t=0){let r=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(let i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,t,r=0){let o=this.word.decode(t,r);this._packedSetValue(o);for(let i of this.fields)if(i.property!==void 0){let s=e[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new ao(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new fi(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};N.BitStructure=so;var ao=class{constructor(e,t,r){if(!(e instanceof so))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let o=8*e.span,i=e.fields.reduce((s,c)=>s+c.bits,0);if(t+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-t),this.wordMask=xn(this.valueMask<<this.start),this.property=r}decode(e,t){let r=this.container._packedGetValue();return xn(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==xn(e&this.valueMask))throw new TypeError(fa("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=xn(e<<this.start);this.container._packedSetValue(xn(t&~this.wordMask)|r)}};N.BitField=ao;var fi=class extends ao{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};N.Boolean=fi;var li=class extends he{constructor(e,t){if(!(e instanceof _t&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof _t||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),ue(e).slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof _t&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(fa("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>t.length)throw new RangeError("encoding overruns Uint8Array");let i=ue(e);return ue(t).write(i.toString("hex"),r,o,"hex"),this.length instanceof _t&&this.length.encode(o,t,r),o}};N.Blob=li;var hi=class extends he{constructor(e){super(-1,e)}getSpan(e,t=0){kn(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){let r=this.getSpan(e,t);return ue(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));let o=ua.Buffer.from(e,"utf8"),i=o.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");let s=ue(t);return o.copy(s,r),s[r+i]=0,i+1}};N.CString=hi;var di=class extends he{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return kn(e),e.length-t}decode(e,t=0){let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return ue(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));let o=ua.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(ue(t),r),i}};N.UTF8=di;var pi=class extends he{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};N.Constant=pi;N.greedy=((n,e)=>new Jo(n,e));N.offset=((n,e,t)=>new no(n,e,t));N.u8=(n=>new Lt(1,n));N.u16=(n=>new Lt(2,n));N.u24=(n=>new Lt(3,n));N.u32=(n=>new Lt(4,n));N.u40=(n=>new Lt(5,n));N.u48=(n=>new Lt(6,n));N.nu64=(n=>new Qo(n));N.u16be=(n=>new Dt(2,n));N.u24be=(n=>new Dt(3,n));N.u32be=(n=>new Dt(4,n));N.u40be=(n=>new Dt(5,n));N.u48be=(n=>new Dt(6,n));N.nu64be=(n=>new ei(n));N.s8=(n=>new wr(1,n));N.s16=(n=>new wr(2,n));N.s24=(n=>new wr(3,n));N.s32=(n=>new wr(4,n));N.s40=(n=>new wr(5,n));N.s48=(n=>new wr(6,n));N.ns64=(n=>new ti(n));N.s16be=(n=>new Pr(2,n));N.s24be=(n=>new Pr(3,n));N.s32be=(n=>new Pr(4,n));N.s40be=(n=>new Pr(5,n));N.s48be=(n=>new Pr(6,n));N.ns64be=(n=>new ri(n));N.f32=(n=>new ni(n));N.f32be=(n=>new oi(n));N.f64=(n=>new ii(n));N.f64be=(n=>new si(n));N.struct=((n,e,t)=>new ci(n,e,t));N.bits=((n,e,t)=>new so(n,e,t));N.seq=((n,e,t)=>new ai(n,e,t));N.union=((n,e,t)=>new io(n,e,t));N.unionLayoutDiscriminator=((n,e)=>new On(n,e));N.blob=((n,e)=>new li(n,e));N.cstr=(n=>new hi(n));N.utf8=((n,e)=>new di(n,e));N.constant=((n,e)=>new pi(n,e))});function fo(){if(!wi&&(wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wi(Xy)}var wi,Xy,Sa=It(()=>{Xy=new Uint8Array(16)});var lf,hf=It(()=>{lf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Zy(n){return typeof n=="string"&&lf.test(n)}var Dr,lo=It(()=>{hf();Dr=Zy});function Jy(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(mt[n[e+0]]+mt[n[e+1]]+mt[n[e+2]]+mt[n[e+3]]+"-"+mt[n[e+4]]+mt[n[e+5]]+"-"+mt[n[e+6]]+mt[n[e+7]]+"-"+mt[n[e+8]]+mt[n[e+9]]+"-"+mt[n[e+10]]+mt[n[e+11]]+mt[n[e+12]]+mt[n[e+13]]+mt[n[e+14]]+mt[n[e+15]]).toLowerCase();if(!Dr(t))throw TypeError("Stringified UUID is invalid");return t}var mt,Ei,Fr,ho=It(()=>{lo();mt=[];for(Ei=0;Ei<256;++Ei)mt.push((Ei+256).toString(16).substr(1));Fr=Jy});function Qy(n,e,t){var r=e&&t||0,o=e||new Array(16);n=n||{};var i=n.node||df,s=n.clockseq!==void 0?n.clockseq:Aa;if(i==null||s==null){var c=n.random||(n.rng||fo)();i==null&&(i=df=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),s==null&&(s=Aa=(c[6]<<8|c[7])&16383)}var u=n.msecs!==void 0?n.msecs:Date.now(),g=n.nsecs!==void 0?n.nsecs:va+1,_=u-Ia+(g-va)/1e4;if(_<0&&n.clockseq===void 0&&(s=s+1&16383),(_<0||u>Ia)&&n.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ia=u,va=g,Aa=s,u+=122192928e5;var w=((u&268435455)*1e4+g)%4294967296;o[r++]=w>>>24&255,o[r++]=w>>>16&255,o[r++]=w>>>8&255,o[r++]=w&255;var A=u/4294967296*1e4&268435455;o[r++]=A>>>8&255,o[r++]=A&255,o[r++]=A>>>24&15|16,o[r++]=A>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var R=0;R<6;++R)o[r+R]=i[R];return e||Fr(o)}var df,Aa,Ia,va,pf,gf=It(()=>{Sa();ho();Ia=0,va=0;pf=Qy});function em(n){if(!Dr(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Ri,xa=It(()=>{lo();Ri=em});function tm(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}function Si(n,e,t){function r(o,i,s,c){if(typeof o=="string"&&(o=tm(o)),typeof i=="string"&&(i=Ri(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){c=c||0;for(var g=0;g<16;++g)s[c+g]=u[g];return s}return Fr(u)}try{r.name=n}catch{}return r.DNS=rm,r.URL=nm,r}var rm,nm,Oa=It(()=>{ho();xa();rm="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nm="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function om(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return im(sm(am(n),n.length*8))}function im(n){for(var e=[],t=n.length*32,r="0123456789abcdef",o=0;o<t;o+=8){var i=n[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(s)}return e}function yf(n){return(n+64>>>9<<4)+14+1}function sm(n,e){n[e>>5]|=128<<e%32,n[yf(e)-1]=e;for(var t=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<n.length;s+=16){var c=t,u=r,g=o,_=i;t=wt(t,r,o,i,n[s],7,-680876936),i=wt(i,t,r,o,n[s+1],12,-389564586),o=wt(o,i,t,r,n[s+2],17,606105819),r=wt(r,o,i,t,n[s+3],22,-1044525330),t=wt(t,r,o,i,n[s+4],7,-176418897),i=wt(i,t,r,o,n[s+5],12,1200080426),o=wt(o,i,t,r,n[s+6],17,-1473231341),r=wt(r,o,i,t,n[s+7],22,-45705983),t=wt(t,r,o,i,n[s+8],7,1770035416),i=wt(i,t,r,o,n[s+9],12,-1958414417),o=wt(o,i,t,r,n[s+10],17,-42063),r=wt(r,o,i,t,n[s+11],22,-1990404162),t=wt(t,r,o,i,n[s+12],7,1804603682),i=wt(i,t,r,o,n[s+13],12,-40341101),o=wt(o,i,t,r,n[s+14],17,-1502002290),r=wt(r,o,i,t,n[s+15],22,1236535329),t=Et(t,r,o,i,n[s+1],5,-165796510),i=Et(i,t,r,o,n[s+6],9,-1069501632),o=Et(o,i,t,r,n[s+11],14,643717713),r=Et(r,o,i,t,n[s],20,-373897302),t=Et(t,r,o,i,n[s+5],5,-701558691),i=Et(i,t,r,o,n[s+10],9,38016083),o=Et(o,i,t,r,n[s+15],14,-660478335),r=Et(r,o,i,t,n[s+4],20,-405537848),t=Et(t,r,o,i,n[s+9],5,568446438),i=Et(i,t,r,o,n[s+14],9,-1019803690),o=Et(o,i,t,r,n[s+3],14,-187363961),r=Et(r,o,i,t,n[s+8],20,1163531501),t=Et(t,r,o,i,n[s+13],5,-1444681467),i=Et(i,t,r,o,n[s+2],9,-51403784),o=Et(o,i,t,r,n[s+7],14,1735328473),r=Et(r,o,i,t,n[s+12],20,-1926607734),t=Rt(t,r,o,i,n[s+5],4,-378558),i=Rt(i,t,r,o,n[s+8],11,-2022574463),o=Rt(o,i,t,r,n[s+11],16,1839030562),r=Rt(r,o,i,t,n[s+14],23,-35309556),t=Rt(t,r,o,i,n[s+1],4,-1530992060),i=Rt(i,t,r,o,n[s+4],11,1272893353),o=Rt(o,i,t,r,n[s+7],16,-155497632),r=Rt(r,o,i,t,n[s+10],23,-1094730640),t=Rt(t,r,o,i,n[s+13],4,681279174),i=Rt(i,t,r,o,n[s],11,-358537222),o=Rt(o,i,t,r,n[s+3],16,-722521979),r=Rt(r,o,i,t,n[s+6],23,76029189),t=Rt(t,r,o,i,n[s+9],4,-640364487),i=Rt(i,t,r,o,n[s+12],11,-421815835),o=Rt(o,i,t,r,n[s+15],16,530742520),r=Rt(r,o,i,t,n[s+2],23,-995338651),t=St(t,r,o,i,n[s],6,-198630844),i=St(i,t,r,o,n[s+7],10,1126891415),o=St(o,i,t,r,n[s+14],15,-1416354905),r=St(r,o,i,t,n[s+5],21,-57434055),t=St(t,r,o,i,n[s+12],6,1700485571),i=St(i,t,r,o,n[s+3],10,-1894986606),o=St(o,i,t,r,n[s+10],15,-1051523),r=St(r,o,i,t,n[s+1],21,-2054922799),t=St(t,r,o,i,n[s+8],6,1873313359),i=St(i,t,r,o,n[s+15],10,-30611744),o=St(o,i,t,r,n[s+6],15,-1560198380),r=St(r,o,i,t,n[s+13],21,1309151649),t=St(t,r,o,i,n[s+4],6,-145523070),i=St(i,t,r,o,n[s+11],10,-1120210379),o=St(o,i,t,r,n[s+2],15,718787259),r=St(r,o,i,t,n[s+9],21,-343485551),t=zr(t,c),r=zr(r,u),o=zr(o,g),i=zr(i,_)}return[t,r,o,i]}function am(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(yf(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function zr(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function cm(n,e){return n<<e|n>>>32-e}function Ai(n,e,t,r,o,i){return zr(cm(zr(zr(e,n),zr(r,i)),o),t)}function wt(n,e,t,r,o,i,s){return Ai(e&t|~e&r,n,e,o,i,s)}function Et(n,e,t,r,o,i,s){return Ai(e&r|t&~r,n,e,o,i,s)}function Rt(n,e,t,r,o,i,s){return Ai(e^t^r,n,e,o,i,s)}function St(n,e,t,r,o,i,s){return Ai(t^(e|~r),n,e,o,i,s)}var mf,_f=It(()=>{mf=om});var um,bf,wf=It(()=>{Oa();_f();um=Si("v3",48,mf),bf=um});function fm(n,e,t){n=n||{};var r=n.random||(n.rng||fo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return Fr(r)}var Ef,Rf=It(()=>{Sa();ho();Ef=fm});function lm(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function ka(n,e){return n<<e|n>>>32-e}function hm(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,s=Math.ceil(i/16),c=new Array(s),u=0;u<s;++u){for(var g=new Uint32Array(16),_=0;_<16;++_)g[_]=n[u*64+_*4]<<24|n[u*64+_*4+1]<<16|n[u*64+_*4+2]<<8|n[u*64+_*4+3];c[u]=g}c[s-1][14]=(n.length-1)*8/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=(n.length-1)*8&4294967295;for(var w=0;w<s;++w){for(var A=new Uint32Array(80),R=0;R<16;++R)A[R]=c[w][R];for(var v=16;v<80;++v)A[v]=ka(A[v-3]^A[v-8]^A[v-14]^A[v-16],1);for(var x=t[0],T=t[1],k=t[2],P=t[3],L=t[4],z=0;z<80;++z){var Q=Math.floor(z/20),J=ka(x,5)+lm(Q,T,k,P)+L+e[Q]+A[z]>>>0;L=P,P=k,k=ka(T,30)>>>0,T=x,x=J}t[0]=t[0]+x>>>0,t[1]=t[1]+T>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+P>>>0,t[4]=t[4]+L>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Sf,Af=It(()=>{Sf=hm});var dm,If,vf=It(()=>{Oa();Af();dm=Si("v5",80,Sf),If=dm});var xf,Of=It(()=>{xf="00000000-0000-0000-0000-000000000000"});function pm(n){if(!Dr(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var kf,Nf=It(()=>{lo();kf=pm});var Na={};ms(Na,{NIL:()=>xf,parse:()=>Ri,stringify:()=>Fr,v1:()=>pf,v3:()=>bf,v4:()=>Ef,v5:()=>If,validate:()=>Dr,version:()=>kf});var Ta=It(()=>{gf();wf();Rf();vf();Of();Nf();lo();ho();xa()});var Bf=Nt((Rw,Tf)=>{"use strict";var gm=(Ta(),_s(Na)).v4,ym=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};let o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let i={method:n};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){let s=typeof r.generator=="function"?r.generator:function(){return gm()};i.id=s(i,r)}else o===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};Tf.exports=ym});var Cf=Nt((Sw,Lf)=>{"use strict";var mm=(Ta(),_s(Na)).v4,_m=Bf(),po=function(n,e){if(!(this instanceof po))return new po(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return mm()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};Lf.exports=po;po.prototype.request=function(n,e,t,r){let o=this,i=null,s=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);let g=typeof r=="function";try{i=_m(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(g)return r(_);throw _}if(!g)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(g){return r(g)}return this.callServer(u,function(g,_){o._parseResponse(g,_,r)}),i};po.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){let o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return t(null,r.filter(o),r.filter(i))}else return t(null,r.error,r.result);t(null,r)}});var Pf=Nt((Aw,Ba)=>{"use strict";var bm=Object.prototype.hasOwnProperty,kt="~";function go(){}Object.create&&(go.prototype=Object.create(null),new go().__proto__||(kt=!1));function wm(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function Mf(n,e,t,r,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var i=new wm(t,r||n,o),s=kt?kt+e:e;return n._events[s]?n._events[s].fn?n._events[s]=[n._events[s],i]:n._events[s].push(i):(n._events[s]=i,n._eventsCount++),n}function Ii(n,e){--n._eventsCount===0?n._events=new go:delete n._events[e]}function At(){this._events=new go,this._eventsCount=0}At.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)bm.call(t,r)&&e.push(kt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};At.prototype.listeners=function(e){var t=kt?kt+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s};At.prototype.listenerCount=function(e){var t=kt?kt+e:e,r=this._events[t];return r?r.fn?1:r.length:0};At.prototype.emit=function(e,t,r,o,i,s){var c=kt?kt+e:e;if(!this._events[c])return!1;var u=this._events[c],g=arguments.length,_,w;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),g){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,s),!0}for(w=1,_=new Array(g-1);w<g;w++)_[w-1]=arguments[w];u.fn.apply(u.context,_)}else{var A=u.length,R;for(w=0;w<A;w++)switch(u[w].once&&this.removeListener(e,u[w].fn,void 0,!0),g){case 1:u[w].fn.call(u[w].context);break;case 2:u[w].fn.call(u[w].context,t);break;case 3:u[w].fn.call(u[w].context,t,r);break;case 4:u[w].fn.call(u[w].context,t,r,o);break;default:if(!_)for(R=1,_=new Array(g-1);R<g;R++)_[R-1]=arguments[R];u[w].fn.apply(u[w].context,_)}}return!0};At.prototype.on=function(e,t,r){return Mf(this,e,t,r,!1)};At.prototype.once=function(e,t,r){return Mf(this,e,t,r,!0)};At.prototype.removeListener=function(e,t,r,o){var i=kt?kt+e:e;if(!this._events[i])return this;if(!t)return Ii(this,i),this;var s=this._events[i];if(s.fn)s.fn===t&&(!o||s.once)&&(!r||s.context===r)&&Ii(this,i);else{for(var c=0,u=[],g=s.length;c<g;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=u.length===1?u[0]:u:Ii(this,i)}return this};At.prototype.removeAllListeners=function(e){var t;return e?(t=kt?kt+e:e,this._events[t]&&Ii(this,t)):(this._events=new go,this._eventsCount=0),this};At.prototype.off=At.prototype.removeListener;At.prototype.addListener=At.prototype.on;At.prefixed=kt;At.EventEmitter=At;typeof Ba<"u"&&(Ba.exports=At)});var L1={};ms(L1,{Account:()=>Li,AddressLookupTableAccount:()=>zn,AddressLookupTableInstruction:()=>qi,AddressLookupTableProgram:()=>Kn,Authorized:()=>vo,BLOCKHASH_CACHE_TIMEOUT_MS:()=>rc,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>wl,BPF_LOADER_PROGRAM_ID:()=>Tl,BpfLoader:()=>zi,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Yt,ComputeBudgetInstruction:()=>$i,ComputeBudgetProgram:()=>Vn,Connection:()=>Vi,Ed25519Program:()=>Ao,Enum:()=>Bi,EpochSchedule:()=>Eo,FeeCalculatorLayout:()=>ec,Keypair:()=>So,LAMPORTS_PER_SOL:()=>Yl,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>sr,Loader:()=>un,Lockup:()=>qr,MAX_SEED_LENGTH:()=>Qa,Message:()=>Xt,MessageAccountKeys:()=>Kr,MessageV0:()=>an,NONCE_ACCOUNT_LENGTH:()=>Di,NonceAccount:()=>wo,PACKET_DATA_SIZE:()=>Ar,PUBLIC_KEY_LENGTH:()=>jt,PublicKey:()=>q,SIGNATURE_LENGTH_IN_BYTES:()=>Pn,SOLANA_SCHEMA:()=>Cn,STAKE_CONFIG_ID:()=>ic,STAKE_INSTRUCTION_LAYOUTS:()=>ct,SYSTEM_INSTRUCTION_LAYOUTS:()=>be,SYSVAR_CLOCK_PUBKEY:()=>Gt,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Al,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Il,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>_o,SYSVAR_RENT_PUBKEY:()=>cn,SYSVAR_REWARDS_PUBKEY:()=>vl,SYSVAR_SLOT_HASHES_PUBKEY:()=>xl,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Ol,SYSVAR_STAKE_HISTORY_PUBKEY:()=>bo,Secp256k1Program:()=>Io,SendTransactionError:()=>Vr,SolanaJSONRPCError:()=>Y,SolanaJSONRPCErrorCode:()=>kl,StakeAuthorizationLayout:()=>ql,StakeInstruction:()=>Hi,StakeProgram:()=>fn,Struct:()=>Mn,SystemInstruction:()=>Fi,SystemProgram:()=>dt,Transaction:()=>de,TransactionExpiredBlockheightExceededError:()=>Un,TransactionExpiredNonceInvalidError:()=>Sr,TransactionExpiredTimeoutError:()=>Dn,TransactionInstruction:()=>ge,TransactionMessage:()=>Mi,TransactionStatus:()=>or,VALIDATOR_INFO_KEY:()=>sc,VERSION_PREFIX_MASK:()=>Oo,VOTE_PROGRAM_ID:()=>Hl,ValidatorInfo:()=>Gi,VersionedMessage:()=>ji,VersionedTransaction:()=>Pi,VoteAccount:()=>Yi,VoteAuthorizationLayout:()=>$l,VoteInit:()=>xo,VoteInstruction:()=>Wi,VoteProgram:()=>ln,clusterApiUrl:()=>Wl,sendAndConfirmRawTransaction:()=>Gl,sendAndConfirmTransaction:()=>Ui});var jl=Zt(_n(),1);var ac={};ms(ac,{Account:()=>Li,AddressLookupTableAccount:()=>zn,AddressLookupTableInstruction:()=>qi,AddressLookupTableProgram:()=>Kn,Authorized:()=>vo,BLOCKHASH_CACHE_TIMEOUT_MS:()=>rc,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>wl,BPF_LOADER_PROGRAM_ID:()=>Tl,BpfLoader:()=>zi,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Yt,ComputeBudgetInstruction:()=>$i,ComputeBudgetProgram:()=>Vn,Connection:()=>Vi,Ed25519Program:()=>Ao,Enum:()=>Bi,EpochSchedule:()=>Eo,FeeCalculatorLayout:()=>ec,Keypair:()=>So,LAMPORTS_PER_SOL:()=>Yl,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>sr,Loader:()=>un,Lockup:()=>qr,MAX_SEED_LENGTH:()=>Qa,Message:()=>Xt,MessageAccountKeys:()=>Kr,MessageV0:()=>an,NONCE_ACCOUNT_LENGTH:()=>Di,NonceAccount:()=>wo,PACKET_DATA_SIZE:()=>Ar,PUBLIC_KEY_LENGTH:()=>jt,PublicKey:()=>q,SIGNATURE_LENGTH_IN_BYTES:()=>Pn,SOLANA_SCHEMA:()=>Cn,STAKE_CONFIG_ID:()=>ic,STAKE_INSTRUCTION_LAYOUTS:()=>ct,SYSTEM_INSTRUCTION_LAYOUTS:()=>be,SYSVAR_CLOCK_PUBKEY:()=>Gt,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Al,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Il,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>_o,SYSVAR_RENT_PUBKEY:()=>cn,SYSVAR_REWARDS_PUBKEY:()=>vl,SYSVAR_SLOT_HASHES_PUBKEY:()=>xl,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Ol,SYSVAR_STAKE_HISTORY_PUBKEY:()=>bo,Secp256k1Program:()=>Io,SendTransactionError:()=>Vr,SolanaJSONRPCError:()=>Y,SolanaJSONRPCErrorCode:()=>kl,StakeAuthorizationLayout:()=>ql,StakeInstruction:()=>Hi,StakeProgram:()=>fn,Struct:()=>Mn,SystemInstruction:()=>Fi,SystemProgram:()=>dt,Transaction:()=>de,TransactionExpiredBlockheightExceededError:()=>Un,TransactionExpiredNonceInvalidError:()=>Sr,TransactionExpiredTimeoutError:()=>Dn,TransactionInstruction:()=>ge,TransactionMessage:()=>Mi,TransactionStatus:()=>or,VALIDATOR_INFO_KEY:()=>sc,VERSION_PREFIX_MASK:()=>Oo,VOTE_PROGRAM_ID:()=>Hl,ValidatorInfo:()=>Gi,VersionedMessage:()=>ji,VersionedTransaction:()=>Pi,VoteAccount:()=>Yi,VoteAuthorizationLayout:()=>$l,VoteInit:()=>xo,VoteInstruction:()=>Wi,VoteProgram:()=>ln,clusterApiUrl:()=>Wl,sendAndConfirmRawTransaction:()=>Gl,sendAndConfirmTransaction:()=>Ui});var ee=Zt(_n());var Wr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fr(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function vr(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function pt(n,...e){if(!fr(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Bo(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vr(n.outputLen),vr(n.blockLen)}function lr(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Lo(n,e){pt(n);let t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Wc(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Kt(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Co(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function $t(n,e){return n<<32-e|n>>>e}var Ch=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Mh(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Ph(n){for(let e=0;e<n.length;e++)n[e]=Mh(n[e]);return n}var ks=Ch?n=>n:Ph,Gc=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Uh=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Vt(n){if(pt(n),Gc)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=Uh[n[t]];return e}var ur={_0:48,_9:57,A:65,F:70,a:97,f:102};function Hc(n){if(n>=ur._0&&n<=ur._9)return n-ur._0;if(n>=ur.A&&n<=ur.F)return n-(ur.A-10);if(n>=ur.a&&n<=ur.f)return n-(ur.a-10)}function Gr(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(Gc)return Uint8Array.fromHex(n);let e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(t);for(let o=0,i=0;o<t;o++,i+=2){let s=Hc(n.charCodeAt(i)),c=Hc(n.charCodeAt(i+1));if(s===void 0||c===void 0){let u=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[o]=s*16+c}return r}function Ns(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Yr(n){return typeof n=="string"&&(n=Ns(n)),pt(n),n}function vt(...n){let e=0;for(let r=0;r<n.length;r++){let o=n[r];pt(o),e+=o.length}let t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){let i=n[r];t.set(i,o),o+=i.length}return t}var xr=class{};function Yn(n){let e=r=>n().update(Yr(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function bn(n=32){if(Wr&&typeof Wr.getRandomValues=="function")return Wr.getRandomValues(new Uint8Array(n));if(Wr&&typeof Wr.randomBytes=="function")return Uint8Array.from(Wr.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function Dh(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),c=Number(t&i),u=r?4:0,g=r?0:4;n.setUint32(e+u,s,r),n.setUint32(e+g,c,r)}function Yc(n,e,t){return n&e^~n&t}function jc(n,e,t){return n&e^n&t^e&t}var jn=class extends xr{constructor(e,t,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=Co(this.buffer)}update(e){lr(this),e=Yr(e),pt(e);let{view:t,buffer:r,blockLen:o}=this,i=e.length;for(let s=0;s<i;){let c=Math.min(o-this.pos,i-s);if(c===o){let u=Co(e);for(;o<=i-s;s+=o)this.process(u,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lr(this),Lo(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:i}=this,{pos:s}=this;t[s++]=128,Kt(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let w=s;w<o;w++)t[w]=0;Dh(r,o-8,BigInt(this.length*8),i),this.process(r,0);let c=Co(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let g=u/4,_=this.get();if(g>_.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<g;w++)c.setUint32(4*w,_[w],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.destroyed=s,e.finished=i,e.length=o,e.pos=c,o%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}},hr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var gt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var Mo=BigInt(4294967295),Xc=BigInt(32);function Fh(n,e=!1){return e?{h:Number(n&Mo),l:Number(n>>Xc&Mo)}:{h:Number(n>>Xc&Mo)|0,l:Number(n&Mo)|0}}function Po(n,e=!1){let t=n.length,r=new Uint32Array(t),o=new Uint32Array(t);for(let i=0;i<t;i++){let{h:s,l:c}=Fh(n[i],e);[r[i],o[i]]=[s,c]}return[r,o]}var Ts=(n,e,t)=>n>>>t,Bs=(n,e,t)=>n<<32-t|e>>>t,jr=(n,e,t)=>n>>>t|e<<32-t,Xr=(n,e,t)=>n<<32-t|e>>>t,Xn=(n,e,t)=>n<<64-t|e>>>t-32,Zn=(n,e,t)=>n>>>t-32|e<<64-t;var Zc=(n,e,t)=>n<<t|e>>>32-t,Jc=(n,e,t)=>e<<t|n>>>32-t,Qc=(n,e,t)=>e<<t-32|n>>>64-t,eu=(n,e,t)=>n<<t-32|e>>>64-t;function er(n,e,t,r){let o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:o|0}}var tu=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),ru=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,nu=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ou=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,iu=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),su=(n,e,t,r,o,i)=>e+t+r+o+i+(n/2**32|0)|0;var Kh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Or=new Uint32Array(64),Uo=class extends jn{constructor(e=32){super(64,e,8,!1),this.A=hr[0]|0,this.B=hr[1]|0,this.C=hr[2]|0,this.D=hr[3]|0,this.E=hr[4]|0,this.F=hr[5]|0,this.G=hr[6]|0,this.H=hr[7]|0}get(){let{A:e,B:t,C:r,D:o,E:i,F:s,G:c,H:u}=this;return[e,t,r,o,i,s,c,u]}set(e,t,r,o,i,s,c,u){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=u|0}process(e,t){for(let w=0;w<16;w++,t+=4)Or[w]=e.getUint32(t,!1);for(let w=16;w<64;w++){let A=Or[w-15],R=Or[w-2],v=$t(A,7)^$t(A,18)^A>>>3,x=$t(R,17)^$t(R,19)^R>>>10;Or[w]=x+Or[w-7]+v+Or[w-16]|0}let{A:r,B:o,C:i,D:s,E:c,F:u,G:g,H:_}=this;for(let w=0;w<64;w++){let A=$t(c,6)^$t(c,11)^$t(c,25),R=_+A+Yc(c,u,g)+Kh[w]+Or[w]|0,x=($t(r,2)^$t(r,13)^$t(r,22))+jc(r,o,i)|0;_=g,g=u,u=c,c=s+R|0,s=i,i=o,o=r,r=R+x|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,g=g+this.G|0,_=_+this.H|0,this.set(r,o,i,s,c,u,g,_)}roundClean(){Kt(Or)}destroy(){this.set(0,0,0,0,0,0,0,0),Kt(this.buffer)}};var au=Po(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Vh=au[0],qh=au[1],kr=new Uint32Array(80),Nr=new Uint32Array(80),Ls=class extends jn{constructor(e=64){super(128,e,16,!1),this.Ah=gt[0]|0,this.Al=gt[1]|0,this.Bh=gt[2]|0,this.Bl=gt[3]|0,this.Ch=gt[4]|0,this.Cl=gt[5]|0,this.Dh=gt[6]|0,this.Dl=gt[7]|0,this.Eh=gt[8]|0,this.El=gt[9]|0,this.Fh=gt[10]|0,this.Fl=gt[11]|0,this.Gh=gt[12]|0,this.Gl=gt[13]|0,this.Hh=gt[14]|0,this.Hl=gt[15]|0}get(){let{Ah:e,Al:t,Bh:r,Bl:o,Ch:i,Cl:s,Dh:c,Dl:u,Eh:g,El:_,Fh:w,Fl:A,Gh:R,Gl:v,Hh:x,Hl:T}=this;return[e,t,r,o,i,s,c,u,g,_,w,A,R,v,x,T]}set(e,t,r,o,i,s,c,u,g,_,w,A,R,v,x,T){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=u|0,this.Eh=g|0,this.El=_|0,this.Fh=w|0,this.Fl=A|0,this.Gh=R|0,this.Gl=v|0,this.Hh=x|0,this.Hl=T|0}process(e,t){for(let L=0;L<16;L++,t+=4)kr[L]=e.getUint32(t),Nr[L]=e.getUint32(t+=4);for(let L=16;L<80;L++){let z=kr[L-15]|0,Q=Nr[L-15]|0,J=jr(z,Q,1)^jr(z,Q,8)^Ts(z,Q,7),oe=Xr(z,Q,1)^Xr(z,Q,8)^Bs(z,Q,7),re=kr[L-2]|0,C=Nr[L-2]|0,j=jr(re,C,19)^Xn(re,C,61)^Ts(re,C,6),W=Xr(re,C,19)^Zn(re,C,61)^Bs(re,C,6),G=nu(oe,W,Nr[L-7],Nr[L-16]),p=ou(G,J,j,kr[L-7],kr[L-16]);kr[L]=p|0,Nr[L]=G|0}let{Ah:r,Al:o,Bh:i,Bl:s,Ch:c,Cl:u,Dh:g,Dl:_,Eh:w,El:A,Fh:R,Fl:v,Gh:x,Gl:T,Hh:k,Hl:P}=this;for(let L=0;L<80;L++){let z=jr(w,A,14)^jr(w,A,18)^Xn(w,A,41),Q=Xr(w,A,14)^Xr(w,A,18)^Zn(w,A,41),J=w&R^~w&x,oe=A&v^~A&T,re=iu(P,Q,oe,qh[L],Nr[L]),C=su(re,k,z,J,Vh[L],kr[L]),j=re|0,W=jr(r,o,28)^Xn(r,o,34)^Xn(r,o,39),G=Xr(r,o,28)^Zn(r,o,34)^Zn(r,o,39),p=r&i^r&c^i&c,a=o&s^o&u^s&u;k=x|0,P=T|0,x=R|0,T=v|0,R=w|0,v=A|0,{h:w,l:A}=er(g|0,_|0,C|0,j|0),g=c|0,_=u|0,c=i|0,u=s|0,i=r|0,s=o|0;let f=tu(j,G,a);r=ru(f,C,W,p),o=f|0}({h:r,l:o}=er(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:s}=er(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l:u}=er(this.Ch|0,this.Cl|0,c|0,u|0),{h:g,l:_}=er(this.Dh|0,this.Dl|0,g|0,_|0),{h:w,l:A}=er(this.Eh|0,this.El|0,w|0,A|0),{h:R,l:v}=er(this.Fh|0,this.Fl|0,R|0,v|0),{h:x,l:T}=er(this.Gh|0,this.Gl|0,x|0,T|0),{h:k,l:P}=er(this.Hh|0,this.Hl|0,k|0,P|0),this.set(r,o,i,s,c,u,g,_,w,A,R,v,x,T,k,P)}roundClean(){Kt(kr,Nr)}destroy(){Kt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Do=Yn(()=>new Uo);var cu=Yn(()=>new Ls);var Ps=BigInt(0),Ms=BigInt(1);function dr(n,e=""){if(typeof n!="boolean"){let t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Pt(n,e,t=""){let r=fr(n),o=n?.length,i=e!==void 0;if(!r||i&&o!==e){let s=t&&`"${t}" `,c=i?` of length ${e}`:"",u=r?`length=${o}`:`type=${typeof n}`;throw new Error(s+"expected Uint8Array"+c+", got "+u)}return n}function Jn(n){let e=n.toString(16);return e.length&1?"0"+e:e}function uu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Ps:BigInt("0x"+n)}function wn(n){return uu(Vt(n))}function pr(n){return pt(n),uu(Vt(Uint8Array.from(n).reverse()))}function Fo(n,e){return Gr(n.toString(16).padStart(e*2,"0"))}function Us(n,e){return Fo(n,e).reverse()}function ye(n,e,t){let r;if(typeof e=="string")try{r=Gr(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(fr(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");let o=r.length;if(typeof t=="number"&&o!==t)throw new Error(n+" of length "+t+" expected, got "+o);return r}function fu(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Ds(n){return Uint8Array.from(n)}var Cs=n=>typeof n=="bigint"&&Ps<=n;function lu(n,e,t){return Cs(n)&&Cs(e)&&Cs(t)&&e<=n&&n<t}function Qn(n,e,t,r){if(!lu(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function zo(n){let e;for(e=0;n>Ps;n>>=Ms,e+=1);return e}var Tr=n=>(Ms<<BigInt(n))-Ms;function hu(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=R=>new Uint8Array(R),o=R=>Uint8Array.of(R),i=r(n),s=r(n),c=0,u=()=>{i.fill(1),s.fill(0),c=0},g=(...R)=>t(s,i,...R),_=(R=r(0))=>{s=g(o(0),R),i=g(),R.length!==0&&(s=g(o(1),R),i=g())},w=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let R=0,v=[];for(;R<e;){i=g();let x=i.slice();v.push(x),R+=i.length}return vt(...v)};return(R,v)=>{u(),_(R);let x;for(;!(x=v(w()));)_();return u(),x}}function Br(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(o,i,s){let c=n[o];if(s&&c===void 0)return;let u=typeof c;if(u!==i||c===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${u}`)}Object.entries(e).forEach(([o,i])=>r(o,i,!1)),Object.entries(t).forEach(([o,i])=>r(o,i,!0))}var Fs=()=>{throw new Error("not implemented")};function En(n){let e=new WeakMap;return(t,...r)=>{let o=e.get(t);if(o!==void 0)return o;let i=n(t,...r);return e.set(t,i),i}}var xt=BigInt(0),ft=BigInt(1),Zr=BigInt(2),gu=BigInt(3),yu=BigInt(4),mu=BigInt(5),$h=BigInt(7),_u=BigInt(8),Hh=BigInt(9),bu=BigInt(16);function Ie(n,e){let t=n%e;return t>=xt?t:e+t}function Re(n,e,t){let r=n;for(;e-- >xt;)r*=r,r%=t;return r}function du(n,e){if(n===xt)throw new Error("invert: expected non-zero number");if(e<=xt)throw new Error("invert: expected positive modulus, got "+e);let t=Ie(n,e),r=e,o=xt,i=ft,s=ft,c=xt;for(;t!==xt;){let g=r/t,_=r%t,w=o-s*g,A=i-c*g;r=t,t=_,o=s,i=c,s=w,c=A}if(r!==ft)throw new Error("invert: does not exist");return Ie(o,e)}function zs(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function wu(n,e){let t=(n.ORDER+ft)/yu,r=n.pow(e,t);return zs(n,r,e),r}function Wh(n,e){let t=(n.ORDER-mu)/_u,r=n.mul(e,Zr),o=n.pow(r,t),i=n.mul(e,o),s=n.mul(n.mul(i,Zr),o),c=n.mul(i,n.sub(s,n.ONE));return zs(n,c,e),c}function Gh(n){let e=Ut(n),t=Eu(n),r=t(e,e.neg(e.ONE)),o=t(e,r),i=t(e,e.neg(r)),s=(n+$h)/bu;return(c,u)=>{let g=c.pow(u,s),_=c.mul(g,r),w=c.mul(g,o),A=c.mul(g,i),R=c.eql(c.sqr(_),u),v=c.eql(c.sqr(w),u);g=c.cmov(g,_,R),_=c.cmov(A,w,v);let x=c.eql(c.sqr(_),u),T=c.cmov(g,_,x);return zs(c,T,u),T}}function Eu(n){if(n<gu)throw new Error("sqrt is not defined for small field");let e=n-ft,t=0;for(;e%Zr===xt;)e/=Zr,t++;let r=Zr,o=Ut(n);for(;pu(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return wu;let i=o.pow(r,e),s=(e+ft)/Zr;return function(u,g){if(u.is0(g))return g;if(pu(u,g)!==1)throw new Error("Cannot find square root");let _=t,w=u.mul(u.ONE,i),A=u.pow(g,e),R=u.pow(g,s);for(;!u.eql(A,u.ONE);){if(u.is0(A))return u.ZERO;let v=1,x=u.sqr(A);for(;!u.eql(x,u.ONE);)if(v++,x=u.sqr(x),v===_)throw new Error("Cannot find square root");let T=ft<<BigInt(_-v-1),k=u.pow(w,T);_=v,w=u.sqr(k),A=u.mul(A,w),R=u.mul(R,k)}return R}}function Yh(n){return n%yu===gu?wu:n%_u===mu?Wh:n%bu===Hh?Gh(n):Eu(n)}var gr=(n,e)=>(Ie(n,e)&ft)===ft,jh=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ks(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=jh.reduce((r,o)=>(r[o]="function",r),e);return Br(n,t),n}function Xh(n,e,t){if(t<xt)throw new Error("invalid exponent, negatives unsupported");if(t===xt)return n.ONE;if(t===ft)return e;let r=n.ONE,o=e;for(;t>xt;)t&ft&&(r=n.mul(r,o)),o=n.sqr(o),t>>=ft;return r}function eo(n,e,t=!1){let r=new Array(e.length).fill(t?n.ZERO:void 0),o=e.reduce((s,c,u)=>n.is0(c)?s:(r[u]=s,n.mul(s,c)),n.ONE),i=n.inv(o);return e.reduceRight((s,c,u)=>n.is0(c)?s:(r[u]=n.mul(s,r[u]),n.mul(s,c)),i),r}function pu(n,e){let t=(n.ORDER-ft)/Zr,r=n.pow(e,t),o=n.eql(r,n.ONE),i=n.eql(r,n.ZERO),s=n.eql(r,n.neg(n.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function Ko(n,e){e!==void 0&&vr(e);let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Ut(n,e,t=!1,r={}){if(n<=xt)throw new Error("invalid field: expected ORDER > 0, got "+n);let o,i,s=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");let A=e;A.BITS&&(o=A.BITS),A.sqrt&&(i=A.sqrt),typeof A.isLE=="boolean"&&(t=A.isLE),typeof A.modFromBytes=="boolean"&&(s=A.modFromBytes),c=A.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(i=r.sqrt);let{nBitLength:u,nByteLength:g}=Ko(n,o);if(g>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _,w=Object.freeze({ORDER:n,isLE:t,BITS:u,BYTES:g,MASK:Tr(u),ZERO:xt,ONE:ft,allowedLengths:c,create:A=>Ie(A,n),isValid:A=>{if(typeof A!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof A);return xt<=A&&A<n},is0:A=>A===xt,isValidNot0:A=>!w.is0(A)&&w.isValid(A),isOdd:A=>(A&ft)===ft,neg:A=>Ie(-A,n),eql:(A,R)=>A===R,sqr:A=>Ie(A*A,n),add:(A,R)=>Ie(A+R,n),sub:(A,R)=>Ie(A-R,n),mul:(A,R)=>Ie(A*R,n),pow:(A,R)=>Xh(w,A,R),div:(A,R)=>Ie(A*du(R,n),n),sqrN:A=>A*A,addN:(A,R)=>A+R,subN:(A,R)=>A-R,mulN:(A,R)=>A*R,inv:A=>du(A,n),sqrt:i||(A=>(_||(_=Yh(n)),_(w,A))),toBytes:A=>t?Us(A,g):Fo(A,g),fromBytes:(A,R=!0)=>{if(c){if(!c.includes(A.length)||A.length>g)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+A.length);let x=new Uint8Array(g);x.set(A,t?0:x.length-A.length),A=x}if(A.length!==g)throw new Error("Field.fromBytes: expected "+g+" bytes, got "+A.length);let v=t?pr(A):wn(A);if(s&&(v=Ie(v,n)),!R&&!w.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:A=>eo(w,A),cmov:(A,R,v)=>v?R:A});return Object.freeze(w)}function Ru(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function Vs(n){let e=Ru(n);return e+Math.ceil(e/2)}function qs(n,e,t=!1){let r=n.length,o=Ru(e),i=Vs(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);let s=t?pr(n):wn(n),c=Ie(s,e-ft)+ft;return t?Us(c,o):Fo(c,o)}var Rn=BigInt(0),Jr=BigInt(1);function to(n,e){let t=e.negate();return n?t:e}function yr(n,e){let t=eo(n.Fp,e.map(r=>r.Z));return e.map((r,o)=>n.fromAffine(r.toAffine(t[o])))}function vu(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function $s(n,e){vu(n,e);let t=Math.ceil(e/n)+1,r=2**(n-1),o=2**n,i=Tr(n),s=BigInt(n);return{windows:t,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function Su(n,e,t){let{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=t,c=Number(n&o),u=n>>s;c>r&&(c-=i,u+=Jr);let g=e*r,_=g+Math.abs(c)-1,w=c===0,A=c<0,R=e%2!==0;return{nextN:u,offset:_,isZero:w,isNeg:A,isNegF:R,offsetF:g}}function Zh(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function Jh(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}var Hs=new WeakMap,xu=new WeakMap;function Ws(n){return xu.get(n)||1}function Au(n){if(n!==Rn)throw new Error("invalid wNAF")}var Sn=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let o=e;for(;t>Rn;)t&Jr&&(r=r.add(o)),o=o.double(),t>>=Jr;return r}precomputeWindow(e,t){let{windows:r,windowSize:o}=$s(t,this.bits),i=[],s=e,c=s;for(let u=0;u<r;u++){c=s,i.push(c);for(let g=1;g<o;g++)c=c.add(s),i.push(c);s=c.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE,s=$s(e,this.bits);for(let c=0;c<s.windows;c++){let{nextN:u,offset:g,isZero:_,isNeg:w,isNegF:A,offsetF:R}=Su(r,c,s);r=u,_?i=i.add(to(A,t[R])):o=o.add(to(w,t[g]))}return Au(r),{p:o,f:i}}wNAFUnsafe(e,t,r,o=this.ZERO){let i=$s(e,this.bits);for(let s=0;s<i.windows&&r!==Rn;s++){let{nextN:c,offset:u,isZero:g,isNeg:_}=Su(r,s,i);if(r=c,!g){let w=t[u];o=o.add(_?w.negate():w)}}return Au(r),o}getPrecomputes(e,t,r){let o=Hs.get(t);return o||(o=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(o=r(o)),Hs.set(t,o))),o}cached(e,t,r){let o=Ws(e);return this.wNAF(o,this.getPrecomputes(o,e,r),t)}unsafe(e,t,r,o){let i=Ws(e);return i===1?this._unsafeLadder(e,t,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,o)}createCache(e,t){vu(t,this.bits),xu.set(e,t),Hs.delete(e)}hasCache(e){return Ws(e)!==1}};function Ou(n,e,t,r){let o=e,i=n.ZERO,s=n.ZERO;for(;t>Rn||r>Rn;)t&Jr&&(i=i.add(o)),r&Jr&&(s=s.add(o)),o=o.double(),t>>=Jr,r>>=Jr;return{p1:i,p2:s}}function An(n,e,t,r){Zh(t,n),Jh(r,e);let o=t.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");let s=n.ZERO,c=zo(BigInt(o)),u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);let g=Tr(u),_=new Array(Number(g)+1).fill(s),w=Math.floor((e.BITS-1)/u)*u,A=s;for(let R=w;R>=0;R-=u){_.fill(s);for(let x=0;x<i;x++){let T=r[x],k=Number(T>>BigInt(R)&g);_[k]=_[k].add(t[x])}let v=s;for(let x=_.length-1,T=s;x>0;x--)T=T.add(_[x]),v=v.add(T);if(A=A.add(v),R!==0)for(let x=0;x<u;x++)A=A.double()}return A}function Iu(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ks(e),e}else return Ut(n,{isLE:t})}function Vo(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(let u of["p","n","h"]){let g=e[u];if(!(typeof g=="bigint"&&g>Rn))throw new Error(`CURVE.${u} must be positive bigint`)}let o=Iu(e.p,t.Fp,r),i=Iu(e.n,t.Fn,r),c=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(let u of c)if(!o.isValid(e[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}var Lr=BigInt(0),lt=BigInt(1),Gs=BigInt(2),Qh=BigInt(8);function ed(n,e,t,r){let o=n.sqr(t),i=n.sqr(r),s=n.add(n.mul(e.a,o),i),c=n.add(n.ONE,n.mul(e.d,n.mul(o,i)));return n.eql(s,c)}function td(n,e={}){let t=Vo("edwards",n,e,e.FpFnLE),{Fp:r,Fn:o}=t,i=t.CURVE,{h:s}=i;Br(e,{},{uvRatio:"function"});let c=Gs<<BigInt(o.BYTES*8)-lt,u=T=>r.create(T),g=e.uvRatio||((T,k)=>{try{return{isValid:!0,value:r.sqrt(r.div(T,k))}}catch{return{isValid:!1,value:Lr}}});if(!ed(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function _(T,k,P=!1){let L=P?lt:Lr;return Qn("coordinate "+T,k,L,c),k}function w(T){if(!(T instanceof v))throw new Error("ExtendedPoint expected")}let A=En((T,k)=>{let{X:P,Y:L,Z:z}=T,Q=T.is0();k==null&&(k=Q?Qh:r.inv(z));let J=u(P*k),oe=u(L*k),re=r.mul(z,k);if(Q)return{x:Lr,y:lt};if(re!==lt)throw new Error("invZ was invalid");return{x:J,y:oe}}),R=En(T=>{let{a:k,d:P}=i;if(T.is0())throw new Error("bad point: ZERO");let{X:L,Y:z,Z:Q,T:J}=T,oe=u(L*L),re=u(z*z),C=u(Q*Q),j=u(C*C),W=u(oe*k),G=u(C*u(W+re)),p=u(j+u(P*u(oe*re)));if(G!==p)throw new Error("bad point: equation left != right (1)");let a=u(L*z),f=u(Q*J);if(a!==f)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(k,P,L,z){this.X=_("x",k),this.Y=_("y",P),this.Z=_("z",L,!0),this.T=_("t",z),Object.freeze(this)}static CURVE(){return i}static fromAffine(k){if(k instanceof v)throw new Error("extended point not allowed");let{x:P,y:L}=k||{};return _("x",P),_("y",L),new v(P,L,lt,u(P*L))}static fromBytes(k,P=!1){let L=r.BYTES,{a:z,d:Q}=i;k=Ds(Pt(k,L,"point")),dr(P,"zip215");let J=Ds(k),oe=k[L-1];J[L-1]=oe&-129;let re=pr(J),C=P?c:r.ORDER;Qn("point.y",re,Lr,C);let j=u(re*re),W=u(j-lt),G=u(Q*j-z),{isValid:p,value:a}=g(W,G);if(!p)throw new Error("bad point: invalid y coordinate");let f=(a&lt)===lt,h=(oe&128)!==0;if(!P&&a===Lr&&h)throw new Error("bad point: x=0 and x_0=1");return h!==f&&(a=u(-a)),v.fromAffine({x:a,y:re})}static fromHex(k,P=!1){return v.fromBytes(ye("point",k),P)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(k=8,P=!0){return x.createCache(this,k),P||this.multiply(Gs),this}assertValidity(){R(this)}equals(k){w(k);let{X:P,Y:L,Z:z}=this,{X:Q,Y:J,Z:oe}=k,re=u(P*oe),C=u(Q*z),j=u(L*oe),W=u(J*z);return re===C&&j===W}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.X),this.Y,this.Z,u(-this.T))}double(){let{a:k}=i,{X:P,Y:L,Z:z}=this,Q=u(P*P),J=u(L*L),oe=u(Gs*u(z*z)),re=u(k*Q),C=P+L,j=u(u(C*C)-Q-J),W=re+J,G=W-oe,p=re-J,a=u(j*G),f=u(W*p),h=u(j*p),d=u(G*W);return new v(a,f,d,h)}add(k){w(k);let{a:P,d:L}=i,{X:z,Y:Q,Z:J,T:oe}=this,{X:re,Y:C,Z:j,T:W}=k,G=u(z*re),p=u(Q*C),a=u(oe*L*W),f=u(J*j),h=u((z+Q)*(re+C)-G-p),d=f-a,y=f+a,E=u(p-P*G),I=u(h*d),m=u(y*E),l=u(h*E),b=u(d*y);return new v(I,m,b,l)}subtract(k){return this.add(k.negate())}multiply(k){if(!o.isValidNot0(k))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:P,f:L}=x.cached(this,k,z=>yr(v,z));return yr(v,[P,L])[0]}multiplyUnsafe(k,P=v.ZERO){if(!o.isValid(k))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return k===Lr?v.ZERO:this.is0()||k===lt?this:x.unsafe(this,k,L=>yr(v,L),P)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return x.unsafe(this,i.n).is0()}toAffine(k){return A(this,k)}clearCofactor(){return s===lt?this:this.multiplyUnsafe(s)}toBytes(){let{x:k,y:P}=this.toAffine(),L=r.toBytes(P);return L[L.length-1]|=k&lt?128:0,L}toHex(){return Vt(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(k){return yr(v,k)}static msm(k,P){return An(v,o,k,P)}_setWindowSize(k){this.precompute(k)}toRawBytes(){return this.toBytes()}}v.BASE=new v(i.Gx,i.Gy,lt,u(i.Gx*i.Gy)),v.ZERO=new v(Lr,lt,lt,Lr),v.Fp=r,v.Fn=o;let x=new Sn(v,o.BITS);return v.BASE.precompute(8),v}var qo=class{constructor(e){this.ep=e}static fromBytes(e){Fs()}static fromHex(e){Fs()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return Vt(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}};function rd(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');Br(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r}=t,{BASE:o,Fp:i,Fn:s}=n,c=t.randomBytes||bn,u=t.adjustScalarBytes||(C=>C),g=t.domain||((C,j,W)=>{if(dr(W,"phflag"),j.length||W)throw new Error("Contexts/pre-hash are not supported");return C});function _(C){return s.create(pr(C))}function w(C){let j=L.secretKey;C=ye("private key",C,j);let W=ye("hashed private key",e(C),2*j),G=u(W.slice(0,j)),p=W.slice(j,2*j),a=_(G);return{head:G,prefix:p,scalar:a}}function A(C){let{head:j,prefix:W,scalar:G}=w(C),p=o.multiply(G),a=p.toBytes();return{head:j,prefix:W,scalar:G,point:p,pointBytes:a}}function R(C){return A(C).pointBytes}function v(C=Uint8Array.of(),...j){let W=vt(...j);return _(e(g(W,ye("context",C),!!r)))}function x(C,j,W={}){C=ye("message",C),r&&(C=r(C));let{prefix:G,scalar:p,pointBytes:a}=A(j),f=v(W.context,G,C),h=o.multiply(f).toBytes(),d=v(W.context,h,a,C),y=s.create(f+d*p);if(!s.isValid(y))throw new Error("sign failed: invalid s");let E=vt(h,s.toBytes(y));return Pt(E,L.signature,"result")}let T={zip215:!0};function k(C,j,W,G=T){let{context:p,zip215:a}=G,f=L.signature;C=ye("signature",C,f),j=ye("message",j),W=ye("publicKey",W,L.publicKey),a!==void 0&&dr(a,"zip215"),r&&(j=r(j));let h=f/2,d=C.subarray(0,h),y=pr(C.subarray(h,f)),E,I,m;try{E=n.fromBytes(W,a),I=n.fromBytes(d,a),m=o.multiplyUnsafe(y)}catch{return!1}if(!a&&E.isSmallOrder())return!1;let l=v(p,I.toBytes(),E.toBytes(),j);return I.add(E.multiplyUnsafe(l)).subtract(m).clearCofactor().is0()}let P=i.BYTES,L={secretKey:P,publicKey:P,signature:2*P,seed:P};function z(C=c(L.seed)){return Pt(C,L.seed,"seed")}function Q(C){let j=re.randomSecretKey(C);return{secretKey:j,publicKey:R(j)}}function J(C){return fr(C)&&C.length===s.BYTES}function oe(C,j){try{return!!n.fromBytes(C,j)}catch{return!1}}let re={getExtendedPublicKey:A,randomSecretKey:z,isValidSecretKey:J,isValidPublicKey:oe,toMontgomery(C){let{y:j}=n.fromBytes(C),W=L.publicKey,G=W===32;if(!G&&W!==57)throw new Error("only defined for 25519 and 448");let p=G?i.div(lt+j,lt-j):i.div(j-lt,j+lt);return i.toBytes(p)},toMontgomerySecret(C){let j=L.secretKey;Pt(C,j);let W=e(C.subarray(0,j));return u(W).subarray(0,j)},randomPrivateKey:z,precompute(C=8,j=n.BASE){return j.precompute(C,!1)}};return Object.freeze({keygen:Q,getPublicKey:R,sign:x,verify:k,utils:re,Point:n,lengths:L})}function nd(n){let e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=Ut(e.n,n.nBitLength,!0),o={Fp:t,Fn:r,uvRatio:n.uvRatio},i={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:o,hash:n.hash,eddsaOpts:i}}function od(n,e){let t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function ku(n){let{CURVE:e,curveOpts:t,hash:r,eddsaOpts:o}=nd(n),i=td(e,t),s=rd(i,r,o);return od(n,s)}var id=BigInt(0),mr=BigInt(1),Nu=BigInt(2),yb=BigInt(3),sd=BigInt(5),ad=BigInt(8),In=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ro={p:In,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:ad,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function cd(n){let e=BigInt(10),t=BigInt(20),r=BigInt(40),o=BigInt(80),i=In,c=n*n%i*n%i,u=Re(c,Nu,i)*c%i,g=Re(u,mr,i)*n%i,_=Re(g,sd,i)*g%i,w=Re(_,e,i)*_%i,A=Re(w,t,i)*w%i,R=Re(A,r,i)*A%i,v=Re(R,o,i)*R%i,x=Re(v,o,i)*R%i,T=Re(x,e,i)*_%i;return{pow_p_5_8:Re(T,Nu,i)*n%i,b2:c}}function ud(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}var Ys=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Zs(n,e){let t=In,r=Ie(e*e*e,t),o=Ie(r*r*e,t),i=cd(n*o).pow_p_5_8,s=Ie(n*r*i,t),c=Ie(e*s*s,t),u=s,g=Ie(s*Ys,t),_=c===n,w=c===Ie(-n,t),A=c===Ie(-n*Ys,t);return _&&(s=u),(w||A)&&(s=g),gr(s,t)&&(s=Ie(-s,t)),{isValid:_||w,value:s}}var Cr=Ut(ro.p,{isLE:!0}),fd=Ut(ro.n,{isLE:!0}),ld={...ro,Fp:Cr,hash:cu,adjustScalarBytes:ud,uvRatio:Zs},Bt=ku(ld);var js=Ys,hd=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),dd=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),pd=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),gd=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Tu=n=>Zs(mr,n),yd=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Xs=n=>Bt.Point.Fp.create(pr(n)&yd);function Bu(n){let{d:e}=ro,t=In,r=k=>Cr.create(k),o=r(js*n*n),i=r((o+mr)*pd),s=BigInt(-1),c=r((s-e*o)*r(o+e)),{isValid:u,value:g}=Zs(i,c),_=r(g*n);gr(_,t)||(_=r(-_)),u||(g=_),u||(s=o);let w=r(s*(o-mr)*gd-c),A=g*g,R=r((g+g)*c),v=r(w*hd),x=r(mr-A),T=r(mr+A);return new Bt.Point(r(R*T),r(x*v),r(v*T),r(R*x))}function md(n){pt(n,64);let e=Xs(n.subarray(0,32)),t=Bu(e),r=Xs(n.subarray(32,64)),o=Bu(r);return new _r(t.add(o))}var _r=class n extends qo{constructor(e){super(e)}static fromAffine(e){return new n(Bt.Point.fromAffine(e))}assertSame(e){if(!(e instanceof n))throw new Error("RistrettoPoint expected")}init(e){return new n(e)}static hashToCurve(e){return md(ye("ristrettoHash",e,64))}static fromBytes(e){pt(e,32);let{a:t,d:r}=ro,o=In,i=z=>Cr.create(z),s=Xs(e);if(!fu(Cr.toBytes(s),e)||gr(s,o))throw new Error("invalid ristretto255 encoding 1");let c=i(s*s),u=i(mr+t*c),g=i(mr-t*c),_=i(u*u),w=i(g*g),A=i(t*r*_-w),{isValid:R,value:v}=Tu(i(A*w)),x=i(v*g),T=i(v*x*A),k=i((s+s)*x);gr(k,o)&&(k=i(-k));let P=i(u*T),L=i(k*P);if(!R||gr(L,o)||P===id)throw new Error("invalid ristretto255 encoding 2");return new n(new Bt.Point(k,P,mr,L))}static fromHex(e){return n.fromBytes(ye("ristrettoHex",e,32))}static msm(e,t){return An(n,Bt.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:r,T:o}=this.ep,i=In,s=T=>Cr.create(T),c=s(s(r+t)*s(r-t)),u=s(e*t),g=s(u*u),{value:_}=Tu(s(c*g)),w=s(_*c),A=s(_*u),R=s(w*A*o),v;if(gr(o*R,i)){let T=s(t*js),k=s(e*js);e=T,t=k,v=s(w*dd)}else v=A;gr(e*R,i)&&(t=s(-t));let x=s((r-t)*v);return gr(x,i)&&(x=s(-x)),Cr.toBytes(x)}equals(e){this.assertSame(e);let{X:t,Y:r}=this.ep,{X:o,Y:i}=e.ep,s=g=>Cr.create(g),c=s(t*i)===s(r*o),u=s(r*i)===s(t*o);return c||u}is0(){return this.equals(n.ZERO)}};_r.BASE=new _r(Bt.Point.BASE);_r.ZERO=new _r(Bt.Point.ZERO);_r.Fp=Cr;_r.Fn=fd;var Ga=Zt(Qs()),ht=Zt(ta());var ra=Do;var qn=Zt(Wu()),S=Zt(la()),ml=Zt(la());var Ud=1,Dd=2,Fd=3,zd=4,Kd=5,Vd=6,qd=7,$d=8,Hd=9,Wd=10,Gd=-32700,Yd=-32603,jd=-32602,Xd=-32601,Zd=-32600,Jd=-32016,Qd=-32015,e0=-32014,t0=-32013,r0=-32012,n0=-32011,o0=-32010,i0=-32009,s0=-32008,a0=-32007,c0=-32006,u0=-32005,f0=-32004,l0=-32003,h0=-32002,d0=-32001,p0=28e5,g0=2800001,y0=2800002,m0=2800003,_0=2800004,b0=2800005,w0=2800006,E0=2800007,R0=2800008,S0=2800009,A0=2800010,I0=2800011,v0=323e4,x0=32300001,O0=3230002,k0=3230003,N0=3230004,T0=361e4,B0=3610001,L0=3610002,C0=3610003,M0=3610004,P0=3610005,U0=3610006,D0=3610007,F0=3611e3,z0=3704e3,K0=3704001,V0=3704002,q0=3704003,$0=3704004,H0=4128e3,W0=4128001,G0=4128002,Y0=4615e3,j0=4615001,X0=4615002,Z0=4615003,J0=4615004,Q0=4615005,ep=4615006,tp=4615007,rp=4615008,np=4615009,op=4615010,ip=4615011,sp=4615012,ap=4615013,cp=4615014,up=4615015,fp=4615016,lp=4615017,hp=4615018,dp=4615019,pp=4615020,gp=4615021,yp=4615022,mp=4615023,_p=4615024,bp=4615025,wp=4615026,Ep=4615027,Rp=4615028,Sp=4615029,Ap=4615030,Ip=4615031,vp=4615032,xp=4615033,Op=4615034,kp=4615035,Np=4615036,Tp=4615037,Bp=4615038,Lp=4615039,Cp=4615040,Mp=4615041,Pp=4615042,Up=4615043,Dp=4615044,Fp=4615045,zp=4615046,Kp=4615047,Vp=4615048,qp=4615049,$p=4615050,Hp=4615051,Wp=4615052,Gp=4615053,Yp=4615054,jp=5508e3,Xp=5508001,Zp=5508002,Jp=5508003,Qp=5508004,eg=5508005,tg=5508006,rg=5508007,ng=5508008,og=5508009,ig=5508010,sg=5508011,ag=5663e3,cg=5663001,ug=5663002,fg=5663003,lg=5663004,hg=5663005,dg=5663006,pg=5663007,gg=5663008,yg=5663009,mg=5663010,_g=5663011,bg=5663012,wg=5663013,Eg=5663014,Rg=5663015,Sg=5663016,Ag=5663017,Ig=5663018,vg=5663019,xg=5663020,Og=705e4,kg=7050001,Ng=7050002,Tg=7050003,Bg=7050004,Lg=7050005,Cg=7050006,Mg=7050007,Pg=7050008,Ug=7050009,Dg=7050010,Fg=7050011,zg=7050012,Kg=7050013,Vg=7050014,qg=7050015,$g=7050016,Hg=7050017,Wg=7050018,Gg=7050019,Yg=7050020,jg=7050021,Xg=7050022,Zg=7050023,Jg=7050024,Qg=7050025,ey=7050026,ty=7050027,ry=7050028,ny=7050029,oy=7050030,iy=7050031,sy=7050032,ay=7050033,cy=7050034,uy=7050035,fy=7050036,ha=8078e3,da=8078001,Gu=8078002,Yu=8078003,pa=8078004,ga=8078005,ya=8078006,ly=8078007,hy=8078008,dy=8078009,py=8078010,ma=8078011,gy=8078012,ju=8078013,Xu=8078014,yy=8078015,my=8078016,_y=8078017,by=8078018,wy=8078019,Zu=8078020,Ju=8078021,Ey=8078022,Ry=81e5,Sy=8100001,Ay=8100002,Iy=8100003,vy=819e4,xy=8190001,Oy=8190002,ky=8190003,Ny=8190004,Ty=99e5,By=9900001,Ly=9900002,Cy=9900003,My=9900004;function Qu(n){return Array.isArray(n)?"%5B"+n.map(Qu).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function Py([n,e]){return`${n}=${Qu(e)}`}function Uy(n){let e=Object.entries(n).map(Py).join("&");return btoa(e)}var kb={[v0]:"Account not found at address: $address",[N0]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[k0]:"Expected decoded account at address: $address",[O0]:"Failed to decode account data at address: $address",[x0]:"Accounts not found at addresses: $addresses",[S0]:"Unable to find a viable program address bump seed.",[y0]:"$putativeAddress is not a base58-encoded address.",[p0]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[m0]:"The `CryptoKey` must be an `Ed25519` public key.",[I0]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[R0]:"Invalid seeds; point must fall off the Ed25519 curve.",[_0]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[w0]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[E0]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[b0]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[A0]:"Program address cannot end with PDA marker.",[g0]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[zd]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Ud]:"The network has progressed past the last block for which this transaction could have been committed.",[ha]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Ey]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[Zu]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[ga]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[ya]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[pa]:"Encoder and decoder must either both be fixed-size or variable-size.",[hy]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[Gu]:"Expected a fixed-size codec, got a variable-size one.",[ju]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[Yu]:"Expected a variable-size codec, got a fixed-size one.",[wy]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[da]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[by]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[dy]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[py]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[yy]:"Invalid literal union variant. Expected one of [$variants], got $value.",[ly]:"Expected [$codecDescription] to have $expected items, got $actual.",[gy]:"Invalid value $value for base $base with alphabet $alphabet.",[my]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[ma]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Xu]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Ju]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[_y]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[F0]:"No random values implementation could be found.",[np]:"instruction requires an uninitialized account",[mp]:"instruction tries to borrow reference for an account which is already borrowed",[_p]:"instruction left account with an outstanding borrowed reference",[gp]:"program other than the account's owner changed the size of the account data",[Q0]:"account data too small for instruction",[yp]:"instruction expected an executable account",[zp]:"An account does not have enough lamports to be rent-exempt",[Vp]:"Program arithmetic overflowed",[Fp]:"Failed to serialize or deserialize account data: $encodedData",[Yp]:"Builtin programs must consume compute units",[vp]:"Cross-program invocation call depth too deep",[Bp]:"Computational budget exceeded",[wp]:"custom program error: #$code",[lp]:"instruction contains duplicate accounts",[bp]:"instruction modifications of multiply-passed account differ",[Ap]:"executable accounts must be rent exempt",[Rp]:"instruction changed executable accounts data",[Sp]:"instruction changed the balance of an executable account",[hp]:"instruction changed executable bit of an account",[cp]:"instruction modified data of an account it does not own",[ap]:"instruction spent from the balance of an account it does not own",[j0]:"generic instruction error",[$p]:"Provided owner is not allowed",[Up]:"Account is immutable",[Dp]:"Incorrect authority provided",[tp]:"incorrect program id for instruction",[ep]:"insufficient funds for instruction",[J0]:"invalid account data for instruction",[Kp]:"Invalid account owner",[X0]:"invalid program argument",[Ep]:"program returned invalid error code",[Z0]:"invalid instruction data",[Tp]:"Failed to reallocate account data",[Np]:"Provided seeds do not result in a valid address",[Hp]:"Accounts data allocations exceeded the maximum allowed per transaction",[Wp]:"Max accounts exceeded",[Gp]:"Max instruction trace length exceeded",[kp]:"Length of the seed is too long for address generation",[xp]:"An account required by the instruction is missing",[rp]:"missing required signature for instruction",[sp]:"instruction illegally modified the program id of an account",[pp]:"insufficient account keys for instruction",[Lp]:"Cross-program invocation with unauthorized signer or writable account",[Cp]:"Failed to create program execution environment",[Pp]:"Program failed to compile",[Mp]:"Program failed to complete",[fp]:"instruction modified data of a read-only account",[up]:"instruction changed the balance of a read-only account",[Op]:"Cross-program invocation reentrancy not allowed for this instruction",[dp]:"instruction modified rent epoch of an account",[ip]:"sum of account balances before and after instruction do not match",[op]:"instruction requires an initialized account",[Y0]:"",[Ip]:"Unsupported program id",[qp]:"Unsupported sysvar",[H0]:"The instruction does not have any accounts.",[W0]:"The instruction does not have any data.",[G0]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Kd]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Dd]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Ly]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[My]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[By]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Ty]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Cy]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Yd]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[jd]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Zd]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Xd]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Gd]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[r0]:"$__serverMessage",[d0]:"$__serverMessage",[f0]:"$__serverMessage",[e0]:"$__serverMessage",[o0]:"$__serverMessage",[i0]:"$__serverMessage",[Jd]:"Minimum context slot has not been reached",[u0]:"Node is unhealthy; behind by $numSlotsBehind slots",[s0]:"No snapshot",[h0]:"Transaction simulation failed",[a0]:"$__serverMessage",[n0]:"Transaction history is not available from this node",[c0]:"$__serverMessage",[t0]:"Transaction signature length mismatch",[l0]:"Transaction signature verification failure",[Qd]:"$__serverMessage",[z0]:"Key pair bytes must be of length 64, got $byteLength.",[K0]:"Expected private key bytes with length 32. Actual length: $actualLength.",[V0]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[$0]:"The provided private key does not match the provided public key.",[q0]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Vd]:"Lamports value must be in the range [0, 2e64-1]",[qd]:"`$value` cannot be parsed as a `BigInt`",[Wd]:"$message",[$d]:"`$value` cannot be parsed as a `Number`",[Fd]:"No nonce account could be found at address `$nonceAccountAddress`",[vy]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Oy]:"WebSocket was closed before payload could be added to the send buffer",[ky]:"WebSocket connection closed",[Ny]:"WebSocket failed to connect",[xy]:"Failed to obtain a subscription id from the server",[Iy]:"Could not find an API plan for RPC method: `$method`",[Ry]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Ay]:"HTTP error ($statusCode): $message",[Sy]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[jp]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Xp]:"The provided value does not implement the `KeyPairSigner` interface",[Jp]:"The provided value does not implement the `MessageModifyingSigner` interface",[Qp]:"The provided value does not implement the `MessagePartialSigner` interface",[Zp]:"The provided value does not implement any of the `MessageSigner` interfaces",[tg]:"The provided value does not implement the `TransactionModifyingSigner` interface",[rg]:"The provided value does not implement the `TransactionPartialSigner` interface",[ng]:"The provided value does not implement the `TransactionSendingSigner` interface",[eg]:"The provided value does not implement any of the `TransactionSigner` interfaces",[og]:"More than one `TransactionSendingSigner` was identified.",[ig]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[sg]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[D0]:"Cannot export a non-extractable key.",[B0]:"No digest implementation could be found.",[T0]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[L0]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[C0]:"No signature verification implementation could be found.",[M0]:"No key generation implementation could be found.",[P0]:"No signing implementation could be found.",[U0]:"No key export implementation could be found.",[Hd]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[$g]:"Transaction processing left an account with an outstanding borrowed reference",[kg]:"Account in use",[Ng]:"Account loaded twice",[Tg]:"Attempt to debit an account but found no record of a prior credit.",[Zg]:"Transaction loads an address table account that doesn't exist",[Mg]:"This transaction has already been processed",[Pg]:"Blockhash not found",[Ug]:"Loader call chain is too deep",[qg]:"Transactions are currently disabled due to cluster maintenance",[oy]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Lg]:"Insufficient funds for fee",[iy]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Cg]:"This account may not be used to pay transaction fees",[Fg]:"Transaction contains an invalid account reference",[Qg]:"Transaction loads an address table account with invalid data",[ey]:"Transaction address table lookup uses an invalid index",[Jg]:"Transaction loads an address table account with an invalid owner",[ay]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Kg]:"This program may not be used for executing instructions",[ty]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Gg]:"Transaction loads a writable account that cannot be written",[sy]:"Transaction exceeded max loaded accounts data size cap",[Dg]:"Transaction requires a fee but has no signature present",[Bg]:"Attempt to load a program that does not exist",[uy]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[cy]:"ResanitizationNeeded",[Vg]:"Transaction failed to sanitize accounts offsets correctly",[zg]:"Transaction did not pass signature verification",[Xg]:"Transaction locked too many accounts",[fy]:"Sum of account balances before and after transaction do not match",[Og]:"The transaction failed with the error `$errorName`",[Wg]:"Transaction version is unsupported",[jg]:"Transaction would exceed account data limit within the block",[ny]:"Transaction would exceed total account data limit",[Yg]:"Transaction would exceed max account limit within the block",[Hg]:"Transaction would exceed max Block Cost Limit",[ry]:"Transaction would exceed max Vote Cost Limit",[Rg]:"Attempted to sign a transaction with an address that is not a signer for it",[mg]:"Transaction is missing an address at index: $index.",[Sg]:"Transaction has no expected signers therefore it cannot be encoded",[xg]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[ug]:"Transaction does not have a blockhash lifetime",[fg]:"Transaction is not a durable nonce transaction",[hg]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[dg]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[gg]:"No fee payer set in CompiledTransaction",[pg]:"Could not find program address at index $index",[Ig]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[vg]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[_g]:"Transaction is missing a fee payer.",[bg]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Eg]:"Transaction first instruction is not advance nonce account instruction.",[wg]:"Transaction with no instructions cannot be durable nonce transaction.",[ag]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[cg]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Ag]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[yg]:"Transaction is missing signatures for addresses: $addresses.",[lg]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};function Dy(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${Uy(e)}'`),`${t}\``}}var Ur=class extends Error{constructor(...[e,t]){let r,o;if(t){let{cause:s,...c}=t;s&&(o={cause:s}),Object.keys(c).length>0&&(r=c)}let i=Dy(e,r);super(i,o);ve(this,"cause",this.cause);ve(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function Fy(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function ef(n){return Object.freeze({...n,encode:e=>{let t=new Uint8Array(Fy(e,n));return n.write(e,t,0),t}})}function tf(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function Nn(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function rf(n,e){if(Nn(n)!==Nn(e))throw new Ur(pa);if(Nn(n)&&Nn(e)&&n.fixedSize!==e.fixedSize)throw new Ur(ga,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!Nn(n)&&!Nn(e)&&n.maxSize!==e.maxSize)throw new Ur(ya,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function nf(n,e,t=0){if(e.length-t<=0)throw new Ur(ha,{codecDescription:n})}function of(n,e,t,r=0){let o=t.length-r;if(o<e)throw new Ur(da,{bytesLength:o,codecDescription:n,expected:e})}function zy(n,e,t,r){if(r<e||r>t)throw new Ur(ma,{codecDescription:n,max:t,min:e,value:r})}function sf(n){return n?.endian!==1}function Ky(n){return ef({fixedSize:n.size,write(e,t,r){n.range&&zy(n.name,n.range[0],n.range[1],e);let o=new ArrayBuffer(n.size);return n.set(new DataView(o),e,sf(n.config)),t.set(new Uint8Array(o),r),r+n.size}})}function Vy(n){return tf({fixedSize:n.size,read(e,t=0){nf(n.name,e,t),of(n.name,n.size,e,t);let r=new DataView(qy(e,t,n.size));return[n.get(r,sf(n.config)),t+n.size]}})}function qy(n,e,t){let r=n.byteOffset+(e??0),o=t??n.byteLength;return n.buffer.slice(r,r+o)}var _a=(n={})=>Ky({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),$y=(n={})=>Vy({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),af=(n={})=>rf(_a(n),$y(n));var ba=class extends TypeError{constructor(e,t){let r,{message:o,explanation:i,...s}=e,{path:c}=e,u=c.length===0?o:`At path: ${c.join(".")} -- ${o}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function Hy(n){return co(n)&&typeof n[Symbol.iterator]=="function"}function co(n){return typeof n=="object"&&n!=null}function mi(n){return co(n)&&!Array.isArray(n)}function Ht(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Wy(n){let{done:e,value:t}=n.next();return e?void 0:t}function Gy(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});let{path:o,branch:i}=e,{type:s}=t,{refinement:c,message:u=`Expected a value of type \`${s}\`${c?` with refinement \`${c}\``:""}, but received: \`${Ht(r)}\``}=n;return{value:r,type:s,refinement:c,key:o[o.length-1],path:o,branch:i,...n,message:u}}function*cf(n,e,t,r){Hy(n)||(n=[n]);for(let o of n){let i=Gy(o,e,t,r);i&&(yield i)}}function*wa(n,e,t={}){let{path:r=[],branch:o=[n],coerce:i=!1,mask:s=!1}=t,c={path:r,branch:o,mask:s};i&&(n=e.coercer(n,c));let u="valid";for(let g of e.validator(n,c))g.explanation=t.message,u="not_valid",yield[g,void 0];for(let[g,_,w]of e.entries(n,c)){let A=wa(_,w,{path:g===void 0?r:[...r,g],branch:g===void 0?o:[...o,_],coerce:i,mask:s,message:t.message});for(let R of A)R[0]?(u=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):i&&(_=R[1],g===void 0?n=_:n instanceof Map?n.set(g,_):n instanceof Set?n.add(_):co(n)&&(_!==void 0||g in n)&&(n[g]=_))}if(u!=="not_valid")for(let g of e.refiner(n,c))g.explanation=t.message,u="not_refined",yield[g,void 0];u==="valid"&&(yield[void 0,n])}var qt=class{constructor(e){let{type:t,schema:r,validator:o,refiner:i,coercer:s=u=>u,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=s,o?this.validator=(u,g)=>{let _=o(u,g);return cf(_,g,this,u)}:this.validator=()=>[],i?this.refiner=(u,g)=>{let _=i(u,g);return cf(_,g,this,u)}:this.refiner=()=>[]}assert(e,t){return Ea(e,this,t)}create(e,t){return K(e,this,t)}is(e){return uf(e,this)}mask(e,t){return Yy(e,this,t)}validate(e,t={}){return uo(e,this,t)}};function Ea(n,e,t){let r=uo(n,e,{message:t});if(r[0])throw r[0]}function K(n,e,t){let r=uo(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Yy(n,e,t){let r=uo(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function uf(n,e){return!uo(n,e)[0]}function uo(n,e,t={}){let r=wa(n,e,t),o=Wy(r);return o[0]?[new ba(o[0],function*(){for(let s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function rn(n,e){return new qt({type:n,schema:null,validator:e})}function ff(){return rn("any",()=>!0)}function $(n){return new qt({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(let[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ht(e)}`}})}function Wt(){return rn("boolean",n=>typeof n=="boolean")}function _i(n){return rn("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ht(e)}`)}function Se(n){let e=Ht(n),t=typeof n;return new qt({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Ht(r)}`}})}function jy(){return rn("never",()=>!1)}function H(n){return new qt({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function O(){return rn("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ht(n)}`)}function Z(n){return new qt({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Ra(n,e){return new qt({type:"record",schema:null,*entries(t){if(co(t))for(let r in t){let o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return mi(t)||`Expected an object, but received: ${Ht(t)}`},coercer(t){return mi(t)?{...t}:t}})}function F(){return rn("string",n=>typeof n=="string"||`Expected a string, but received: ${Ht(n)}`)}function bi(n){let e=jy();return new qt({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ht(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function M(n){let e=Object.keys(n);return new qt({type:"type",schema:n,*entries(t){if(co(t))for(let r of e)yield[r,t[r],n[r]]},validator(t){return mi(t)||`Expected an object, but received: ${Ht(t)}`},coercer(t){return mi(t)?{...t}:t}})}function bt(n){let e=n.map(t=>t.type).join(" | ");return new qt({type:"union",schema:null,coercer(t,r){for(let o of n){let[i,s]=o.validate(t,{coerce:!0,mask:r.mask});if(!i)return s}return t},validator(t,r){let o=[];for(let i of n){let[...s]=wa(t,i,r),[c]=s;if(c[0])for(let[u]of s)u&&o.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ht(t)}`,...o]}})}function nn(){return rn("unknown",()=>!0)}function Tn(n,e,t){return new qt({...n,coercer:(r,o)=>uf(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}var _l=Zt(Cf());var Uf=Zt(_n(),1);var vi=Zt(Pf(),1);var Em=class extends vi.default{constructor(e,t,r){super();ve(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(e,t,r){let o=r||t;try{this.socket.send(e),o()}catch(i){o(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function Df(n,e){return new Em(n,e)}var Rm=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},Ff=class extends vi.default{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:o=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...c}={},u,g){super();ve(this,"address");ve(this,"rpc_id");ve(this,"queue");ve(this,"options");ve(this,"autoconnect");ve(this,"ready");ve(this,"reconnect");ve(this,"reconnect_timer_id");ve(this,"reconnect_interval");ve(this,"max_reconnects");ve(this,"rest_options");ve(this,"current_reconnects");ve(this,"generate_request_id");ve(this,"socket");ve(this,"webSocketFactory");ve(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),g?this.dataPack=g:this.dataPack=new Rm,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,o){return!o&&typeof r=="object"&&(o=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let c=this.generate_request_id(e,t),u={jsonrpc:"2.0",method:e,params:t||void 0,id:c};this.socket.send(this.dataPack.encode(u),o,g=>{if(g)return s(g);this.queue[c]={promise:[i,s]},r&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],s(new Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,o)=>{if(!this.ready)return o(new Error("socket not ready"));let i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),s=>{if(s)return o(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);let t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);let t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Uf.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(let i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",r,o),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}};var Sm=BigInt(0),yo=BigInt(1),Am=BigInt(2),Im=BigInt(7),vm=BigInt(256),xm=BigInt(113),Vf=[],qf=[],$f=[];for(let n=0,e=yo,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],Vf.push(2*(5*r+t)),qf.push((n+1)*(n+2)/2%64);let o=Sm;for(let i=0;i<7;i++)e=(e<<yo^(e>>Im)*xm)%vm,e&Am&&(o^=yo<<(yo<<BigInt(i))-yo);$f.push(o)}var Hf=Po($f,!0),Om=Hf[0],km=Hf[1],zf=(n,e,t)=>t>32?Qc(n,e,t):Zc(n,e,t),Kf=(n,e,t)=>t>32?eu(n,e,t):Jc(n,e,t);function Nm(n,e=24){let t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)t[s]=n[s]^n[s+10]^n[s+20]^n[s+30]^n[s+40];for(let s=0;s<10;s+=2){let c=(s+8)%10,u=(s+2)%10,g=t[u],_=t[u+1],w=zf(g,_,1)^t[c],A=Kf(g,_,1)^t[c+1];for(let R=0;R<50;R+=10)n[s+R]^=w,n[s+R+1]^=A}let o=n[2],i=n[3];for(let s=0;s<24;s++){let c=qf[s],u=zf(o,i,c),g=Kf(o,i,c),_=Vf[s];o=n[_],i=n[_+1],n[_]=u,n[_+1]=g}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)t[c]=n[s+c];for(let c=0;c<10;c++)n[s+c]^=~t[(c+2)%10]&t[(c+4)%10]}n[0]^=Om[r],n[1]^=km[r]}Kt(t)}var La=class n extends xr{constructor(e,t,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=o,this.rounds=i,vr(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wc(this.state)}clone(){return this._cloneInto()}keccak(){ks(this.state32),Nm(this.state32,this.rounds),ks(this.state32),this.posOut=0,this.pos=0}update(e){lr(this),e=Yr(e),pt(e);let{blockLen:t,state:r}=this,o=e.length;for(let i=0;i<o;){let s=Math.min(t-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:o}=this;e[r]^=t,(t&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){lr(this,!1),pt(e),this.finish();let t=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-o);e.set(t.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Lo(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Kt(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new n(t,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},Tm=(n,e,t)=>Yn(()=>new La(e,n,t));var Ca=Tm(1,136,256/8);var xi=class extends xr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Bo(e);let r=Yr(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Kt(i)}update(e){return lr(this),this.iHash.update(e),this}digestInto(e){lr(this),pt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ma=(n,e,t)=>new xi(n,e).update(t).digest();Ma.create=(n,e)=>new xi(n,e);var Wf=(n,e)=>(n+(n>=0?e:-e)/Gf)/e;function Bm(n,e,t){let[[r,o],[i,s]]=e,c=Wf(s*n,t),u=Wf(-o*n,t),g=n-c*r-u*i,_=-c*o-u*s,w=g<Rr,A=_<Rr;w&&(g=-g),A&&(_=-_);let R=Tr(Math.ceil(zo(t)/2))+Ln;if(g<Rr||g>=R||_<Rr||_>=R)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:w,k1:g,k2neg:A,k2:_}}function Ua(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Pa(n,e){let t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return dr(t.lowS,"lowS"),dr(t.prehash,"prehash"),t.format!==void 0&&Ua(t.format),t}var Da=class extends Error{constructor(e=""){super(e)}},Er={Err:Da,_tlv:{encode:(n,e)=>{let{Err:t}=Er;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let r=e.length/2,o=Jn(r);if(o.length/2&128)throw new t("tlv.encode: long form length too big");let i=r>127?Jn(o.length/2|128):"";return Jn(n)+i+o+e},decode(n,e){let{Err:t}=Er,r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");let o=e[r++],i=!!(o&128),s=0;if(!i)s=o;else{let u=o&127;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");let g=e.subarray(r,r+u);if(g.length!==u)throw new t("tlv.decode: length bytes not complete");if(g[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let _ of g)s=s<<8|_;if(r+=u,s<128)throw new t("tlv.decode(long): not minimal encoding")}let c=e.subarray(r,r+s);if(c.length!==s)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+s)}}},_int:{encode(n){let{Err:e}=Er;if(n<Rr)throw new e("integer: negative integers are not allowed");let t=Jn(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){let{Err:e}=Er;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return wn(n)}},toSig(n){let{Err:e,_int:t,_tlv:r}=Er,o=ye("signature",n),{v:i,l:s}=r.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:c,l:u}=r.decode(2,i),{v:g,l:_}=r.decode(2,u);if(_.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(g)}},hexFromSig(n){let{_tlv:e,_int:t}=Er,r=e.encode(2,t.encode(n.r)),o=e.encode(2,t.encode(n.s)),i=r+o;return e.encode(48,i)}},Rr=BigInt(0),Ln=BigInt(1),Gf=BigInt(2),Oi=BigInt(3),Lm=BigInt(4);function Bn(n,e){let{BYTES:t}=n,r;if(typeof e=="bigint")r=e;else{let o=ye("private key",e);try{r=n.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Cm(n,e={}){let t=Vo("weierstrass",n,e),{Fp:r,Fn:o}=t,i=t.CURVE,{h:s,n:c}=i;Br(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:u}=e;if(u&&(!r.is0(i.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let g=jf(r,o);function _(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function w(G,p,a){let{x:f,y:h}=p.toAffine(),d=r.toBytes(f);if(dr(a,"isCompressed"),a){_();let y=!r.isOdd(h);return vt(Yf(y),d)}else return vt(Uint8Array.of(4),d,r.toBytes(h))}function A(G){Pt(G,void 0,"Point");let{publicKey:p,publicKeyUncompressed:a}=g,f=G.length,h=G[0],d=G.subarray(1);if(f===p&&(h===2||h===3)){let y=r.fromBytes(d);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");let E=x(y),I;try{I=r.sqrt(E)}catch(b){let D=b instanceof Error?": "+b.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}_();let m=r.isOdd(I);return(h&1)===1!==m&&(I=r.neg(I)),{x:y,y:I}}else if(f===a&&h===4){let y=r.BYTES,E=r.fromBytes(d.subarray(0,y)),I=r.fromBytes(d.subarray(y,y*2));if(!T(E,I))throw new Error("bad point: is not on curve");return{x:E,y:I}}else throw new Error(`bad point: got length ${f}, expected compressed=${p} or uncompressed=${a}`)}let R=e.toBytes||w,v=e.fromBytes||A;function x(G){let p=r.sqr(G),a=r.mul(p,G);return r.add(r.add(a,r.mul(G,i.a)),i.b)}function T(G,p){let a=r.sqr(p),f=x(G);return r.eql(a,f)}if(!T(i.Gx,i.Gy))throw new Error("bad curve params: generator point");let k=r.mul(r.pow(i.a,Oi),Lm),P=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(k,P)))throw new Error("bad curve params: a or b");function L(G,p,a=!1){if(!r.isValid(p)||a&&r.is0(p))throw new Error(`bad point coordinate ${G}`);return p}function z(G){if(!(G instanceof C))throw new Error("ProjectivePoint expected")}function Q(G){if(!u||!u.basises)throw new Error("no endo");return Bm(G,u.basises,o.ORDER)}let J=En((G,p)=>{let{X:a,Y:f,Z:h}=G;if(r.eql(h,r.ONE))return{x:a,y:f};let d=G.is0();p==null&&(p=d?r.ONE:r.inv(h));let y=r.mul(a,p),E=r.mul(f,p),I=r.mul(h,p);if(d)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:y,y:E}}),oe=En(G=>{if(G.is0()){if(e.allowInfinityPoint&&!r.is0(G.Y))return;throw new Error("bad point: ZERO")}let{x:p,y:a}=G.toAffine();if(!r.isValid(p)||!r.isValid(a))throw new Error("bad point: x or y not field elements");if(!T(p,a))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function re(G,p,a,f,h){return a=new C(r.mul(a.X,G),a.Y,a.Z),p=to(f,p),a=to(h,a),p.add(a)}class C{constructor(p,a,f){this.X=L("x",p),this.Y=L("y",a,!0),this.Z=L("z",f),Object.freeze(this)}static CURVE(){return i}static fromAffine(p){let{x:a,y:f}=p||{};if(!p||!r.isValid(a)||!r.isValid(f))throw new Error("invalid affine point");if(p instanceof C)throw new Error("projective point not allowed");return r.is0(a)&&r.is0(f)?C.ZERO:new C(a,f,r.ONE)}static fromBytes(p){let a=C.fromAffine(v(Pt(p,void 0,"point")));return a.assertValidity(),a}static fromHex(p){return C.fromBytes(ye("pointHex",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,a=!0){return W.createCache(this,p),a||this.multiply(Oi),this}assertValidity(){oe(this)}hasEvenY(){let{y:p}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(p)}equals(p){z(p);let{X:a,Y:f,Z:h}=this,{X:d,Y:y,Z:E}=p,I=r.eql(r.mul(a,E),r.mul(d,h)),m=r.eql(r.mul(f,E),r.mul(y,h));return I&&m}negate(){return new C(this.X,r.neg(this.Y),this.Z)}double(){let{a:p,b:a}=i,f=r.mul(a,Oi),{X:h,Y:d,Z:y}=this,E=r.ZERO,I=r.ZERO,m=r.ZERO,l=r.mul(h,h),b=r.mul(d,d),D=r.mul(y,y),U=r.mul(h,d);return U=r.add(U,U),m=r.mul(h,y),m=r.add(m,m),E=r.mul(p,m),I=r.mul(f,D),I=r.add(E,I),E=r.sub(b,I),I=r.add(b,I),I=r.mul(E,I),E=r.mul(U,E),m=r.mul(f,m),D=r.mul(p,D),U=r.sub(l,D),U=r.mul(p,U),U=r.add(U,m),m=r.add(l,l),l=r.add(m,l),l=r.add(l,D),l=r.mul(l,U),I=r.add(I,l),D=r.mul(d,y),D=r.add(D,D),l=r.mul(D,U),E=r.sub(E,l),m=r.mul(D,b),m=r.add(m,m),m=r.add(m,m),new C(E,I,m)}add(p){z(p);let{X:a,Y:f,Z:h}=this,{X:d,Y:y,Z:E}=p,I=r.ZERO,m=r.ZERO,l=r.ZERO,b=i.a,D=r.mul(i.b,Oi),U=r.mul(a,d),V=r.mul(f,y),X=r.mul(h,E),ne=r.add(a,f),te=r.add(d,y);ne=r.mul(ne,te),te=r.add(U,V),ne=r.sub(ne,te),te=r.add(a,h);let Ee=r.add(d,E);return te=r.mul(te,Ee),Ee=r.add(U,X),te=r.sub(te,Ee),Ee=r.add(f,h),I=r.add(y,E),Ee=r.mul(Ee,I),I=r.add(V,X),Ee=r.sub(Ee,I),l=r.mul(b,te),I=r.mul(D,X),l=r.add(I,l),I=r.sub(V,l),l=r.add(V,l),m=r.mul(I,l),V=r.add(U,U),V=r.add(V,U),X=r.mul(b,X),te=r.mul(D,te),V=r.add(V,X),X=r.sub(U,X),X=r.mul(b,X),te=r.add(te,X),U=r.mul(V,te),m=r.add(m,U),U=r.mul(Ee,te),I=r.mul(ne,I),I=r.sub(I,U),U=r.mul(ne,V),l=r.mul(Ee,l),l=r.add(l,U),new C(I,m,l)}subtract(p){return this.add(p.negate())}is0(){return this.equals(C.ZERO)}multiply(p){let{endo:a}=e;if(!o.isValidNot0(p))throw new Error("invalid scalar: out of range");let f,h,d=y=>W.cached(this,y,E=>yr(C,E));if(a){let{k1neg:y,k1:E,k2neg:I,k2:m}=Q(p),{p:l,f:b}=d(E),{p:D,f:U}=d(m);h=b.add(U),f=re(a.beta,l,D,y,I)}else{let{p:y,f:E}=d(p);f=y,h=E}return yr(C,[f,h])[0]}multiplyUnsafe(p){let{endo:a}=e,f=this;if(!o.isValid(p))throw new Error("invalid scalar: out of range");if(p===Rr||f.is0())return C.ZERO;if(p===Ln)return f;if(W.hasCache(this))return this.multiply(p);if(a){let{k1neg:h,k1:d,k2neg:y,k2:E}=Q(p),{p1:I,p2:m}=Ou(C,f,d,E);return re(a.beta,I,m,h,y)}else return W.unsafe(f,p)}multiplyAndAddUnsafe(p,a,f){let h=this.multiplyUnsafe(a).add(p.multiplyUnsafe(f));return h.is0()?void 0:h}toAffine(p){return J(this,p)}isTorsionFree(){let{isTorsionFree:p}=e;return s===Ln?!0:p?p(C,this):W.unsafe(this,c).is0()}clearCofactor(){let{clearCofactor:p}=e;return s===Ln?this:p?p(C,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(p=!0){return dr(p,"isCompressed"),this.assertValidity(),R(C,this,p)}toHex(p=!0){return Vt(this.toBytes(p))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return yr(C,p)}static msm(p,a){return An(C,o,p,a)}static fromPrivateKey(p){return C.BASE.multiply(Bn(o,p))}}C.BASE=new C(i.Gx,i.Gy,r.ONE),C.ZERO=new C(r.ZERO,r.ONE,r.ZERO),C.Fp=r,C.Fn=o;let j=o.BITS,W=new Sn(C,e.endo?Math.ceil(j/2):j);return C.BASE.precompute(8),C}function Yf(n){return Uint8Array.of(n?2:3)}function jf(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Mm(n,e={}){let{Fn:t}=n,r=e.randomBytes||bn,o=Object.assign(jf(n.Fp,t),{seed:Vs(t.ORDER)});function i(R){try{return!!Bn(t,R)}catch{return!1}}function s(R,v){let{publicKey:x,publicKeyUncompressed:T}=o;try{let k=R.length;return v===!0&&k!==x||v===!1&&k!==T?!1:!!n.fromBytes(R)}catch{return!1}}function c(R=r(o.seed)){return qs(Pt(R,o.seed,"seed"),t.ORDER)}function u(R,v=!0){return n.BASE.multiply(Bn(t,R)).toBytes(v)}function g(R){let v=c(R);return{secretKey:v,publicKey:u(v)}}function _(R){if(typeof R=="bigint")return!1;if(R instanceof n)return!0;let{secretKey:v,publicKey:x,publicKeyUncompressed:T}=o;if(t.allowedLengths||v===x)return;let k=ye("key",R).length;return k===x||k===T}function w(R,v,x=!0){if(_(R)===!0)throw new Error("first arg must be private key");if(_(v)===!1)throw new Error("second arg must be public key");let T=Bn(t,R);return n.fromHex(v).multiply(T).toBytes(x)}return Object.freeze({getPublicKey:u,getSharedSecret:w,keygen:g,Point:n,utils:{isValidSecretKey:i,isValidPublicKey:s,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:R=>Bn(t,R),precompute(R=8,v=n.BASE){return v.precompute(R,!1)}},lengths:o})}function Pm(n,e,t={}){Bo(e),Br(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let r=t.randomBytes||bn,o=t.hmac||((a,...f)=>Ma(e,a,vt(...f))),{Fp:i,Fn:s}=n,{ORDER:c,BITS:u}=s,{keygen:g,getPublicKey:_,getSharedSecret:w,utils:A,lengths:R}=Mm(n,t),v={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function T(a){let f=c>>Ln;return a>f}function k(a,f){if(!s.isValidNot0(f))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return f}function P(a,f){Ua(f);let h=R.signature,d=f==="compact"?h:f==="recovered"?h+1:void 0;return Pt(a,d,`${f} signature`)}class L{constructor(f,h,d){this.r=k("r",f),this.s=k("s",h),d!=null&&(this.recovery=d),Object.freeze(this)}static fromBytes(f,h=x){P(f,h);let d;if(h==="der"){let{r:m,s:l}=Er.toSig(Pt(f));return new L(m,l)}h==="recovered"&&(d=f[0],h="compact",f=f.subarray(1));let y=s.BYTES,E=f.subarray(0,y),I=f.subarray(y,y*2);return new L(s.fromBytes(E),s.fromBytes(I),d)}static fromHex(f,h){return this.fromBytes(Gr(f),h)}addRecoveryBit(f){return new L(this.r,this.s,f)}recoverPublicKey(f){let h=i.ORDER,{r:d,s:y,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(c*Gf<h&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");let m=E===2||E===3?d+c:d;if(!i.isValid(m))throw new Error("recovery id 2 or 3 invalid");let l=i.toBytes(m),b=n.fromBytes(vt(Yf((E&1)===0),l)),D=s.inv(m),U=Q(ye("msgHash",f)),V=s.create(-U*D),X=s.create(y*D),ne=n.BASE.multiplyUnsafe(V).add(b.multiplyUnsafe(X));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return T(this.s)}toBytes(f=x){if(Ua(f),f==="der")return Gr(Er.hexFromSig(this));let h=s.toBytes(this.r),d=s.toBytes(this.s);if(f==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return vt(Uint8Array.of(this.recovery),h,d)}return vt(h,d)}toHex(f){return Vt(this.toBytes(f))}assertValidity(){}static fromCompact(f){return L.fromBytes(ye("sig",f),"compact")}static fromDER(f){return L.fromBytes(ye("sig",f),"der")}normalizeS(){return this.hasHighS()?new L(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Vt(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Vt(this.toBytes("compact"))}}let z=t.bits2int||function(f){if(f.length>8192)throw new Error("input is too large");let h=wn(f),d=f.length*8-u;return d>0?h>>BigInt(d):h},Q=t.bits2int_modN||function(f){return s.create(z(f))},J=Tr(u);function oe(a){return Qn("num < 2^"+u,a,Rr,J),s.toBytes(a)}function re(a,f){return Pt(a,void 0,"message"),f?Pt(e(a),void 0,"prehashed message"):a}function C(a,f,h){if(["recovered","canonical"].some(V=>V in h))throw new Error("sign() legacy options not supported");let{lowS:d,prehash:y,extraEntropy:E}=Pa(h,v);a=re(a,y);let I=Q(a),m=Bn(s,f),l=[oe(m),oe(I)];if(E!=null&&E!==!1){let V=E===!0?r(R.secretKey):E;l.push(ye("extraEntropy",V))}let b=vt(...l),D=I;function U(V){let X=z(V);if(!s.isValidNot0(X))return;let ne=s.inv(X),te=n.BASE.multiply(X).toAffine(),Ee=s.create(te.x);if(Ee===Rr)return;let le=s.create(ne*s.create(D+Ee*m));if(le===Rr)return;let _e=(te.x===Ee?0:2)|Number(te.y&Ln),Hn=le;return d&&T(le)&&(Hn=s.neg(le),_e^=1),new L(Ee,Hn,_e)}return{seed:b,k2sig:U}}function j(a,f,h={}){a=ye("message",a);let{seed:d,k2sig:y}=C(a,f,h);return hu(e.outputLen,s.BYTES,o)(d,y)}function W(a){let f,h=typeof a=="string"||fr(a),d=!h&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!h&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(d)f=new L(a.r,a.s);else if(h){try{f=L.fromBytes(ye("sig",a),"der")}catch(y){if(!(y instanceof Er.Err))throw y}if(!f)try{f=L.fromBytes(ye("sig",a),"compact")}catch{return!1}}return f||!1}function G(a,f,h,d={}){let{lowS:y,prehash:E,format:I}=Pa(d,v);if(h=ye("publicKey",h),f=re(ye("message",f),E),"strict"in d)throw new Error("options.strict was renamed to lowS");let m=I===void 0?W(a):L.fromBytes(ye("sig",a),I);if(m===!1)return!1;try{let l=n.fromBytes(h);if(y&&m.hasHighS())return!1;let{r:b,s:D}=m,U=Q(f),V=s.inv(D),X=s.create(U*V),ne=s.create(b*V),te=n.BASE.multiplyUnsafe(X).add(l.multiplyUnsafe(ne));return te.is0()?!1:s.create(te.x)===b}catch{return!1}}function p(a,f,h={}){let{prehash:d}=Pa(h,v);return f=re(f,d),L.fromBytes(a,"recovered").recoverPublicKey(f).toBytes()}return Object.freeze({keygen:g,getPublicKey:_,getSharedSecret:w,utils:A,lengths:R,Point:n,sign:j,verify:G,recoverPublicKey:p,Signature:L,hash:e})}function Um(n){let e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,o=Ut(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),i={Fp:t,Fn:o,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:i}}function Dm(n){let{CURVE:e,curveOpts:t}=Um(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function Fm(n,e){let t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,Ko(t.Fn.ORDER,t.Fn.BITS))})}function Xf(n){let{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:o}=Dm(n),i=Cm(e,t),s=Pm(i,r,o);return Fm(n,s)}function Zf(n,e){let t=r=>Xf({...n,hash:r});return{...t(e),create:t}}var za={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},zm={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var Jf=BigInt(2);function Km(n){let e=za.p,t=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),g=n*n*n%e,_=g*g*n%e,w=Re(_,t,e)*_%e,A=Re(w,t,e)*_%e,R=Re(A,Jf,e)*g%e,v=Re(R,o,e)*R%e,x=Re(v,i,e)*v%e,T=Re(x,c,e)*x%e,k=Re(T,u,e)*T%e,P=Re(k,c,e)*x%e,L=Re(P,t,e)*_%e,z=Re(L,s,e)*v%e,Q=Re(z,r,e)*g%e,J=Re(Q,Jf,e);if(!Fa.eql(Fa.sqr(J),n))throw new Error("Cannot find square root");return J}var Fa=Ut(za.p,{sqrt:Km}),ki=Zf({...za,Fp:Fa,lowS:!0,endo:zm},Do);var Vm=Bt.utils.randomPrivateKey,Qf=()=>{let n=Bt.utils.randomPrivateKey(),e=Ti(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Ti=Bt.getPublicKey;function el(n){try{return Bt.ExtendedPoint.fromHex(n),!0}catch{return!1}}var Ja=(n,e)=>Bt.sign(n,e.slice(0,32)),qm=Bt.verify,se=n=>ee.Buffer.isBuffer(n)?n:n instanceof Uint8Array?ee.Buffer.from(n.buffer,n.byteOffset,n.byteLength):ee.Buffer.from(n),Mn=class{constructor(e){Object.assign(this,e)}encode(){return ee.Buffer.from((0,qn.serialize)(Cn,this))}static decode(e){return(0,qn.deserialize)(Cn,this,e)}static decodeUnchecked(e){return(0,qn.deserializeUnchecked)(Cn,this,e)}},Bi=class extends Mn{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}},Cn=new Map,bl,Qa=32,jt=32;function $m(n){return n._bn!==void 0}var tl=1,q=class n extends Mn{constructor(e){if(super({}),this._bn=void 0,$m(e))this._bn=e._bn;else{if(typeof e=="string"){let t=ht.default.decode(e);if(t.length!=jt)throw new Error("Invalid public key input");this._bn=new Ga.default(t)}else this._bn=new Ga.default(e);if(this._bn.byteLength()>jt)throw new Error("Invalid public key input")}}static unique(){let e=new n(tl);return tl+=1,new n(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ht.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ee.Buffer);if(e.length===jt)return e;let t=ee.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){let o=ee.Buffer.concat([e.toBuffer(),ee.Buffer.from(t),r.toBuffer()]),i=ra(o);return new n(i)}static createProgramAddressSync(e,t){let r=ee.Buffer.alloc(0);e.forEach(function(i){if(i.length>Qa)throw new TypeError("Max seed length exceeded");r=ee.Buffer.concat([r,se(i)])}),r=ee.Buffer.concat([r,t.toBuffer(),ee.Buffer.from("ProgramDerivedAddress")]);let o=ra(r);if(el(o))throw new Error("Invalid seeds, address must fall off the curve");return new n(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{let i=e.concat(ee.Buffer.from([r]));o=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new n(e);return el(t.toBytes())}};bl=q;q.default=new bl("11111111111111111111111111111111");Cn.set(q,{kind:"struct",fields:[["_bn","u256"]]});var Li=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let t=se(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=se(Vm()),this._publicKey=se(Ti(this._secretKey))}get publicKey(){return new q(this._publicKey)}get secretKey(){return ee.Buffer.concat([this._secretKey,this._publicKey],64)}},wl=new q("BPFLoader1111111111111111111111111111111111"),Ar=1232,Oo=127,Pn=64,Un=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Un.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Dn=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Dn.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Sr=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Sr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Kr=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let r=new Map;this.keySegments().flat().forEach((i,s)=>{r.set(i.toBase58(),s)});let o=i=>{let s=r.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}},ae=(n="publicKey")=>S.blob(32,n),Hm=(n="signature")=>S.blob(64,n),sn=(n="string")=>{let e=S.struct([S.u32("length"),S.u32("lengthPadding"),S.blob(S.offset(S.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(i,s)=>t(i,s).chars.toString(),o.encode=(i,s,c)=>{let u={chars:ee.Buffer.from(i,"utf8")};return r(u,s,c)},o.alloc=i=>S.u32().span+S.u32().span+ee.Buffer.from(i,"utf8").length,o},Wm=(n="authorized")=>S.struct([ae("staker"),ae("withdrawer")],n),Gm=(n="lockup")=>S.struct([S.ns64("unixTimestamp"),S.ns64("epoch"),ae("custodian")],n),Ym=(n="voteInit")=>S.struct([ae("nodePubkey"),ae("authorizedVoter"),ae("authorizedWithdrawer"),S.u8("commission")],n),jm=(n="voteAuthorizeWithSeedArgs")=>S.struct([S.u32("voteAuthorizationType"),ae("currentAuthorityDerivedKeyOwnerPubkey"),sn("currentAuthorityDerivedKeySeed"),ae("newAuthorized")],n);function El(n,e){let t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*t(o.elementLayout)}else if("fields"in o)return El({layout:o},e[o.property]);return 0},r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function Ct(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ft(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function fe(n,e){if(!n)throw new Error(e||"Assertion failed")}var Ci=class n{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let r=new Map,o=s=>{let c=s.toBase58(),u=r.get(c);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,u)),u},i=o(t);i.isSigner=!0,i.isWritable=!0;for(let s of e){o(s.programId).isInvoked=!0;for(let c of s.keys){let u=o(c.pubkey);u.isSigner||(u.isSigner=c.isSigner),u.isWritable||(u.isWritable=c.isWritable)}}return new n(t,r)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];fe(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),o=e.filter(([,u])=>!u.isSigner&&u.isWritable),i=e.filter(([,u])=>!u.isSigner&&!u.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{fe(t.length>0,"Expected at least one writable signer key");let[u]=t[0];fe(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...t.map(([u])=>new q(u)),...r.map(([u])=>new q(u)),...o.map(([u])=>new q(u)),...i.map(([u])=>new q(u))];return[s,c]}extractTableLookup(e){let[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){let r=new Array,o=new Array;for(let[i,s]of this.keyMetaMap.entries())if(t(s)){let c=new q(i),u=e.findIndex(g=>g.equals(c));u>=0&&(fe(u<256,"Max lookup table index exceeded"),r.push(u),o.push(c),this.keyMetaMap.delete(i))}return[r,o]}},Rl="Reached end of buffer unexpectedly";function ir(n){if(n.length===0)throw new Error(Rl);return n.shift()}function Mt(n,...e){let[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(Rl);return n.splice(...e)}var Xt=class n{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new q(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ht.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Kr(this.staticAccountKeys)}static compile(e){let t=Ci.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),s=new Kr(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:ht.default.encode(c.data)}));return new n({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{let r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Ft(t,e);let r=this.instructions.map(w=>{let{accounts:A,programIdIndex:R}=w,v=Array.from(ht.default.decode(w.data)),x=[];Ft(x,A.length);let T=[];return Ft(T,v.length),{programIdIndex:R,keyIndicesCount:ee.Buffer.from(x),keyIndices:A,dataLength:ee.Buffer.from(T),data:v}}),o=[];Ft(o,r.length);let i=ee.Buffer.alloc(Ar);ee.Buffer.from(o).copy(i);let s=o.length;r.forEach(w=>{let R=S.struct([S.u8("programIdIndex"),S.blob(w.keyIndicesCount.length,"keyIndicesCount"),S.seq(S.u8("keyIndex"),w.keyIndices.length,"keyIndices"),S.blob(w.dataLength.length,"dataLength"),S.seq(S.u8("userdatum"),w.data.length,"data")]).encode(w,i,s);s+=R}),i=i.slice(0,s);let c=S.struct([S.blob(1,"numRequiredSignatures"),S.blob(1,"numReadonlySignedAccounts"),S.blob(1,"numReadonlyUnsignedAccounts"),S.blob(t.length,"keyCount"),S.seq(ae("key"),e,"keys"),ae("recentBlockhash")]),u={numRequiredSignatures:ee.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ee.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ee.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ee.Buffer.from(t),keys:this.accountKeys.map(w=>se(w.toBytes())),recentBlockhash:ht.default.decode(this.recentBlockhash)},g=ee.Buffer.alloc(2048),_=c.encode(u,g);return i.copy(g,_),g.slice(0,_+i.length)}static from(e){let t=[...e],r=ir(t);if(r!==(r&Oo))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=ir(t),i=ir(t),s=Ct(t),c=[];for(let A=0;A<s;A++){let R=Mt(t,0,jt);c.push(new q(ee.Buffer.from(R)))}let u=Mt(t,0,jt),g=Ct(t),_=[];for(let A=0;A<g;A++){let R=ir(t),v=Ct(t),x=Mt(t,0,v),T=Ct(t),k=Mt(t,0,T),P=ht.default.encode(ee.Buffer.from(k));_.push({programIdIndex:R,accounts:x,data:P})}let w={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:ht.default.encode(ee.Buffer.from(u)),accountKeys:c,instructions:_};return new n(w)}},an=class n{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Kr(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){let o=e-r,i=this.addressTableLookups.reduce((s,c)=>s+c.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){let o=e-t,s=r-t-this.header.numReadonlyUnsignedAccounts;return o<s}else{let o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let r of this.addressTableLookups){let o=e.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(let i of r.writableIndexes)if(i<o.state.addresses.length)t.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(let i of r.readonlyIndexes)if(i<o.state.addresses.length)t.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){let t=Ci.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let _ of i){let w=t.extractTableLookup(_);if(w!==void 0){let[A,{writable:R,readonly:v}]=w;r.push(A),o.writable.push(...R),o.readonly.push(...v)}}let[s,c]=t.getMessageComponents(),g=new Kr(c,o).compileInstructions(e.instructions);return new n({header:s,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:g,addressTableLookups:r})}serialize(){let e=Array();Ft(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),r=Array();Ft(r,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),i=Array();Ft(i,this.addressTableLookups.length);let s=S.struct([S.u8("prefix"),S.struct([S.u8("numRequiredSignatures"),S.u8("numReadonlySignedAccounts"),S.u8("numReadonlyUnsignedAccounts")],"header"),S.blob(e.length,"staticAccountKeysLength"),S.seq(ae(),this.staticAccountKeys.length,"staticAccountKeys"),ae("recentBlockhash"),S.blob(r.length,"instructionsLength"),S.blob(t.length,"serializedInstructions"),S.blob(i.length,"addressTableLookupsLength"),S.blob(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(Ar),g=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:ht.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},c);return c.slice(0,g)}serializeInstructions(){let e=0,t=new Uint8Array(Ar);for(let r of this.compiledInstructions){let o=Array();Ft(o,r.accountKeyIndexes.length);let i=Array();Ft(i,r.data.length);let s=S.struct([S.u8("programIdIndex"),S.blob(o.length,"encodedAccountKeyIndexesLength"),S.seq(S.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),S.blob(i.length,"encodedDataLength"),S.blob(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Ar);for(let r of this.addressTableLookups){let o=Array();Ft(o,r.writableIndexes.length);let i=Array();Ft(i,r.readonlyIndexes.length);let s=S.struct([ae("accountKey"),S.blob(o.length,"encodedWritableIndexesLength"),S.seq(S.u8(),r.writableIndexes.length,"writableIndexes"),S.blob(i.length,"encodedReadonlyIndexesLength"),S.seq(S.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],r=ir(t),o=r&Oo;fe(r!==o,"Expected versioned message but received legacy message");let i=o;fe(i===0,`Expected versioned message with version 0 but found version ${i}`);let s={numRequiredSignatures:ir(t),numReadonlySignedAccounts:ir(t),numReadonlyUnsignedAccounts:ir(t)},c=[],u=Ct(t);for(let v=0;v<u;v++)c.push(new q(Mt(t,0,jt)));let g=ht.default.encode(Mt(t,0,jt)),_=Ct(t),w=[];for(let v=0;v<_;v++){let x=ir(t),T=Ct(t),k=Mt(t,0,T),P=Ct(t),L=new Uint8Array(Mt(t,0,P));w.push({programIdIndex:x,accountKeyIndexes:k,data:L})}let A=Ct(t),R=[];for(let v=0;v<A;v++){let x=new q(Mt(t,0,jt)),T=Ct(t),k=Mt(t,0,T),P=Ct(t),L=Mt(t,0,P);R.push({accountKey:x,writableIndexes:k,readonlyIndexes:L})}return new n({header:s,staticAccountKeys:c,recentBlockhash:g,compiledInstructions:w,addressTableLookups:R})}},ji={deserializeMessageVersion(n){let e=n[0],t=e&Oo;return t===e?"legacy":t},deserialize:n=>{let e=ji.deserializeMessageVersion(n);if(e==="legacy")return Xt.from(n);if(e===0)return an.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},or=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({}),Xm=ee.Buffer.alloc(Pn).fill(0),ge=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ee.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},de=class n{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{let{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ge(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<t.length;x++)if(t[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);let o=[],i=[];t.forEach(x=>{x.keys.forEach(k=>{i.push({...k})});let T=x.programId.toString();o.includes(T)||o.push(T)}),o.forEach(x=>{i.push({pubkey:new q(x),isSigner:!1,isWritable:!1})});let s=[];i.forEach(x=>{let T=x.pubkey.toString(),k=s.findIndex(P=>P.pubkey.toString()===T);k>-1?(s[k].isWritable=s[k].isWritable||x.isWritable,s[k].isSigner=s[k].isSigner||x.isSigner):s.push(x)}),s.sort(function(x,T){if(x.isSigner!==T.isSigner)return x.isSigner?-1:1;if(x.isWritable!==T.isWritable)return x.isWritable?-1:1;let k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",k)});let c=s.findIndex(x=>x.pubkey.equals(r));if(c>-1){let[x]=s.splice(c,1);x.isSigner=!0,x.isWritable=!0,s.unshift(x)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(let x of this.signatures){let T=s.findIndex(k=>k.pubkey.equals(x.publicKey));if(T>-1)s[T].isSigner||(s[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,g=0,_=0,w=[],A=[];s.forEach(({pubkey:x,isSigner:T,isWritable:k})=>{T?(w.push(x.toString()),u+=1,k||(g+=1)):(A.push(x.toString()),k||(_+=1))});let R=w.concat(A),v=t.map(x=>{let{data:T,programId:k}=x;return{programIdIndex:R.indexOf(k.toString()),accounts:x.keys.map(P=>R.indexOf(P.pubkey.toString())),data:ht.default.encode(T)}});return v.forEach(x=>{fe(x.programIdIndex>=0),x.accounts.forEach(T=>fe(T>=0))}),new Xt({header:{numRequiredSignatures:u,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:_},accountKeys:R,recentBlockhash:e,instructions:v})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,i)=>t[i].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(r=>{let o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,r=[];for(let i of e){let s=i.publicKey.toString();t.has(s)||(t.add(s),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));let o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,r=[];for(let i of e){let s=i.publicKey.toString();t.has(s)||(t.add(s),r.push(i))}let o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){let r=e.serialize();t.forEach(o=>{let i=Ja(r,o.secretKey);this._addSignature(o.publicKey,se(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){fe(t.length===64);let r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ee.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let r={};for(let{signature:o,publicKey:i}of this.signatures)o===null?t&&(r.missing||(r.missing=[])).push(i):qm(o,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){let i=this._getMessageSignednessErrors(o,t);if(i){let s="Signature verification failed.";throw i.invalid&&(s+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(s+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(o)}_serialize(e){let{signatures:t}=this,r=[];Ft(r,t.length);let o=r.length+t.length*64+e.length,i=ee.Buffer.alloc(o);return fe(t.length<256),ee.Buffer.from(r).copy(i,0),t.forEach(({signature:s},c)=>{s!==null&&(fe(s.length===64,"signature has invalid length"),ee.Buffer.from(s).copy(i,r.length+c*64))}),e.copy(i,r.length+t.length*64),fe(i.length<=Ar,`Transaction too large: ${i.length} > ${Ar}`),i}get keys(){return fe(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return fe(this.instructions.length===1),this.instructions[0].programId}get data(){return fe(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],r=Ct(t),o=[];for(let i=0;i<r;i++){let s=Mt(t,0,Pn);o.push(ht.default.encode(ee.Buffer.from(s)))}return n.populate(Xt.from(t),o)}static populate(e,t=[]){let r=new n;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,i)=>{let s={signature:o==ht.default.encode(Xm)?null:ht.default.decode(o),publicKey:e.accountKeys[i]};r.signatures.push(s)}),e.instructions.forEach(o=>{let i=o.accounts.map(s=>{let c=e.accountKeys[s];return{pubkey:c,isSigner:r.signatures.some(u=>u.publicKey.toString()===c.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new ge({keys:i,programId:e.accountKeys[o.programIdIndex],data:ht.default.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}},Mi=class n{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:r,compiledInstructions:o,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u}=r,g=s-c;fe(g>0,"Message header is invalid");let _=e.staticAccountKeys.length-s-u;fe(_>=0,"Message header is invalid");let w=e.getAccountKeys(t),A=w.get(0);if(A===void 0)throw new Error("Failed to decompile message because no account keys were found");let R=[];for(let v of o){let x=[];for(let k of v.accountKeyIndexes){let P=w.get(k);if(P===void 0)throw new Error(`Failed to find key for account key index ${k}`);let L=k<s,z;L?z=k<g:k<w.staticAccountKeys.length?z=k-s<_:z=k-w.staticAccountKeys.length<w.accountKeysFromLookups.writable.length,x.push({pubkey:P,isSigner:k<r.numRequiredSignatures,isWritable:z})}let T=w.get(v.programIdIndex);if(T===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);R.push(new ge({programId:T,data:se(v.data),keys:x}))}return new n({payerKey:A,instructions:R,recentBlockhash:i})}compileToLegacyMessage(){return Xt.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return an.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Pi=class n{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)fe(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(Pn));this.signatures=r}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Ft(t,this.signatures.length);let r=S.struct([S.blob(t.length,"encodedSignaturesLength"),S.seq(Hm(),this.signatures.length,"signatures"),S.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let t=[...e],r=[],o=Ct(t);for(let s=0;s<o;s++)r.push(new Uint8Array(Mt(t,0,Pn)));let i=ji.deserialize(new Uint8Array(t));return new n(i,r)}sign(e){let t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let i=r.findIndex(s=>s.equals(o.publicKey));fe(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=Ja(t,o.secretKey)}}addSignature(e,t){fe(t.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));fe(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}},Zm=160,Jm=64,Qm=Zm/Jm,Sl=1e3/Qm,Gt=new q("SysvarC1ock11111111111111111111111111111111"),Al=new q("SysvarEpochSchedu1e111111111111111111111111"),Il=new q("Sysvar1nstructions1111111111111111111111111"),_o=new q("SysvarRecentB1ockHashes11111111111111111111"),cn=new q("SysvarRent111111111111111111111111111111111"),vl=new q("SysvarRewards111111111111111111111111111111"),xl=new q("SysvarS1otHashes111111111111111111111111111"),Ol=new q("SysvarS1otHistory11111111111111111111111111"),bo=new q("SysvarStakeHistory1111111111111111111111111"),Vr=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:o}){let i=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${r}. `+i+s;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+i+s;break;default:c=`Unknown action '${(u=>u)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){let i=o.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}},kl={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Y=class extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function Ui(n,e,t,r){let o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,o),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await n.confirmTransaction({abortSignal:r?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,u=c.keys[0].pubkey;s=(await n.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await n.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw i!=null?new Vr({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function on(n){return new Promise(e=>setTimeout(e,n))}function ce(n,e){let t=n.layout.span>=0?n.layout.span:El(n,e),r=ee.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function pe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}var ec=S.nu64("lamportsPerSignature"),Nl=S.struct([S.u32("version"),S.u32("state"),ae("authorizedPubkey"),ae("nonce"),S.struct([ec],"feeCalculator")]),Di=Nl.span,wo=class n{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Nl.decode(se(e),0);return new n({authorizedPubkey:new q(t.authorizedPubkey),nonce:new q(t.nonce).toString(),feeCalculator:t.feeCalculator})}};function Fn(n){let e=(0,ml.blob)(8,n),t=e.decode.bind(e),r=e.encode.bind(e),o=e,i=af();return o.decode=(s,c)=>{let u=t(s,c);return i.decode(u)},o.encode=(s,c,u)=>{let g=i.encode(s);return r(g,c,u)},o}var Fi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let r=S.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(be))if(s.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:r,programId:o}=pe(be.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new q(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=pe(be.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:r,programId:o}=pe(be.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new q(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=pe(be.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:r,space:o,programId:i}=pe(be.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new q(t),seed:r,space:o,programId:new q(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=pe(be.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new q(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:r,programId:o}=pe(be.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new q(t),seed:r,programId:new q(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:r,lamports:o,space:i,programId:s}=pe(be.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new q(t),seed:r,lamports:o,space:i,programId:new q(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=pe(be.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new q(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),pe(be.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=pe(be.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=pe(be.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new q(t)}}static checkProgramId(e){if(!e.equals(dt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},be=Object.freeze({Create:{index:0,layout:S.struct([S.u32("instruction"),S.ns64("lamports"),S.ns64("space"),ae("programId")])},Assign:{index:1,layout:S.struct([S.u32("instruction"),ae("programId")])},Transfer:{index:2,layout:S.struct([S.u32("instruction"),Fn("lamports")])},CreateWithSeed:{index:3,layout:S.struct([S.u32("instruction"),ae("base"),sn("seed"),S.ns64("lamports"),S.ns64("space"),ae("programId")])},AdvanceNonceAccount:{index:4,layout:S.struct([S.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:S.struct([S.u32("instruction"),ae("authorized")])},AuthorizeNonceAccount:{index:7,layout:S.struct([S.u32("instruction"),ae("authorized")])},Allocate:{index:8,layout:S.struct([S.u32("instruction"),S.ns64("space")])},AllocateWithSeed:{index:9,layout:S.struct([S.u32("instruction"),ae("base"),sn("seed"),S.ns64("space"),ae("programId")])},AssignWithSeed:{index:10,layout:S.struct([S.u32("instruction"),ae("base"),sn("seed"),ae("programId")])},TransferWithSeed:{index:11,layout:S.struct([S.u32("instruction"),Fn("lamports"),sn("seed"),ae("programId")])},UpgradeNonceAccount:{index:12,layout:S.struct([S.u32("instruction")])}}),dt=class n{constructor(){}static createAccount(e){let t=be.Create,r=ce(t,{lamports:e.lamports,space:e.space,programId:se(e.programId.toBuffer())});return new ge({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){let o=be.TransferWithSeed;t=ce(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:se(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=be.Transfer;t=ce(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ge({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){let o=be.AssignWithSeed;t=ce(o,{base:se(e.basePubkey.toBuffer()),seed:e.seed,programId:se(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=be.Assign;t=ce(o,{programId:se(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ge({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=be.CreateWithSeed,r=ce(t,{base:se(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:se(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ge({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){let t=new de;"basePubkey"in e&&"seed"in e?t.add(n.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Di,programId:this.programId})):t.add(n.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Di,programId:this.programId}));let r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){let t=be.InitializeNonceAccount,r=ce(t,{authorized:se(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ge(o)}static nonceAdvance(e){let t=be.AdvanceNonceAccount,r=ce(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ge(o)}static nonceWithdraw(e){let t=be.WithdrawNonceAccount,r=ce(t,{lamports:e.lamports});return new ge({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){let t=be.AuthorizeNonceAccount,r=ce(t,{authorized:se(e.newAuthorizedPubkey.toBuffer())});return new ge({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){let o=be.AllocateWithSeed;t=ce(o,{base:se(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:se(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=be.Allocate;t=ce(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ge({keys:r,programId:this.programId,data:t})}};dt.programId=new q("11111111111111111111111111111111");var e_=Ar-300,un=class n{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/n.chunkSize)+1+1)}static async load(e,t,r,o,i){{let w=await e.getMinimumBalanceForRentExemption(i.length),A=await e.getAccountInfo(r.publicKey,"confirmed"),R=null;if(A!==null){if(A.executable)return console.error("Program load failed, account is already executable"),!1;A.data.length!==i.length&&(R=R||new de,R.add(dt.allocate({accountPubkey:r.publicKey,space:i.length}))),A.owner.equals(o)||(R=R||new de,R.add(dt.assign({accountPubkey:r.publicKey,programId:o}))),A.lamports<w&&(R=R||new de,R.add(dt.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:w-A.lamports})))}else R=new de().add(dt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:w>0?w:1,space:i.length,programId:o}));R!==null&&await Ui(e,R,[t,r],{commitment:"confirmed"})}let s=S.struct([S.u32("instruction"),S.u32("offset"),S.u32("bytesLength"),S.u32("bytesLengthPadding"),S.seq(S.u8("byte"),S.offset(S.u32(),-8),"bytes")]),c=n.chunkSize,u=0,g=i,_=[];for(;g.length>0;){let w=g.slice(0,c),A=ee.Buffer.alloc(c+16);s.encode({instruction:0,offset:u,bytes:w,bytesLength:0,bytesLengthPadding:0},A);let R=new de().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:A});_.push(Ui(e,R,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await on(1e3/4),u+=c,g=g.slice(c)}await Promise.all(_);{let w=S.struct([S.u32("instruction")]),A=ee.Buffer.alloc(w.span);w.encode({instruction:1},A);let R=new de().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:o,data:A}),v="processed",x=await e.sendTransaction(R,[t,r],{preflightCommitment:v}),{context:T,value:k}=await e.confirmTransaction({signature:x,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},v);if(k.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(k)})`);for(;;){try{if(await e.getSlot({commitment:v})>T.slot)break}catch{}await new Promise(P=>setTimeout(P,Math.round(Sl/2)))}}return!0}};un.chunkSize=e_;var Tl=new q("BPFLoader2111111111111111111111111111111111"),zi=class{static getMinNumSignatures(e){return un.getMinNumSignatures(e)}static load(e,t,r,o,i){return un.load(e,t,r,i,o)}};function t_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ka,rl;function r_(){if(rl)return Ka;rl=1;var n=Object.prototype.toString,e=Object.keys||function(r){var o=[];for(var i in r)o.push(i);return o};function t(r,o){var i,s,c,u,g,_,w;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),o);if(w=n.call(r),w==="[object Array]"){for(c="[",s=r.length-1,i=0;i<s;i++)c+=t(r[i],!0)+",";return s>-1&&(c+=t(r[i],!0)),c+"]"}else if(w==="[object Object]"){for(u=e(r).sort(),s=u.length,c="",i=0;i<s;)g=u[i],_=t(r[g],!1),_!==void 0&&(c&&(c+=","),c+=JSON.stringify(g)+":"+_),i++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Ka=function(r){var o=t(r,!1);if(o!==void 0)return""+o},Ka}var n_=r_(),nl=t_(n_),mo=32;function Va(n){let e=0;for(;n>1;)n/=2,e++;return e}function o_(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}var Eo=class{constructor(e,t,r,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let t=Va(o_(e+mo+1))-Va(mo)-1,r=this.getSlotsInEpoch(t),o=e-(r-mo);return[t,o]}else{let t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mo:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Va(mo)):this.slotsPerEpoch}},i_=globalThis.fetch,Ya=class extends Ff{constructor(e,t,r){let o=i=>{let s=Df(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function s_(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}var ol=56,zn=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=s_(a_,e),r=e.length-ol;fe(r>=0,"lookup table is invalid"),fe(r%32===0,"lookup table is invalid");let o=r/32,{addresses:i}=S.struct([S.seq(ae(),o,"addresses")]).decode(e.slice(ol));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new q(t.authority[0]):void 0,addresses:i.map(s=>new q(s))}}},a_={index:1,layout:S.struct([S.u32("typeIndex"),Fn("deactivationSlot"),S.nu64("lastExtendedSlot"),S.u8("lastExtendedStartIndex"),S.u8(),S.seq(ae(),S.offset(S.u8(),-1),"authority")])},c_=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function u_(n){let e=n.match(c_);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);let[t,r,o,i]=e,s=n.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),u=c==null?"":`:${c+1}`;return`${s}//${r}${u}${i}`}var Ae=Tn(_i(q),F(),n=>new q(n)),Bl=bi([F(),Se("base64")]),tc=Tn(_i(ee.Buffer),Bl,n=>ee.Buffer.from(n[0],"base64")),rc=30*1e3;function f_(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function we(n){let e,t;if(typeof n=="string")e=n;else if(n){let{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function il(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Ll(n){return bt([M({jsonrpc:Se("2.0"),id:F(),result:n}),M({jsonrpc:Se("2.0"),id:F(),error:M({code:nn(),message:F(),data:Z(ff())})})])}var l_=Ll(nn());function ie(n){return Tn(Ll(n),l_,e=>"error"in e?e:{...e,result:K(e.result,n)})}function xe(n){return ie(M({context:M({slot:O()}),value:n}))}function Xi(n){return M({context:M({slot:O()}),value:n})}function qa(n,e){return n===0?new an({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new q(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ht.default.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Xt(e)}var h_=M({foundation:O(),foundationTerm:O(),initial:O(),taper:O(),terminal:O()}),d_=ie($(H(M({epoch:O(),effectiveSlot:O(),amount:O(),postBalance:O(),commission:Z(H(O()))})))),p_=$(M({slot:O(),prioritizationFee:O()})),g_=M({total:O(),validator:O(),foundation:O(),epoch:O()}),y_=M({epoch:O(),slotIndex:O(),slotsInEpoch:O(),absoluteSlot:O(),blockHeight:Z(O()),transactionCount:Z(O())}),m_=M({slotsPerEpoch:O(),leaderScheduleSlotOffset:O(),warmup:Wt(),firstNormalEpoch:O(),firstNormalSlot:O()}),__=Ra(F(),$(O())),hn=H(bt([M({}),F()])),b_=M({err:hn}),w_=Se("receivedSignature"),E_=M({"solana-core":F(),"feature-set":Z(O())}),R_=M({program:F(),programId:Ae,parsed:nn()}),S_=M({programId:Ae,accounts:$(Ae),data:F()}),sl=xe(M({err:H(bt([M({}),F()])),logs:H($(F())),accounts:Z(H($(H(M({executable:Wt(),owner:F(),lamports:O(),data:$(F()),rentEpoch:Z(O())}))))),unitsConsumed:Z(O()),returnData:Z(H(M({programId:F(),data:bi([F(),Se("base64")])}))),innerInstructions:Z(H($(M({index:O(),instructions:$(bt([R_,S_]))}))))})),A_=xe(M({byIdentity:Ra(F(),$(O())),range:M({firstSlot:O(),lastSlot:O()})}));function I_(n,e,t,r,o,i){let s=t||i_,c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(_,w)=>{let A=await new Promise((R,v)=>{try{r(_,w,(x,T)=>R([x,T]))}catch(x){v(x)}});return await s(...A)}),new _l.default(async(_,w)=>{let A={method:"POST",body:_,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},I1)};try{let R=5,v,x=500;for(;u?v=await u(n,A):v=await s(n,A),!(v.status!==429||o===!0||(R-=1,R===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${x}ms delay...`),await on(x),x*=2;let T=await v.text();v.ok?w(null,T):w(new Error(`${v.status} ${v.statusText}: ${T}`))}catch(R){R instanceof Error&&w(R)}},{})}function v_(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(i,s)=>{if(i){o(i);return}r(s)})})}function x_(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);let o=e.map(i=>n.request(i.methodName,i.args));n.request(o,(i,s)=>{if(i){r(i);return}t(s)})})}var O_=ie(h_),k_=ie(g_),N_=ie(p_),T_=ie(y_),B_=ie(m_),L_=ie(__),C_=ie(O()),M_=xe(M({total:O(),circulating:O(),nonCirculating:O(),nonCirculatingAccounts:$(Ae)})),ja=M({amount:F(),uiAmount:H(O()),decimals:O(),uiAmountString:Z(F())}),P_=xe($(M({address:Ae,amount:F(),uiAmount:H(O()),decimals:O(),uiAmountString:Z(F())}))),U_=xe($(M({pubkey:Ae,account:M({executable:Wt(),owner:Ae,lamports:O(),data:tc,rentEpoch:O()})}))),Xa=M({program:F(),parsed:nn(),space:O()}),D_=xe($(M({pubkey:Ae,account:M({executable:Wt(),owner:Ae,lamports:O(),data:Xa,rentEpoch:O()})}))),F_=xe($(M({lamports:O(),address:Ae}))),Ro=M({executable:Wt(),owner:Ae,lamports:O(),data:tc,rentEpoch:O()}),z_=M({pubkey:Ae,account:Ro}),K_=Tn(bt([_i(ee.Buffer),Xa]),bt([Bl,Xa]),n=>Array.isArray(n)?K(n,tc):n),Za=M({executable:Wt(),owner:Ae,lamports:O(),data:K_,rentEpoch:O()}),V_=M({pubkey:Ae,account:Za}),q_=M({state:bt([Se("active"),Se("inactive"),Se("activating"),Se("deactivating")]),active:O(),inactive:O()}),$_=ie($(M({signature:F(),slot:O(),err:hn,memo:H(F()),blockTime:Z(H(O()))}))),H_=ie($(M({signature:F(),slot:O(),err:hn,memo:H(F()),blockTime:Z(H(O()))}))),W_=M({subscription:O(),result:Xi(Ro)}),G_=M({pubkey:Ae,account:Ro}),Y_=M({subscription:O(),result:Xi(G_)}),j_=M({parent:O(),slot:O(),root:O()}),X_=M({subscription:O(),result:j_}),Z_=bt([M({type:bt([Se("firstShredReceived"),Se("completed"),Se("optimisticConfirmation"),Se("root")]),slot:O(),timestamp:O()}),M({type:Se("createdBank"),parent:O(),slot:O(),timestamp:O()}),M({type:Se("frozen"),slot:O(),timestamp:O(),stats:M({numTransactionEntries:O(),numSuccessfulTransactions:O(),numFailedTransactions:O(),maxTransactionsPerEntry:O()})}),M({type:Se("dead"),slot:O(),timestamp:O(),err:F()})]),J_=M({subscription:O(),result:Z_}),Q_=M({subscription:O(),result:Xi(bt([b_,w_]))}),e1=M({subscription:O(),result:O()}),t1=M({pubkey:F(),gossip:H(F()),tpu:H(F()),rpc:H(F()),version:H(F())}),al=M({votePubkey:F(),nodePubkey:F(),activatedStake:O(),epochVoteAccount:Wt(),epochCredits:$(bi([O(),O(),O()])),commission:O(),lastVote:O(),rootSlot:H(O())}),r1=ie(M({current:$(al),delinquent:$(al)})),n1=bt([Se("processed"),Se("confirmed"),Se("finalized")]),o1=M({slot:O(),confirmations:H(O()),err:hn,confirmationStatus:Z(n1)}),i1=xe($(H(o1))),s1=ie(O()),Cl=M({accountKey:Ae,writableIndexes:$(O()),readonlyIndexes:$(O())}),nc=M({signatures:$(F()),message:M({accountKeys:$(F()),header:M({numRequiredSignatures:O(),numReadonlySignedAccounts:O(),numReadonlyUnsignedAccounts:O()}),instructions:$(M({accounts:$(O()),data:F(),programIdIndex:O()})),recentBlockhash:F(),addressTableLookups:Z($(Cl))})}),Ml=M({pubkey:Ae,signer:Wt(),writable:Wt(),source:Z(bt([Se("transaction"),Se("lookupTable")]))}),Pl=M({accountKeys:$(Ml),signatures:$(F())}),Ul=M({parsed:nn(),program:F(),programId:Ae}),Dl=M({accounts:$(Ae),data:F(),programId:Ae}),a1=bt([Dl,Ul]),c1=bt([M({parsed:nn(),program:F(),programId:F()}),M({accounts:$(F()),data:F(),programId:F()})]),Fl=Tn(a1,c1,n=>"accounts"in n?K(n,Dl):K(n,Ul)),zl=M({signatures:$(F()),message:M({accountKeys:$(Ml),instructions:$(Fl),recentBlockhash:F(),addressTableLookups:Z(H($(Cl)))})}),Ki=M({accountIndex:O(),mint:F(),owner:Z(F()),programId:Z(F()),uiTokenAmount:ja}),Kl=M({writable:$(Ae),readonly:$(Ae)}),Zi=M({err:hn,fee:O(),innerInstructions:Z(H($(M({index:O(),instructions:$(M({accounts:$(O()),data:F(),programIdIndex:O()}))})))),preBalances:$(O()),postBalances:$(O()),logMessages:Z(H($(F()))),preTokenBalances:Z(H($(Ki))),postTokenBalances:Z(H($(Ki))),loadedAddresses:Z(Kl),computeUnitsConsumed:Z(O()),costUnits:Z(O())}),oc=M({err:hn,fee:O(),innerInstructions:Z(H($(M({index:O(),instructions:$(Fl)})))),preBalances:$(O()),postBalances:$(O()),logMessages:Z(H($(F()))),preTokenBalances:Z(H($(Ki))),postTokenBalances:Z(H($(Ki))),loadedAddresses:Z(Kl),computeUnitsConsumed:Z(O()),costUnits:Z(O())}),$n=bt([Se(0),Se("legacy")]),dn=M({pubkey:F(),lamports:O(),postBalance:H(O()),rewardType:H(F()),commission:Z(H(O()))}),u1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),transactions:$(M({transaction:nc,meta:H(Zi),version:Z($n)})),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),f1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),l1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),transactions:$(M({transaction:Pl,meta:H(Zi),version:Z($n)})),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),h1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),transactions:$(M({transaction:zl,meta:H(oc),version:Z($n)})),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),d1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),transactions:$(M({transaction:Pl,meta:H(oc),version:Z($n)})),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),p1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),rewards:Z($(dn)),blockTime:H(O()),blockHeight:H(O())}))),g1=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),transactions:$(M({transaction:nc,meta:H(Zi)})),rewards:Z($(dn)),blockTime:H(O())}))),cl=ie(H(M({blockhash:F(),previousBlockhash:F(),parentSlot:O(),signatures:$(F()),blockTime:H(O())}))),$a=ie(H(M({slot:O(),meta:H(Zi),blockTime:Z(H(O())),transaction:nc,version:Z($n)}))),Ni=ie(H(M({slot:O(),transaction:zl,meta:H(oc),blockTime:Z(H(O())),version:Z($n)}))),y1=xe(M({blockhash:F(),lastValidBlockHeight:O()})),m1=xe(Wt()),_1=M({slot:O(),numTransactions:O(),numSlots:O(),samplePeriodSecs:O()}),b1=ie($(_1)),w1=xe(H(M({feeCalculator:M({lamportsPerSignature:O()})}))),E1=ie(F()),R1=ie(F()),S1=M({err:hn,logs:$(F()),signature:F()}),A1=M({result:Xi(S1),subscription:O()}),I1={"solana-client":"js/1.0.0-maintenance"},Vi=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let g={};return async _=>{let{commitment:w,config:A}=we(_),R=this._buildArgs([],w,void 0,A),v=nl(R);return g[v]=g[v]??(async()=>{try{let x=await this._rpcRequest("getBlockHeight",R),T=K(x,ie(O()));if("error"in T)throw new Y(T.error,"failed to get block height information");return T.result}finally{delete g[v]}})(),await g[v]}})();let r,o,i,s,c,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,c=t.disableRetryOnRateLimit,u=t.httpAgent),this._rpcEndpoint=f_(e),this._rpcWsEndpoint=r||u_(e),this._rpcClient=I_(e,o,i,s,c,u),this._rpcRequest=v_(this._rpcClient),this._rpcBatchRequest=x_(this._rpcClient),this._rpcWebSocket=new Ya(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgs([e.toBase58()],r,void 0,o),s=await this._rpcRequest("getBalance",i),c=K(s,xe(O()));if("error"in c)throw new Y(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){let t=await this._rpcRequest("getBlockTime",[e]),r=K(t,ie(H(O())));if("error"in r)throw new Y(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),t=K(e,ie(O()));if("error"in t)throw new Y(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),t=K(e,C_);if("error"in t)throw new Y(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};let r=await this._rpcRequest("getSupply",[t]),o=K(r,M_);if("error"in o)throw new Y(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){let r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),i=K(o,xe(ja));if("error"in i)throw new Y(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){let r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),i=K(o,xe(ja));if("error"in i)throw new Y(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){let{commitment:o,config:i}=we(r),s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});let c=this._buildArgs(s,o,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",c),g=K(u,U_);if("error"in g)throw new Y(g.error,`failed to get token accounts owned by account ${e.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});let i=this._buildArgs(o,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),c=K(s,D_);if("error"in c)throw new Y(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),i=K(o,F_);if("error"in i)throw new Y(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){let r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),i=K(o,P_);if("error"in i)throw new Y(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgs([e.toBase58()],r,"base64",o),s=await this._rpcRequest("getAccountInfo",i),c=K(s,xe(H(Ro)));if("error"in c)throw new Y(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getAccountInfo",i),c=K(s,xe(H(Za)));if("error"in c)throw new Y(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){let{commitment:r,config:o}=we(t),i=e.map(g=>g.toBase58()),s=this._buildArgs([i],r,"jsonParsed",o),c=await this._rpcRequest("getMultipleAccounts",s),u=K(c,xe($(H(Za))));if("error"in u)throw new Y(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:r,config:o}=we(t),i=e.map(g=>g.toBase58()),s=this._buildArgs([i],r,"base64",o),c=await this._rpcRequest("getMultipleAccounts",s),u=K(c,xe($(H(Ro))));if("error"in u)throw new Y(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){let{commitment:o,config:i}=we(t),s=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:r??i?.epoch}),c=await this._rpcRequest("getStakeActivation",s),u=K(c,ie(q_));if("error"in u)throw new Y(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,t){let{commitment:r,config:o}=we(t),{encoding:i,...s}=o||{},c=this._buildArgs([e.toBase58()],r,i||"base64",{...s,...s.filters?{filters:il(s.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",c),g=$(z_),_=s.withContext===!0?K(u,xe(g)):K(u,ie(g));if("error"in _)throw new Y(_.error,`failed to get accounts owned by program ${e.toBase58()}`);return _.result}async getParsedProgramAccounts(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),s=await this._rpcRequest("getProgramAccounts",i),c=K(s,ie($(V_)));if("error"in c)throw new Y(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,t){let r;if(typeof e=="string")r=e;else{let i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);r=i.signature}let o;try{o=ht.default.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return fe(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,i=!1,s=new Promise((u,g)=>{try{r=this.onSignature(t,(w,A)=>{r=void 0;let R={context:A,value:w};u({__type:or.PROCESSED,response:R})},e);let _=new Promise(w=>{r==null?w():o=this._onSubscriptionStateChange(r,A=>{A==="subscribed"&&w()})});(async()=>{if(await _,i)return;let w=await this.getSignatureStatus(t);if(i||w==null)return;let{context:A,value:R}=w;if(R!=null)if(R?.err)g(R.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:or.PROCESSED,response:{context:A,value:R}})}})()}catch(_){g(_)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let i=!1,s=new Promise(w=>{let A=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let R=await A();if(!i){for(;R<=r;)if(await on(1e3),i||(R=await A(),i))return;w({__type:or.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(t),_;try{let w=await Promise.race([g,u,s]);if(w.__type===or.PROCESSED)_=w.response;else throw new Un(o)}finally{i=!0,c()}return _}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:i,signature:s}}){let c=!1,u=new Promise(R=>{let v=i,x=null,T=async()=>{try{let{context:k,value:P}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return x=k.slot,P?.nonce}catch{return v}};(async()=>{if(v=await T(),!c)for(;;){if(i!==v){R({__type:or.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await on(2e3),c||(v=await T(),c))return}})()}),{abortConfirmation:g,confirmationPromise:_}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),w=this.getCancellationPromise(t),A;try{let R=await Promise.race([w,_,u]);if(R.__type===or.PROCESSED)A=R.response;else{let v;for(;;){let x=await this.getSignatureStatus(s);if(x==null)break;if(x.context.slot<(R.slotInWhichNonceDidAdvance??r)){await on(400);continue}v=x;break}if(v?.value){let x=e||"finalized",{confirmationStatus:T}=v.value;switch(x){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new Sr(s);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new Sr(s);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new Sr(s);break;default:}A={context:v.context,value:{err:v.value.err}}}else throw new Sr(s)}}finally{c=!0,g()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r,o=new Promise(u=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:or.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t}),c;try{let u=await Promise.race([s,o]);if(u.__type===or.PROCESSED)c=u.response;else throw new Dn(t,u.timeoutMs/1e3)}finally{clearTimeout(r),i()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),t=K(e,ie($(t1)));if("error"in t)throw new Y(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=K(r,r1);if("error"in o)throw new Y(o.error,"failed to get vote accounts");return o.result}async getSlot(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",o),s=K(i,ie(O()));if("error"in s)throw new Y(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",o),s=K(i,ie(F()));if("error"in s)throw new Y(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){let r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),i=K(o,ie($(Ae)));if("error"in i)throw new Y(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){let{context:r,value:o}=await this.getSignatureStatuses([e],t);fe(o.length===1);let i=o[0];return{context:r,value:i}}async getSignatureStatuses(e,t){let r=[e];t&&r.push(t);let o=await this._rpcRequest("getSignatureStatuses",r),i=K(o,i1);if("error"in i)throw new Y(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",o),s=K(i,ie(O()));if("error"in s)throw new Y(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=K(r,O_);if("error"in o)throw new Y(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){let{commitment:o,config:i}=we(r),s=this._buildArgs([e.map(g=>g.toBase58())],o,void 0,{...i,epoch:t??i?.epoch}),c=await this._rpcRequest("getInflationReward",s),u=K(c,d_);if("error"in u)throw new Y(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),t=K(e,k_);if("error"in t)throw new Y(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",o),s=K(i,T_);if("error"in s)throw new Y(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),t=K(e,B_);if("error"in t)throw new Y(t.error,"failed to get epoch schedule");let r=t.result;return new Eo(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),t=K(e,L_);if("error"in t)throw new Y(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){let r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=K(o,s1);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=K(t,b1);if("error"in r)throw new Y(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){let r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=K(o,w1);if("error"in i)throw new Y(i.error,"failed to get fee calculator");let{context:s,value:c}=i.result;return{context:s,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,t){let r=se(e.serialize()).toString("base64"),o=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",o),s=K(i,xe(H(O())));if("error"in s)throw new Y(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(s=>s.toBase58()),r=t?.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),i=K(o,N_);if("error"in i)throw new Y(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",o),s=K(i,y1);if("error"in s)throw new Y(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgs([e],r,void 0,o),s=await this._rpcRequest("isBlockhashValid",i),c=K(s,m1);if("error"in c)throw new Y(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),t=K(e,ie(E_));if("error"in t)throw new Y(t.error,"failed to get version");return t.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),t=K(e,ie(F()));if("error"in t)throw new Y(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let c=K(s,l1);if("error"in c)throw c.error;return c.result}case"none":{let c=K(s,f1);if("error"in c)throw c.error;return c.result}default:{let c=K(s,u1);if("error"in c)throw c.error;let{result:u}=c;return u?{...u,transactions:u.transactions.map(({transaction:g,meta:_,version:w})=>({meta:_,transaction:{...g,message:qa(w,g.message)},version:w}))}:null}}}catch(c){throw new Y(c,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let c=K(s,d1);if("error"in c)throw c.error;return c.result}case"none":{let c=K(s,p1);if("error"in c)throw c.error;return c.result}default:{let c=K(s,h1);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Y(c,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){let{commitment:c,...u}=e;r=c,t=u}let o=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",o),s=K(i,A_);if("error"in s)throw new Y(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),s=await this._rpcRequest("getTransaction",i),c=K(s,$a);if("error"in c)throw new Y(c.error,"failed to get transaction");let u=c.result;return u&&{...u,transaction:{...u.transaction,message:qa(u.version,u.transaction.message)}}}async getParsedTransaction(e,t){let{commitment:r,config:o}=we(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),s=await this._rpcRequest("getTransaction",i),c=K(s,Ni);if("error"in c)throw new Y(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,t){let{commitment:r,config:o}=we(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(u=>{let g=K(u,Ni);if("error"in g)throw new Y(g.error,"failed to get transactions");return g.result})}async getTransactions(e,t){let{commitment:r,config:o}=we(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,o)}));return(await this._rpcBatchRequest(i)).map(u=>{let g=K(u,$a);if("error"in g)throw new Y(g.error,"failed to get transactions");let _=g.result;return _&&{..._,transaction:{..._.transaction,message:qa(_.version,_.transaction.message)}}})}async getConfirmedBlock(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getBlock",r),i=K(o,g1);if("error"in i)throw new Y(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");let c={...s,transactions:s.transactions.map(({transaction:u,meta:g})=>{let _=new Xt(u.message);return{meta:g,transaction:{...u,message:_}}})};return{...c,transactions:c.transactions.map(({transaction:u,meta:g})=>({meta:g,transaction:de.populate(u.message,u.signatures)}))}}async getBlocks(e,t,r){let o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",o),s=K(i,ie($(O())));if("error"in s)throw new Y(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=K(o,cl);if("error"in i)throw new Y(i.error,"failed to get block");let s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=K(o,cl);if("error"in i)throw new Y(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getTransaction",r),i=K(o,$a);if("error"in i)throw new Y(i.error,"failed to get transaction");let s=i.result;if(!s)return s;let c=new Xt(s.transaction.message),u=s.transaction.signatures;return{...s,transaction:de.populate(c,u)}}async getParsedConfirmedTransaction(e,t){let r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getTransaction",r),i=K(o,Ni);if("error"in i)throw new Y(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){let r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{let c=K(s,Ni);if("error"in c)throw new Y(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<i));)try{let u=await this.getConfirmedBlockSignatures(t,"finalized");u.signatures.length>0&&(o.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let s=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>s));)try{let u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(o.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,t,r){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),s=K(i,$_);if("error"in s)throw new Y(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",o),s=K(i,H_);if("error"in s)throw new Y(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){let{context:r,value:o}=await this.getAccountInfoAndContext(e,t),i=null;return o!==null&&(i=new zn({key:e,state:zn.deserialize(o.data)})),{context:r,value:i}}async getNonceAndContext(e,t){let{context:r,value:o}=await this.getAccountInfoAndContext(e,t),i=null;return o!==null&&(i=wo.fromAccountData(o.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){let r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=K(r,E1);if("error"in o)throw new Y(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await on(100);let r=Date.now()-this._blockhashInfo.lastFetch>=rc;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){let i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await on(Sl/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:r}=we(e),o=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",o),s=K(i,xe(O()));if("error"in s)throw new Y(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,r){if("message"in e){let x=e.serialize(),T=ee.Buffer.from(x).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");let k=t||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(k.innerInstructions=t.innerInstructions);let P=[T,k],L=await this._rpcRequest("simulateTransaction",P),z=K(L,sl);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let o;if(e instanceof de){let v=e;o=new de,o.feePayer=v.feePayer,o.instructions=e.instructions,o.nonceInfo=v.nonceInfo,o.signatures=v.signatures}else o=de.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");let i=t;if(o.nonceInfo&&i)o.sign(...i);else{let v=this._disableBlockhashCaching;for(;;){let x=await this._blockhashWithExpiryBlockHeight(v);if(o.lastValidBlockHeight=x.lastValidBlockHeight,o.recentBlockhash=x.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");let T=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else v=!0}}let s=o._compile(),c=s.serialize(),g=o._serialize(c).toString("base64"),_={encoding:"base64",commitment:this.commitment};if(r){let v=(Array.isArray(r)?r:s.nonProgramIds()).map(x=>x.toBase58());_.accounts={encoding:"base64",addresses:v}}i&&(_.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(_.innerInstructions=t.innerInstructions);let w=[g,_],A=await this._rpcRequest("simulateTransaction",w),R=K(A,sl);if("error"in R){let v;if("data"in R.error&&(v=R.error.data.logs,v&&Array.isArray(v))){let x=`
    `,T=x+v.join(x);console.error(R.error.message,T)}throw new Vr({action:"simulate",signature:"",transactionMessage:R.error.message,logs:v})}return R.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");let o=t;if(e.nonceInfo)e.sign(...o);else{let s=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");let u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))s=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}let i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){let r=se(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){let r={encoding:"base64"},o=t&&t.skipPreflight,i=o===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),i&&(r.preflightCommitment=i);let s=[e,r],c=await this._rpcRequest("sendTransaction",s),u=K(c,R1);if("error"in u){let g;throw"data"in u.error&&(g=u.error.data.logs),new Vr({action:o?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:g})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){let r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){let o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(i=>{try{i(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var i;let r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};let o=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{let o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:i,method:s}=o;try{this._setSubscription(r,{...o,state:"subscribing"});let c=await this._rpcWebSocket.call(s,i);this._setSubscription(r,{...o,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:i,error:c}),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:i,unsubscribeMethod:s}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[i])}catch(c){if(c instanceof Error&&console.error(`${s} error:`,c.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){let r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){let{result:t,subscription:r}=K(e,W_);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){let r=this._nextClientSubscriptionId++,o=nl([e.method,t]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];let s=this._subscriptionsByHash[o];fe(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){let{commitment:o,config:i}=we(r),s=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:r}=K(e,Y_);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){let{commitment:i,config:s}=we(r),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(o?{filters:il(o)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){let o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:r}=K(e,A1);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:r}=K(e,X_);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:r}=K(e,J_);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){let i=t||this._commitment;if(i||r||o){let s={};r&&(s.encoding=r),i&&(s.commitment=i),o&&(s=Object.assign(s,o)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){let i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){let{result:t,subscription:r}=K(e,Q_);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){let o=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(s,c)=>{if(s.type==="status"){t(s.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,t,r){let{commitment:o,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],o,void 0,i),c=this._makeSubscription({callback:(u,g)=>{t(u,g);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:r}=K(e,e1);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},So=class n{constructor(e){this._keypair=void 0,this._keypair=e??Qf()}static generate(){return new n(Qf())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let r=e.slice(32,64);if(!t||!t.skipValidation){let o=e.slice(0,32),i=Ti(o);for(let s=0;s<32;s++)if(r[s]!==i[s])throw new Error("provided secretKey is invalid")}return new n({publicKey:r,secretKey:e})}static fromSeed(e){let t=Ti(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new n({publicKey:t,secretKey:r})}get publicKey(){return new q(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},sr=Object.freeze({CreateLookupTable:{index:0,layout:S.struct([S.u32("instruction"),Fn("recentSlot"),S.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:S.struct([S.u32("instruction")])},ExtendLookupTable:{index:2,layout:S.struct([S.u32("instruction"),Fn(),S.seq(ae(),S.offset(S.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:S.struct([S.u32("instruction")])},CloseLookupTable:{index:4,layout:S.struct([S.u32("instruction")])}}),qi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let r=S.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(sr))if(s.index==r){o=i;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=pe(sr.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=pe(sr.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new q(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Kn.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},Kn=class{constructor(){}static createLookupTable(e){let[t,r]=q.findProgramAddressSync([e.authority.toBuffer(),_a().encode(e.recentSlot)],this.programId),o=sr.CreateLookupTable,i=ce(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:dt.programId,isSigner:!1,isWritable:!1}];return[new ge({programId:this.programId,keys:s,data:i}),t]}static freezeLookupTable(e){let t=sr.FreezeLookupTable,r=ce(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ge({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){let t=sr.ExtendLookupTable,r=ce(t,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:dt.programId,isSigner:!1,isWritable:!1}),new ge({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){let t=sr.DeactivateLookupTable,r=ce(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ge({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){let t=sr.CloseLookupTable,r=ce(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ge({programId:this.programId,keys:o,data:r})}};Kn.programId=new q("AddressLookupTab1e1111111111111111111111111");var $i=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let r=S.u8("instruction").decode(e.data),o;for(let[i,s]of Object.entries(Yt))if(s.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:r}=pe(Yt.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=pe(Yt.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=pe(Yt.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=pe(Yt.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Vn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Yt=Object.freeze({RequestUnits:{index:0,layout:S.struct([S.u8("instruction"),S.u32("units"),S.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:S.struct([S.u8("instruction"),S.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:S.struct([S.u8("instruction"),S.u32("units")])},SetComputeUnitPrice:{index:3,layout:S.struct([S.u8("instruction"),Fn("microLamports")])}}),Vn=class{constructor(){}static requestUnits(e){let t=Yt.RequestUnits,r=ce(t,e);return new ge({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){let t=Yt.RequestHeapFrame,r=ce(t,e);return new ge({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){let t=Yt.SetComputeUnitLimit,r=ce(t,e);return new ge({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){let t=Yt.SetComputeUnitPrice,r=ce(t,{microLamports:BigInt(e.microLamports)});return new ge({keys:[],programId:this.programId,data:r})}};Vn.programId=new q("ComputeBudget111111111111111111111111111111");var ul=64,fl=32,ll=64,hl=S.struct([S.u8("numSignatures"),S.u8("padding"),S.u16("signatureOffset"),S.u16("signatureInstructionIndex"),S.u16("publicKeyOffset"),S.u16("publicKeyInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u16("messageInstructionIndex")]),Ao=class n{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:o,instructionIndex:i}=e;fe(t.length===fl,`Public Key must be ${fl} bytes but received ${t.length} bytes`),fe(o.length===ll,`Signature must be ${ll} bytes but received ${o.length} bytes`);let s=hl.span,c=s+t.length,u=c+o.length,g=1,_=ee.Buffer.alloc(u+r.length),w=i??65535;return hl.encode({numSignatures:g,padding:0,signatureOffset:c,signatureInstructionIndex:w,publicKeyOffset:s,publicKeyInstructionIndex:w,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:w},_),_.fill(t,s),_.fill(o,c),_.fill(r,u),new ge({keys:[],programId:n.programId,data:_})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:o}=e;fe(t.length===ul,`Private key must be ${ul} bytes but received ${t.length} bytes`);try{let i=So.fromSecretKey(t),s=i.publicKey.toBytes(),c=Ja(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:c,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Ao.programId=new q("Ed25519SigVerify111111111111111111111111111");var v1=(n,e)=>{let t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;var x1=ki.getPublicKey,dl=32,Ha=20,pl=64,O1=11,Wa=S.struct([S.u8("numSignatures"),S.u16("signatureOffset"),S.u8("signatureInstructionIndex"),S.u16("ethAddressOffset"),S.u8("ethAddressInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u8("messageInstructionIndex"),S.blob(20,"ethAddress"),S.blob(64,"signature"),S.u8("recoveryId")]),Io=class n{constructor(){}static publicKeyToEthAddress(e){fe(e.length===pl,`Public key must be ${pl} bytes but received ${e.length} bytes`);try{return ee.Buffer.from(Ca(se(e))).slice(-Ha)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:r,signature:o,recoveryId:i,instructionIndex:s}=e;return n.createInstructionWithEthAddress({ethAddress:n.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:r,signature:o,recoveryId:i,instructionIndex:s=0}=e,c;typeof t=="string"?t.startsWith("0x")?c=ee.Buffer.from(t.substr(2),"hex"):c=ee.Buffer.from(t,"hex"):c=t,fe(c.length===Ha,`Address must be ${Ha} bytes but received ${c.length} bytes`);let u=1+O1,g=u,_=u+c.length,w=_+o.length+1,A=1,R=ee.Buffer.alloc(Wa.span+r.length);return Wa.encode({numSignatures:A,signatureOffset:_,signatureInstructionIndex:s,ethAddressOffset:g,ethAddressInstructionIndex:s,messageDataOffset:w,messageDataSize:r.length,messageInstructionIndex:s,signature:se(o),ethAddress:se(c),recoveryId:i},R),R.fill(se(r),Wa.span),new ge({keys:[],programId:n.programId,data:R})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:r,instructionIndex:o}=e;fe(t.length===dl,`Private key must be ${dl} bytes but received ${t.length} bytes`);try{let i=se(t),s=x1(i,!1).slice(1),c=ee.Buffer.from(Ca(se(r))),[u,g]=v1(c,i);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:u,recoveryId:g,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Io.programId=new q("KeccakSecp256k11111111111111111111111111111");var Vl,ic=new q("StakeConfig11111111111111111111111111111111"),vo=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},qr=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Vl=qr;qr.default=new Vl(0,0,q.default);var Hi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let r=S.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(ct))if(s.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t,lockup:r}=pe(ct.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new vo(new q(t.staker),new q(t.withdrawer)),lockup:new qr(r.unixTimestamp,r.epoch,new q(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),pe(ct.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:t,stakeAuthorizationType:r}=pe(ct.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new q(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:i}=pe(ct.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new q(i),newAuthorizedPubkey:new q(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t}=pe(ct.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),pe(ct.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=pe(ct.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),pe(ct.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(fn.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},ct=Object.freeze({Initialize:{index:0,layout:S.struct([S.u32("instruction"),Wm(),Gm()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),ae("newAuthorized"),S.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:S.struct([S.u32("instruction")])},Split:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Withdraw:{index:4,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Deactivate:{index:5,layout:S.struct([S.u32("instruction")])},Merge:{index:7,layout:S.struct([S.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:S.struct([S.u32("instruction"),ae("newAuthorized"),S.u32("stakeAuthorizationType"),sn("authoritySeed"),ae("authorityOwner")])}}),ql=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),fn=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:r,lockup:o}=e,i=o||qr.default,s=ct.Initialize,c=ce(s,{authorized:{staker:se(r.staker.toBuffer()),withdrawer:se(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:se(i.custodian.toBuffer())}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new ge(u)}static createAccountWithSeed(e){let t=new de;t.add(dt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:o,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static createAccount(e){let t=new de;t.add(dt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:r,authorized:o,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,i=ct.Delegate,s=ce(i);return new de().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:bo,isSigner:!1,isWritable:!1},{pubkey:ic,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:s}=e,c=ct.Authorize,u=ce(c,{newAuthorized:se(o.toBuffer()),stakeAuthorizationType:i.index}),g=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&g.push({pubkey:s,isSigner:!0,isWritable:!1}),new de().add({keys:g,programId:this.programId,data:u})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:u}=e,g=ct.AuthorizeWithSeed,_=ce(g,{newAuthorized:se(s.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:se(i.toBuffer())}),w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new de().add({keys:w,programId:this.programId,data:_})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:i}=e,s=ct.Split,c=ce(s,{lamports:i});return new ge({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){let r=new de;return r.add(dt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,basePubkey:s,seed:c,lamports:u}=e,g=new de;return g.add(dt.allocate({accountPubkey:i,basePubkey:s,seed:c,space:this.space,programId:this.programId})),t&&t>0&&g.add(dt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),g.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,lamports:u}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,i=ct.Merge,s=ce(i);return new de().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:bo,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:i,custodianPubkey:s}=e,c=ct.Withdraw,u=ce(c,{lamports:i}),g=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:bo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&g.push({pubkey:s,isSigner:!0,isWritable:!1}),new de().add({keys:g,programId:this.programId,data:u})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:r}=e,o=ct.Deactivate,i=ce(o);return new de().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};fn.programId=new q("Stake11111111111111111111111111111111111111");fn.space=200;var xo=class{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}},Wi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let r=S.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(ar))if(s.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:t}=pe(ar.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new xo(new q(t.nodePubkey),new q(t.authorizedVoter),new q(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:t,voteAuthorizationType:r}=pe(ar.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new q(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:i}}=pe(ar.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new q(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new q(o),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t}=pe(ar.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ln.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},ar=Object.freeze({InitializeAccount:{index:0,layout:S.struct([S.u32("instruction"),Ym()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),ae("newAuthorized"),S.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:S.struct([S.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:S.struct([S.u32("instruction"),jm()])}}),$l=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ln=class n{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:r,voteInit:o}=e,i=ar.InitializeAccount,s=ce(i,{voteInit:{nodePubkey:se(o.nodePubkey.toBuffer()),authorizedVoter:se(o.authorizedVoter.toBuffer()),authorizedWithdrawer:se(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ge(c)}static createAccount(e){let t=new de;return t.add(dt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,s=ar.Authorize,c=ce(s,{newAuthorized:se(o.toBuffer()),voteAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new de().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:c}=e,u=ar.AuthorizeWithSeed,g=ce(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:se(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:se(i.toBuffer()),voteAuthorizationType:s.index}}),_=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new de().add({keys:_,programId:this.programId,data:g})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:i}=e,s=ar.Withdraw,c=ce(s,{lamports:o}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new de().add({keys:u,programId:this.programId,data:c})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return n.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:o}=e,i=ar.UpdateValidatorIdentity,s=ce(i),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new de().add({keys:c,programId:this.programId,data:s})}};ln.programId=new q("Vote111111111111111111111111111111111111111");ln.space=3762;var sc=new q("Va1idator1nfo111111111111111111111111111111"),k1=M({name:F(),website:Z(F()),details:Z(F()),iconUrl:Z(F()),keybaseUsername:Z(F())}),Gi=class n{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Ct(t)!==2)return null;let o=[];for(let i=0;i<2;i++){let s=new q(Mt(t,0,jt)),c=ir(t)===1;o.push({publicKey:s,isSigner:c})}if(o[0].publicKey.equals(sc)&&o[1].isSigner){let i=sn().decode(ee.Buffer.from(t)),s=JSON.parse(i);return Ea(s,k1),new n(o[1].publicKey,s)}return null}},Hl=new q("Vote111111111111111111111111111111111111111"),N1=S.struct([ae("nodePubkey"),ae("authorizedWithdrawer"),S.u8("commission"),S.nu64(),S.seq(S.struct([S.nu64("slot"),S.u32("confirmationCount")]),S.offset(S.u32(),-8),"votes"),S.u8("rootSlotValid"),S.nu64("rootSlot"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),ae("authorizedVoter")]),S.offset(S.u32(),-8),"authorizedVoters"),S.struct([S.seq(S.struct([ae("authorizedPubkey"),S.nu64("epochOfLastAuthorizedSwitch"),S.nu64("targetEpoch")]),32,"buf"),S.nu64("idx"),S.u8("isEmpty")],"priorVoters"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),S.nu64("credits"),S.nu64("prevCredits")]),S.offset(S.u32(),-8),"epochCredits"),S.struct([S.nu64("slot"),S.nu64("timestamp")],"lastTimestamp")]),Yi=class n{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let r=N1.decode(se(e),4),o=r.rootSlot;return r.rootSlotValid||(o=null),new n({nodePubkey:new q(r.nodePubkey),authorizedWithdrawer:new q(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(T1),priorVoters:B1(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function T1({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new q(n)}}function gl({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new q(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function B1({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(gl),...n.slice(0,e).map(gl)]}var yl={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Wl(n,e){let t=e===!1?"http":"https";if(!n)return yl[t].devnet;let r=yl[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Gl(n,e,t,r){let o,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,i=r):i=t;let s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},c=await n.sendRawTransaction(e,s),u=i&&i.commitment,_=(await(o?n.confirmTransaction(o,u):n.confirmTransaction(c,u))).value;if(_.err)throw c!=null?new Vr({action:s?.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(_)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(_)})`);return c}var Yl=1e9;typeof window<"u"&&(window.Buffer=jl.Buffer,window.solanaWeb3=ac);return _s(L1);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
